
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Mapping aerobic habitat in trait space &#8212; Aerobic Saftey Margins for Marine Ectotherms</title>
    
  <link href="_static/css/theme.css" rel="stylesheet">
  <link href="_static/css/index.ff1ffe594081f20da1ef19478df9384b.css" rel="stylesheet">

    
  <link rel="stylesheet"
    href="_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-book-theme.css?digest=c3fdc42140077d1ad13ad2f1588a4309" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="_static/js/index.be7d3bbb2ef33a8344ce.js">

    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/togglebutton.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="_static/sphinx-book-theme.d59cb220de22ca1c485ebbdc042f0030.js"></script>
    <script async="async" src="https://unpkg.com/thebe@0.5.1/lib/index.js"></script>
    <script>
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="index.html">
      
      
      
      <h1 class="site-logo" id="site-title">Aerobic Saftey Margins for Marine Ectotherms</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Metabolic Index Traits
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="trait-space-description.html">
   Metabolic Index trait space
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="trait-space-joint-pdf.html">
   Generate a PDF describing occurence frequency in trait space
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="trait-space-obs-habitat-vol.html">
   Habitat volume in trait space
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="trait-space-ATmax.html">
   Compute AT
   <sub>
    max
   </sub>
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Earth System Model Data
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="data-assets-preprocessing.html">
   Overview
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="compute-drift-corr-cesm-le.html">
     Apply linear drift correction to upper ocean fields in CESM1-LE
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="compute-pO2-cesm-le.html">
     Compute
     <span class="math notranslate nohighlight">
      \(P_{\mathrm{O}_2}\)
     </span>
     from drift corrected fields
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="compute-habitat-cesm-le.html">
     Examine changes in viable habitat
    </a>
   </li>
  </ul>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Habitat Change
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="aerobic-habitat-change.html">
   Changes in aerobic habitat
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  References
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="references.html">
   References
  </a>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="_sources/aerobic-habitat-trait-space.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
                onclick="printPdf(this)" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/matt-long/aerobic-safety-margins"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        
        
    </div>
</div>

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        <a class="binder-button" href="https://mybinder.org/v2/gh/matt-long/aerobic-safety-margins/main?urlpath=tree/notebooks/aerobic-habitat-trait-space.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Launch Binder" data-toggle="tooltip"
                data-placement="left"><img class="binder-button-logo"
                    src="_static/images/logo_binder.svg"
                    alt="Interact on binder">Binder</button></a>
        
        
        
        
    </div>
</div>

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show noprint">
            
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Mapping aerobic habitat in trait space</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                    </div>
                </div>
            </div>
            
              <div>
                
  <div class="tex2jax_ignore mathjax_ignore section" id="mapping-aerobic-habitat-in-trait-space">
<h1>Mapping aerobic habitat in trait space<a class="headerlink" href="#mapping-aerobic-habitat-in-trait-space" title="Permalink to this headline">¶</a></h1>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%</span><span class="k">load_ext</span> autoreload
<span class="o">%</span><span class="k">autoreload</span> 2
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">intake</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">xarray</span> <span class="k">as</span> <span class="nn">xr</span>

<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">cartopy</span>
<span class="kn">import</span> <span class="nn">cartopy.crs</span> <span class="k">as</span> <span class="nn">ccrs</span>
<span class="kn">import</span> <span class="nn">cmocean</span>

<span class="kn">import</span> <span class="nn">data_collections</span> <span class="k">as</span> <span class="nn">dc</span>
<span class="kn">import</span> <span class="nn">funnel</span>
<span class="kn">import</span> <span class="nn">util</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/glade/work/mclong/miniconda3/envs/metabolic/lib/python3.7/site-packages/dask_jobqueue/core.py:20: FutureWarning: tmpfile is deprecated and will be removed in a future release. Please use dask.utils.tmpfile instead.
  from distributed.utils import tmpfile
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">try</span><span class="p">:</span>
    <span class="n">cluster</span>
    <span class="n">client</span>
<span class="k">except</span><span class="p">:</span>
    <span class="n">cluster</span><span class="p">,</span> <span class="n">client</span> <span class="o">=</span> <span class="n">util</span><span class="o">.</span><span class="n">get_ClusterClient</span><span class="p">(</span><span class="n">memory</span><span class="o">=</span><span class="s1">&#39;100GB&#39;</span><span class="p">)</span>
    <span class="n">cluster</span><span class="o">.</span><span class="n">scale</span><span class="p">(</span><span class="mi">32</span><span class="p">)</span>
<span class="n">client</span>    
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
    <div style="width: 24px; height: 24px; background-color: #e1e1e1; border: 3px solid #9D9D9D; border-radius: 5px; position: absolute;"> </div>
    <div style="margin-left: 48px;">
        <h3 style="margin-bottom: 0px;">Client</h3>
        <p style="color: #9D9D9D; margin-bottom: 0px;">Client-7357614a-89ac-11ec-9231-3cecef1b12bc</p>
        <table style="width: 100%; text-align: left;">

        <tr>

            <td style="text-align: left;"><strong>Connection method:</strong> Cluster object</td>
            <td style="text-align: left;"><strong>Cluster type:</strong> dask_jobqueue.PBSCluster</td>

        </tr>


            <tr>
                <td style="text-align: left;">
                    <strong>Dashboard: </strong> <a href="https://jupyterhub.hpc.ucar.edu/stable/user/mclong/calcs/proxy/8787/status" target="_blank">https://jupyterhub.hpc.ucar.edu/stable/user/mclong/calcs/proxy/8787/status</a>
                </td>
                <td style="text-align: left;"></td>
            </tr>


        </table>


            <details>
            <summary style="margin-bottom: 20px;"><h3 style="display: inline;">Cluster Info</h3></summary>
            <div class="jp-RenderedHTMLCommon jp-RenderedHTML jp-mod-trusted jp-OutputArea-output">
    <div style="width: 24px; height: 24px; background-color: #e1e1e1; border: 3px solid #9D9D9D; border-radius: 5px; position: absolute;">
    </div>
    <div style="margin-left: 48px;">
        <h3 style="margin-bottom: 0px; margin-top: 0px;">PBSCluster</h3>
        <p style="color: #9D9D9D; margin-bottom: 0px;">9e402268</p>
        <table style="width: 100%; text-align: left;">
            <tr>
                <td style="text-align: left;">
                    <strong>Dashboard:</strong> <a href="https://jupyterhub.hpc.ucar.edu/stable/user/mclong/calcs/proxy/8787/status" target="_blank">https://jupyterhub.hpc.ucar.edu/stable/user/mclong/calcs/proxy/8787/status</a>
                </td>
                <td style="text-align: left;">
                    <strong>Workers:</strong> 0
                </td>
            </tr>
            <tr>
                <td style="text-align: left;">
                    <strong>Total threads:</strong> 0
                </td>
                <td style="text-align: left;">
                    <strong>Total memory:</strong> 0 B
                </td>
            </tr>

        </table>

        <details>
            <summary style="margin-bottom: 20px;">
                <h3 style="display: inline;">Scheduler Info</h3>
            </summary>

            <div style="">
    <div>
        <div style="width: 24px; height: 24px; background-color: #FFF7E5; border: 3px solid #FF6132; border-radius: 5px; position: absolute;"> </div>
        <div style="margin-left: 48px;">
            <h3 style="margin-bottom: 0px;">Scheduler</h3>
            <p style="color: #9D9D9D; margin-bottom: 0px;">Scheduler-1586a817-023e-423d-b98d-02f12ee6e3d4</p>
            <table style="width: 100%; text-align: left;">
                <tr>
                    <td style="text-align: left;">
                        <strong>Comm:</strong> tcp://10.12.206.55:37414
                    </td>
                    <td style="text-align: left;">
                        <strong>Workers:</strong> 0
                    </td>
                </tr>
                <tr>
                    <td style="text-align: left;">
                        <strong>Dashboard:</strong> <a href="https://jupyterhub.hpc.ucar.edu/stable/user/mclong/calcs/proxy/8787/status" target="_blank">https://jupyterhub.hpc.ucar.edu/stable/user/mclong/calcs/proxy/8787/status</a>
                    </td>
                    <td style="text-align: left;">
                        <strong>Total threads:</strong> 0
                    </td>
                </tr>
                <tr>
                    <td style="text-align: left;">
                        <strong>Started:</strong> Just now
                    </td>
                    <td style="text-align: left;">
                        <strong>Total memory:</strong> 0 B
                    </td>
                </tr>
            </table>
        </div>
    </div>

    <details style="margin-left: 48px;">
        <summary style="margin-bottom: 20px;">
            <h3 style="display: inline;">Workers</h3>
        </summary>



    </details>
</div>

        </details>
    </div>
</div>
            </details>


    </div>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">catalog_json_file</span> <span class="o">=</span> <span class="n">funnel</span><span class="o">.</span><span class="n">to_intake_esm</span><span class="p">(</span><span class="n">agg_member_id</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="n">sub_spec</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span>
    <span class="n">name</span><span class="o">=</span><span class="s1">&#39;drift-corrected&#39;</span><span class="p">,</span>
    <span class="n">experiment</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;20C&#39;</span><span class="p">,</span> <span class="s1">&#39;RCP85&#39;</span><span class="p">],</span>
    <span class="n">member_id</span><span class="o">=</span><span class="n">dc</span><span class="o">.</span><span class="n">ocean_bgc_member_ids</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="mi">13</span><span class="p">],</span>
<span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;WARNING: TRUCATED ENS LIST&#39;</span><span class="p">)</span>
<span class="n">catalog</span> <span class="o">=</span> <span class="n">funnel</span><span class="o">.</span><span class="n">to_intake_esm</span><span class="p">(</span><span class="n">agg_member_id</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="o">**</span><span class="n">sub_spec</span><span class="p">)</span>
<span class="n">catalog</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>WARNING: TRUCATED ENS LIST
</pre></div>
</div>
<div class="output text_html"><p><strong>glade-cesm1-le catalog with 24 dataset(s) from 180 asset(s)</strong>:</p> <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>unique</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>experiment</th>
      <td>2</td>
    </tr>
    <tr>
      <th>component</th>
      <td>1</td>
    </tr>
    <tr>
      <th>stream</th>
      <td>1</td>
    </tr>
    <tr>
      <th>member_id</th>
      <td>12</td>
    </tr>
    <tr>
      <th>variable</th>
      <td>8</td>
    </tr>
    <tr>
      <th>name</th>
      <td>1</td>
    </tr>
    <tr>
      <th>path</th>
      <td>180</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">cat</span> <span class="o">=</span> <span class="n">catalog</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">variable</span><span class="o">=</span><span class="s1">&#39;Phi_prime&#39;</span><span class="p">)</span>
<span class="n">cat</span><span class="o">.</span><span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>experiment</th>
      <th>component</th>
      <th>stream</th>
      <th>member_id</th>
      <th>variable</th>
      <th>name</th>
      <th>path</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>20C</td>
      <td>ocn</td>
      <td>pop.h</td>
      <td>9</td>
      <td>Phi_prime</td>
      <td>drift-corrected</td>
      <td>/glade/scratch/mclong/ocean-metabolism/funnel-...</td>
    </tr>
    <tr>
      <th>1</th>
      <td>20C</td>
      <td>ocn</td>
      <td>pop.h</td>
      <td>10</td>
      <td>Phi_prime</td>
      <td>drift-corrected</td>
      <td>/glade/scratch/mclong/ocean-metabolism/funnel-...</td>
    </tr>
    <tr>
      <th>2</th>
      <td>20C</td>
      <td>ocn</td>
      <td>pop.h</td>
      <td>11</td>
      <td>Phi_prime</td>
      <td>drift-corrected</td>
      <td>/glade/scratch/mclong/ocean-metabolism/funnel-...</td>
    </tr>
    <tr>
      <th>3</th>
      <td>20C</td>
      <td>ocn</td>
      <td>pop.h</td>
      <td>12</td>
      <td>Phi_prime</td>
      <td>drift-corrected</td>
      <td>/glade/scratch/mclong/ocean-metabolism/funnel-...</td>
    </tr>
    <tr>
      <th>4</th>
      <td>20C</td>
      <td>ocn</td>
      <td>pop.h</td>
      <td>13</td>
      <td>Phi_prime</td>
      <td>drift-corrected</td>
      <td>/glade/scratch/mclong/ocean-metabolism/funnel-...</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">fix_dataset</span><span class="p">(</span><span class="n">ds</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">ds</span><span class="o">.</span><span class="n">set_coords</span><span class="p">([</span><span class="s1">&#39;TLAT&#39;</span><span class="p">,</span> <span class="s1">&#39;TLONG&#39;</span><span class="p">])</span>

<span class="n">cat</span> <span class="o">=</span> <span class="n">catalog</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">variable</span><span class="o">=</span><span class="s1">&#39;Phi_prime&#39;</span><span class="p">)</span>
<span class="n">dsets</span> <span class="o">=</span> <span class="n">cat</span><span class="o">.</span><span class="n">to_dataset_dict</span><span class="p">(</span><span class="n">preprocess</span><span class="o">=</span><span class="n">fix_dataset</span><span class="p">,</span> <span class="n">zarr_kwargs</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;use_cftime&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">})</span>
<span class="n">keys</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">dsets</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
<span class="n">dsets</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>--&gt; The keys in the returned dictionary of datasets are constructed as follows:
	&#39;experiment.component.stream.member_id.name&#39;
</pre></div>
</div>
<div class="output text_html">
<div>
    <style>
        /* Turns off some styling */
        progress {
            /* gets rid of default border in Firefox and Opera. */
            border: none;
            /* Needs to be in here for Safari polyfill so background images work as expected. */
            background-size: auto;
        }
        .progress-bar-interrupted, .progress-bar-interrupted::-webkit-progress-bar {
            background: #F44336;
        }
    </style>
  <progress value='24' class='' max='24' style='width:300px; height:20px; vertical-align: middle;'></progress>
  100.00% [24/24 00:38<00:00]
</div>
</div><div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{&#39;20C.ocn.pop.h.9.drift-corrected&#39;: &lt;xarray.Dataset&gt;
 Dimensions:    (Ac: 8, Eo: 7, nlat: 384, nlon: 320, time: 1032, z_t: 40)
 Coordinates:
   * Ac         (Ac) float64 0.0258 0.0399 0.0619 0.0959 ... 0.2303 0.3568 0.5528
   * Eo         (Eo) float64 -0.2 -0.0 0.2 0.4 0.6 0.8 1.0
     KMT        (nlat, nlon) float64 dask.array&lt;chunksize=(384, 320), meta=np.ndarray&gt;
     TAREA      (nlat, nlon) float64 dask.array&lt;chunksize=(384, 320), meta=np.ndarray&gt;
     TLAT       (nlat, nlon) float64 dask.array&lt;chunksize=(384, 320), meta=np.ndarray&gt;
     TLONG      (nlat, nlon) float64 dask.array&lt;chunksize=(384, 320), meta=np.ndarray&gt;
     ULAT       (nlat, nlon) float64 dask.array&lt;chunksize=(384, 320), meta=np.ndarray&gt;
     ULONG      (nlat, nlon) float64 dask.array&lt;chunksize=(384, 320), meta=np.ndarray&gt;
     dz         (z_t) float32 dask.array&lt;chunksize=(10,), meta=np.ndarray&gt;
   * time       (time) object 1920-01-17 00:29:59.999993 ... 2005-12-16 12:00:00
   * z_t        (z_t) float32 500.0 1.5e+03 2.5e+03 ... 8.788e+04 9.847e+04
 Dimensions without coordinates: nlat, nlon
 Data variables:
     Phi_prime  (Ac, Eo, time, z_t, nlat, nlon) float64 dask.array&lt;chunksize=(1, 1, 12, 10, 384, 320), meta=np.ndarray&gt;
 Attributes: (12/16)
     Conventions:               CF-1.0; http://www.cgd.ucar.edu/cms/eaton/netc...
     NCO:                       4.3.4
     calendar:                  All years have exactly  365 days.
     cell_methods:              cell_methods = time: mean ==&gt; the variable val...
     contents:                  Diagnostic and Prognostic Variables
     history:                   Sat Nov  9 10:12:33 2013: /glade/apps/opt/nco/...
     ...                        ...
     revision:                  $Id: tavg.F90 41939 2012-11-14 16:37:23Z mlevy...
     source:                    CCSM POP2, the CCSM Ocean Component
     start_time:                This dataset was created on 2013-10-22 at 15:1...
     tavg_sum:                  2592000.0
     tavg_sum_qflux:            2592000.0
     title:                     b.e11.B20TRC5CNBDRD.f09_g16.009,
 &#39;20C.ocn.pop.h.15.drift-corrected&#39;: &lt;xarray.Dataset&gt;
 Dimensions:    (Ac: 8, Eo: 7, nlat: 384, nlon: 320, time: 1032, z_t: 40)
 Coordinates:
   * Ac         (Ac) float64 0.0258 0.0399 0.0619 0.0959 ... 0.2303 0.3568 0.5528
   * Eo         (Eo) float64 -0.2 -0.0 0.2 0.4 0.6 0.8 1.0
     KMT        (nlat, nlon) float64 dask.array&lt;chunksize=(384, 320), meta=np.ndarray&gt;
     TAREA      (nlat, nlon) float64 dask.array&lt;chunksize=(384, 320), meta=np.ndarray&gt;
     TLAT       (nlat, nlon) float64 dask.array&lt;chunksize=(384, 320), meta=np.ndarray&gt;
     TLONG      (nlat, nlon) float64 dask.array&lt;chunksize=(384, 320), meta=np.ndarray&gt;
     ULAT       (nlat, nlon) float64 dask.array&lt;chunksize=(384, 320), meta=np.ndarray&gt;
     ULONG      (nlat, nlon) float64 dask.array&lt;chunksize=(384, 320), meta=np.ndarray&gt;
     dz         (z_t) float32 dask.array&lt;chunksize=(10,), meta=np.ndarray&gt;
   * time       (time) object 1920-01-17 00:29:59.999993 ... 2005-12-16 12:00:00
   * z_t        (z_t) float32 500.0 1.5e+03 2.5e+03 ... 8.788e+04 9.847e+04
 Dimensions without coordinates: nlat, nlon
 Data variables:
     Phi_prime  (Ac, Eo, time, z_t, nlat, nlon) float64 dask.array&lt;chunksize=(1, 1, 12, 10, 384, 320), meta=np.ndarray&gt;
 Attributes: (12/16)
     Conventions:               CF-1.0; http://www.cgd.ucar.edu/cms/eaton/netc...
     NCO:                       4.3.4
     calendar:                  All years have exactly  365 days.
     cell_methods:              cell_methods = time: mean ==&gt; the variable val...
     contents:                  Diagnostic and Prognostic Variables
     history:                   Tue Dec 17 10:19:30 2013: /glade/apps/opt/nco/...
     ...                        ...
     revision:                  $Id: tavg.F90 41939 2012-11-14 16:37:23Z mlevy...
     source:                    CCSM POP2, the CCSM Ocean Component
     start_time:                This dataset was created on 2013-11-30 at 09:0...
     tavg_sum:                  2592000.0
     tavg_sum_qflux:            2592000.0
     title:                     b.e11.B20TRC5CNBDRD.f09_g16.015,
 &#39;20C.ocn.pop.h.10.drift-corrected&#39;: &lt;xarray.Dataset&gt;
 Dimensions:    (Ac: 8, Eo: 7, nlat: 384, nlon: 320, time: 1032, z_t: 40)
 Coordinates:
   * Ac         (Ac) float64 0.0258 0.0399 0.0619 0.0959 ... 0.2303 0.3568 0.5528
   * Eo         (Eo) float64 -0.2 -0.0 0.2 0.4 0.6 0.8 1.0
     KMT        (nlat, nlon) float64 dask.array&lt;chunksize=(384, 320), meta=np.ndarray&gt;
     TAREA      (nlat, nlon) float64 dask.array&lt;chunksize=(384, 320), meta=np.ndarray&gt;
     TLAT       (nlat, nlon) float64 dask.array&lt;chunksize=(384, 320), meta=np.ndarray&gt;
     TLONG      (nlat, nlon) float64 dask.array&lt;chunksize=(384, 320), meta=np.ndarray&gt;
     ULAT       (nlat, nlon) float64 dask.array&lt;chunksize=(384, 320), meta=np.ndarray&gt;
     ULONG      (nlat, nlon) float64 dask.array&lt;chunksize=(384, 320), meta=np.ndarray&gt;
     dz         (z_t) float32 dask.array&lt;chunksize=(10,), meta=np.ndarray&gt;
   * time       (time) object 1920-01-17 00:29:59.999993 ... 2005-12-16 12:00:00
   * z_t        (z_t) float32 500.0 1.5e+03 2.5e+03 ... 8.788e+04 9.847e+04
 Dimensions without coordinates: nlat, nlon
 Data variables:
     Phi_prime  (Ac, Eo, time, z_t, nlat, nlon) float64 dask.array&lt;chunksize=(1, 1, 12, 10, 384, 320), meta=np.ndarray&gt;
 Attributes: (12/16)
     Conventions:               CF-1.0; http://www.cgd.ucar.edu/cms/eaton/netc...
     NCO:                       4.3.4
     calendar:                  All years have exactly  365 days.
     cell_methods:              cell_methods = time: mean ==&gt; the variable val...
     contents:                  Diagnostic and Prognostic Variables
     history:                   Sat Nov  9 14:01:45 2013: /glade/apps/opt/nco/...
     ...                        ...
     revision:                  $Id: tavg.F90 41939 2012-11-14 16:37:23Z mlevy...
     source:                    CCSM POP2, the CCSM Ocean Component
     start_time:                This dataset was created on 2013-10-23 at 04:4...
     tavg_sum:                  2592000.0
     tavg_sum_qflux:            2592000.0
     title:                     b.e11.B20TRC5CNBDRD.f09_g16.010,
 &#39;RCP85.ocn.pop.h.15.drift-corrected&#39;: &lt;xarray.Dataset&gt;
 Dimensions:    (Ac: 8, Eo: 7, nlat: 384, nlon: 320, time: 1140, z_t: 40)
 Coordinates:
   * Ac         (Ac) float64 0.0258 0.0399 0.0619 0.0959 ... 0.2303 0.3568 0.5528
   * Eo         (Eo) float64 -0.2 -0.0 0.2 0.4 0.6 0.8 1.0
     KMT        (nlat, nlon) float64 dask.array&lt;chunksize=(384, 320), meta=np.ndarray&gt;
     TAREA      (nlat, nlon) float64 dask.array&lt;chunksize=(384, 320), meta=np.ndarray&gt;
     TLAT       (nlat, nlon) float64 dask.array&lt;chunksize=(384, 320), meta=np.ndarray&gt;
     TLONG      (nlat, nlon) float64 dask.array&lt;chunksize=(384, 320), meta=np.ndarray&gt;
     ULAT       (nlat, nlon) float64 dask.array&lt;chunksize=(384, 320), meta=np.ndarray&gt;
     ULONG      (nlat, nlon) float64 dask.array&lt;chunksize=(384, 320), meta=np.ndarray&gt;
     dz         (z_t) float32 dask.array&lt;chunksize=(10,), meta=np.ndarray&gt;
   * time       (time) object 2006-01-17 00:29:59.999993 ... 2100-12-16 12:00:00
   * z_t        (z_t) float32 500.0 1.5e+03 2.5e+03 ... 8.788e+04 9.847e+04
 Dimensions without coordinates: nlat, nlon
 Data variables:
     Phi_prime  (Ac, Eo, time, z_t, nlat, nlon) float64 dask.array&lt;chunksize=(1, 1, 12, 10, 384, 320), meta=np.ndarray&gt;
 Attributes:
     Conventions:               CF-1.0; http://www.cgd.ucar.edu/cms/eaton/netc...
     NCO:                       4.3.4
     calendar:                  All years have exactly  365 days.
     cell_methods:              cell_methods = time: mean ==&gt; the variable val...
     contents:                  Diagnostic and Prognostic Variables
     history:                   Wed Dec 25 09:52:45 2013: /glade/apps/opt/nco/...
     intake_esm_dataset_key:    RCP85.ocn.pop.h.15.drift-corrected
     intake_esm_varname:        [&#39;Phi_prime&#39;]
     nco_openmp_thread_number:  1
     revision:                  $Id: tavg.F90 41939 2012-11-14 16:37:23Z mlevy...
     source:                    CCSM POP2, the CCSM Ocean Component
     title:                     b.e11.BRCP85C5CNBDRD.f09_g16.015,
 &#39;20C.ocn.pop.h.17.drift-corrected&#39;: &lt;xarray.Dataset&gt;
 Dimensions:    (Ac: 8, Eo: 7, nlat: 384, nlon: 320, time: 1032, z_t: 40)
 Coordinates:
   * Ac         (Ac) float64 0.0258 0.0399 0.0619 0.0959 ... 0.2303 0.3568 0.5528
   * Eo         (Eo) float64 -0.2 -0.0 0.2 0.4 0.6 0.8 1.0
     KMT        (nlat, nlon) float64 dask.array&lt;chunksize=(384, 320), meta=np.ndarray&gt;
     TAREA      (nlat, nlon) float64 dask.array&lt;chunksize=(384, 320), meta=np.ndarray&gt;
     TLAT       (nlat, nlon) float64 dask.array&lt;chunksize=(384, 320), meta=np.ndarray&gt;
     TLONG      (nlat, nlon) float64 dask.array&lt;chunksize=(384, 320), meta=np.ndarray&gt;
     ULAT       (nlat, nlon) float64 dask.array&lt;chunksize=(384, 320), meta=np.ndarray&gt;
     ULONG      (nlat, nlon) float64 dask.array&lt;chunksize=(384, 320), meta=np.ndarray&gt;
     dz         (z_t) float32 dask.array&lt;chunksize=(10,), meta=np.ndarray&gt;
   * time       (time) object 1920-01-17 00:29:59.999993 ... 2005-12-16 12:00:00
   * z_t        (z_t) float32 500.0 1.5e+03 2.5e+03 ... 8.788e+04 9.847e+04
 Dimensions without coordinates: nlat, nlon
 Data variables:
     Phi_prime  (Ac, Eo, time, z_t, nlat, nlon) float64 dask.array&lt;chunksize=(1, 1, 12, 10, 384, 320), meta=np.ndarray&gt;
 Attributes: (12/16)
     Conventions:               CF-1.0; http://www.cgd.ucar.edu/cms/eaton/netc...
     NCO:                       4.3.4
     calendar:                  All years have exactly  365 days.
     cell_methods:              cell_methods = time: mean ==&gt; the variable val...
     contents:                  Diagnostic and Prognostic Variables
     history:                   Thu Dec 26 02:22:16 2013: /glade/apps/opt/nco/...
     ...                        ...
     revision:                  $Id: tavg.F90 41939 2012-11-14 16:37:23Z mlevy...
     source:                    CCSM POP2, the CCSM Ocean Component
     start_time:                This dataset was created on 2013-12-14 at 08:3...
     tavg_sum:                  2592000.0
     tavg_sum_qflux:            2592000.0
     title:                     b.e11.B20TRC5CNBDRD.f09_g16.017,
 &#39;20C.ocn.pop.h.12.drift-corrected&#39;: &lt;xarray.Dataset&gt;
 Dimensions:    (Ac: 8, Eo: 7, nlat: 384, nlon: 320, time: 1032, z_t: 40)
 Coordinates:
   * Ac         (Ac) float64 0.0258 0.0399 0.0619 0.0959 ... 0.2303 0.3568 0.5528
   * Eo         (Eo) float64 -0.2 -0.0 0.2 0.4 0.6 0.8 1.0
     KMT        (nlat, nlon) float64 dask.array&lt;chunksize=(384, 320), meta=np.ndarray&gt;
     TAREA      (nlat, nlon) float64 dask.array&lt;chunksize=(384, 320), meta=np.ndarray&gt;
     TLAT       (nlat, nlon) float64 dask.array&lt;chunksize=(384, 320), meta=np.ndarray&gt;
     TLONG      (nlat, nlon) float64 dask.array&lt;chunksize=(384, 320), meta=np.ndarray&gt;
     ULAT       (nlat, nlon) float64 dask.array&lt;chunksize=(384, 320), meta=np.ndarray&gt;
     ULONG      (nlat, nlon) float64 dask.array&lt;chunksize=(384, 320), meta=np.ndarray&gt;
     dz         (z_t) float32 dask.array&lt;chunksize=(10,), meta=np.ndarray&gt;
   * time       (time) object 1920-01-17 00:29:59.999993 ... 2005-12-16 12:00:00
   * z_t        (z_t) float32 500.0 1.5e+03 2.5e+03 ... 8.788e+04 9.847e+04
 Dimensions without coordinates: nlat, nlon
 Data variables:
     Phi_prime  (Ac, Eo, time, z_t, nlat, nlon) float64 dask.array&lt;chunksize=(1, 1, 12, 10, 384, 320), meta=np.ndarray&gt;
 Attributes: (12/16)
     Conventions:               CF-1.0; http://www.cgd.ucar.edu/cms/eaton/netc...
     NCO:                       4.3.4
     calendar:                  All years have exactly  365 days.
     cell_methods:              cell_methods = time: mean ==&gt; the variable val...
     contents:                  Diagnostic and Prognostic Variables
     history:                   Sun Nov 24 03:44:40 2013: /glade/apps/opt/nco/...
     ...                        ...
     revision:                  $Id: tavg.F90 41939 2012-11-14 16:37:23Z mlevy...
     source:                    CCSM POP2, the CCSM Ocean Component
     start_time:                This dataset was created on 2013-11-13 at 23:5...
     tavg_sum:                  2592000.0
     tavg_sum_qflux:            2592000.0
     title:                     b.e11.B20TRC5CNBDRD.f09_g16.012,
 &#39;20C.ocn.pop.h.19.drift-corrected&#39;: &lt;xarray.Dataset&gt;
 Dimensions:    (Ac: 8, Eo: 7, nlat: 384, nlon: 320, time: 1032, z_t: 40)
 Coordinates:
   * Ac         (Ac) float64 0.0258 0.0399 0.0619 0.0959 ... 0.2303 0.3568 0.5528
   * Eo         (Eo) float64 -0.2 -0.0 0.2 0.4 0.6 0.8 1.0
     KMT        (nlat, nlon) float64 dask.array&lt;chunksize=(384, 320), meta=np.ndarray&gt;
     TAREA      (nlat, nlon) float64 dask.array&lt;chunksize=(384, 320), meta=np.ndarray&gt;
     TLAT       (nlat, nlon) float64 dask.array&lt;chunksize=(384, 320), meta=np.ndarray&gt;
     TLONG      (nlat, nlon) float64 dask.array&lt;chunksize=(384, 320), meta=np.ndarray&gt;
     ULAT       (nlat, nlon) float64 dask.array&lt;chunksize=(384, 320), meta=np.ndarray&gt;
     ULONG      (nlat, nlon) float64 dask.array&lt;chunksize=(384, 320), meta=np.ndarray&gt;
     dz         (z_t) float32 dask.array&lt;chunksize=(10,), meta=np.ndarray&gt;
   * time       (time) object 1920-01-17 00:29:59.999993 ... 2005-12-16 12:00:00
   * z_t        (z_t) float32 500.0 1.5e+03 2.5e+03 ... 8.788e+04 9.847e+04
 Dimensions without coordinates: nlat, nlon
 Data variables:
     Phi_prime  (Ac, Eo, time, z_t, nlat, nlon) float64 dask.array&lt;chunksize=(1, 1, 12, 10, 384, 320), meta=np.ndarray&gt;
 Attributes: (12/16)
     Conventions:               CF-1.0; http://www.cgd.ucar.edu/cms/eaton/netc...
     NCO:                       4.3.4
     calendar:                  All years have exactly  365 days.
     cell_methods:              cell_methods = time: mean ==&gt; the variable val...
     contents:                  Diagnostic and Prognostic Variables
     history:                   Fri Jan  3 10:21:56 2014: /glade/apps/opt/nco/...
     ...                        ...
     revision:                  $Id: tavg.F90 41939 2012-11-14 16:37:23Z mlevy...
     source:                    CCSM POP2, the CCSM Ocean Component
     start_time:                This dataset was created on 2013-12-21 at 05:4...
     tavg_sum:                  2592000.0
     tavg_sum_qflux:            2592000.0
     title:                     b.e11.B20TRC5CNBDRD.f09_g16.019,
 &#39;RCP85.ocn.pop.h.9.drift-corrected&#39;: &lt;xarray.Dataset&gt;
 Dimensions:    (Ac: 8, Eo: 7, nlat: 384, nlon: 320, time: 1140, z_t: 40)
 Coordinates:
   * Ac         (Ac) float64 0.0258 0.0399 0.0619 0.0959 ... 0.2303 0.3568 0.5528
   * Eo         (Eo) float64 -0.2 -0.0 0.2 0.4 0.6 0.8 1.0
     KMT        (nlat, nlon) float64 dask.array&lt;chunksize=(384, 320), meta=np.ndarray&gt;
     TAREA      (nlat, nlon) float64 dask.array&lt;chunksize=(384, 320), meta=np.ndarray&gt;
     TLAT       (nlat, nlon) float64 dask.array&lt;chunksize=(384, 320), meta=np.ndarray&gt;
     TLONG      (nlat, nlon) float64 dask.array&lt;chunksize=(384, 320), meta=np.ndarray&gt;
     ULAT       (nlat, nlon) float64 dask.array&lt;chunksize=(384, 320), meta=np.ndarray&gt;
     ULONG      (nlat, nlon) float64 dask.array&lt;chunksize=(384, 320), meta=np.ndarray&gt;
     dz         (z_t) float32 dask.array&lt;chunksize=(10,), meta=np.ndarray&gt;
   * time       (time) object 2006-01-17 00:29:59.999993 ... 2100-12-16 12:00:00
   * z_t        (z_t) float32 500.0 1.5e+03 2.5e+03 ... 8.788e+04 9.847e+04
 Dimensions without coordinates: nlat, nlon
 Data variables:
     Phi_prime  (Ac, Eo, time, z_t, nlat, nlon) float64 dask.array&lt;chunksize=(1, 1, 12, 10, 384, 320), meta=np.ndarray&gt;
 Attributes:
     Conventions:               CF-1.0; http://www.cgd.ucar.edu/cms/eaton/netc...
     NCO:                       4.3.4
     calendar:                  All years have exactly  365 days.
     cell_methods:              cell_methods = time: mean ==&gt; the variable val...
     contents:                  Diagnostic and Prognostic Variables
     history:                   Sun Nov 24 17:48:59 2013: /glade/apps/opt/nco/...
     intake_esm_dataset_key:    RCP85.ocn.pop.h.9.drift-corrected
     intake_esm_varname:        [&#39;Phi_prime&#39;]
     nco_openmp_thread_number:  1
     revision:                  $Id: tavg.F90 41939 2012-11-14 16:37:23Z mlevy...
     source:                    CCSM POP2, the CCSM Ocean Component
     title:                     b.e11.BRCP85C5CNBDRD.f09_g16.009,
 &#39;RCP85.ocn.pop.h.19.drift-corrected&#39;: &lt;xarray.Dataset&gt;
 Dimensions:    (Ac: 8, Eo: 7, nlat: 384, nlon: 320, time: 1140, z_t: 40)
 Coordinates:
   * Ac         (Ac) float64 0.0258 0.0399 0.0619 0.0959 ... 0.2303 0.3568 0.5528
   * Eo         (Eo) float64 -0.2 -0.0 0.2 0.4 0.6 0.8 1.0
     KMT        (nlat, nlon) float64 dask.array&lt;chunksize=(384, 320), meta=np.ndarray&gt;
     TAREA      (nlat, nlon) float64 dask.array&lt;chunksize=(384, 320), meta=np.ndarray&gt;
     TLAT       (nlat, nlon) float64 dask.array&lt;chunksize=(384, 320), meta=np.ndarray&gt;
     TLONG      (nlat, nlon) float64 dask.array&lt;chunksize=(384, 320), meta=np.ndarray&gt;
     ULAT       (nlat, nlon) float64 dask.array&lt;chunksize=(384, 320), meta=np.ndarray&gt;
     ULONG      (nlat, nlon) float64 dask.array&lt;chunksize=(384, 320), meta=np.ndarray&gt;
     dz         (z_t) float32 dask.array&lt;chunksize=(10,), meta=np.ndarray&gt;
   * time       (time) object 2006-01-17 00:29:59.999993 ... 2100-12-16 12:00:00
   * z_t        (z_t) float32 500.0 1.5e+03 2.5e+03 ... 8.788e+04 9.847e+04
 Dimensions without coordinates: nlat, nlon
 Data variables:
     Phi_prime  (Ac, Eo, time, z_t, nlat, nlon) float64 dask.array&lt;chunksize=(1, 1, 12, 10, 384, 320), meta=np.ndarray&gt;
 Attributes:
     Conventions:               CF-1.0; http://www.cgd.ucar.edu/cms/eaton/netc...
     NCO:                       4.3.4
     calendar:                  All years have exactly  365 days.
     cell_methods:              cell_methods = time: mean ==&gt; the variable val...
     contents:                  Diagnostic and Prognostic Variables
     history:                   Tue Jan  7 11:04:45 2014: /glade/apps/opt/nco/...
     intake_esm_dataset_key:    RCP85.ocn.pop.h.19.drift-corrected
     intake_esm_varname:        [&#39;Phi_prime&#39;]
     nco_openmp_thread_number:  1
     revision:                  $Id: tavg.F90 41939 2012-11-14 16:37:23Z mlevy...
     source:                    CCSM POP2, the CCSM Ocean Component
     title:                     b.e11.BRCP85C5CNBDRD.f09_g16.019,
 &#39;RCP85.ocn.pop.h.16.drift-corrected&#39;: &lt;xarray.Dataset&gt;
 Dimensions:    (Ac: 8, Eo: 7, nlat: 384, nlon: 320, time: 1140, z_t: 40)
 Coordinates:
   * Ac         (Ac) float64 0.0258 0.0399 0.0619 0.0959 ... 0.2303 0.3568 0.5528
   * Eo         (Eo) float64 -0.2 -0.0 0.2 0.4 0.6 0.8 1.0
     KMT        (nlat, nlon) float64 dask.array&lt;chunksize=(384, 320), meta=np.ndarray&gt;
     TAREA      (nlat, nlon) float64 dask.array&lt;chunksize=(384, 320), meta=np.ndarray&gt;
     TLAT       (nlat, nlon) float64 dask.array&lt;chunksize=(384, 320), meta=np.ndarray&gt;
     TLONG      (nlat, nlon) float64 dask.array&lt;chunksize=(384, 320), meta=np.ndarray&gt;
     ULAT       (nlat, nlon) float64 dask.array&lt;chunksize=(384, 320), meta=np.ndarray&gt;
     ULONG      (nlat, nlon) float64 dask.array&lt;chunksize=(384, 320), meta=np.ndarray&gt;
     dz         (z_t) float32 dask.array&lt;chunksize=(10,), meta=np.ndarray&gt;
   * time       (time) object 2006-01-17 00:29:59.999993 ... 2100-12-16 12:00:00
   * z_t        (z_t) float32 500.0 1.5e+03 2.5e+03 ... 8.788e+04 9.847e+04
 Dimensions without coordinates: nlat, nlon
 Data variables:
     Phi_prime  (Ac, Eo, time, z_t, nlat, nlon) float64 dask.array&lt;chunksize=(1, 1, 12, 10, 384, 320), meta=np.ndarray&gt;
 Attributes:
     Conventions:               CF-1.0; http://www.cgd.ucar.edu/cms/eaton/netc...
     NCO:                       4.3.4
     calendar:                  All years have exactly  365 days.
     cell_methods:              cell_methods = time: mean ==&gt; the variable val...
     contents:                  Diagnostic and Prognostic Variables
     history:                   Tue Dec 24 15:10:28 2013: /glade/apps/opt/nco/...
     intake_esm_dataset_key:    RCP85.ocn.pop.h.16.drift-corrected
     intake_esm_varname:        [&#39;Phi_prime&#39;]
     nco_openmp_thread_number:  1
     revision:                  $Id: tavg.F90 41939 2012-11-14 16:37:23Z mlevy...
     source:                    CCSM POP2, the CCSM Ocean Component
     title:                     b.e11.BRCP85C5CNBDRD.f09_g16.016,
 &#39;RCP85.ocn.pop.h.20.drift-corrected&#39;: &lt;xarray.Dataset&gt;
 Dimensions:    (Ac: 8, Eo: 7, nlat: 384, nlon: 320, time: 1140, z_t: 40)
 Coordinates:
   * Ac         (Ac) float64 0.0258 0.0399 0.0619 0.0959 ... 0.2303 0.3568 0.5528
   * Eo         (Eo) float64 -0.2 -0.0 0.2 0.4 0.6 0.8 1.0
     KMT        (nlat, nlon) float64 dask.array&lt;chunksize=(384, 320), meta=np.ndarray&gt;
     TAREA      (nlat, nlon) float64 dask.array&lt;chunksize=(384, 320), meta=np.ndarray&gt;
     TLAT       (nlat, nlon) float64 dask.array&lt;chunksize=(384, 320), meta=np.ndarray&gt;
     TLONG      (nlat, nlon) float64 dask.array&lt;chunksize=(384, 320), meta=np.ndarray&gt;
     ULAT       (nlat, nlon) float64 dask.array&lt;chunksize=(384, 320), meta=np.ndarray&gt;
     ULONG      (nlat, nlon) float64 dask.array&lt;chunksize=(384, 320), meta=np.ndarray&gt;
     dz         (z_t) float32 dask.array&lt;chunksize=(10,), meta=np.ndarray&gt;
   * time       (time) object 2006-01-17 00:29:59.999993 ... 2100-12-16 12:00:00
   * z_t        (z_t) float32 500.0 1.5e+03 2.5e+03 ... 8.788e+04 9.847e+04
 Dimensions without coordinates: nlat, nlon
 Data variables:
     Phi_prime  (Ac, Eo, time, z_t, nlat, nlon) float64 dask.array&lt;chunksize=(1, 1, 12, 10, 384, 320), meta=np.ndarray&gt;
 Attributes:
     Conventions:               CF-1.0; http://www.cgd.ucar.edu/cms/eaton/netc...
     NCO:                       4.3.4
     calendar:                  All years have exactly  365 days.
     cell_methods:              cell_methods = time: mean ==&gt; the variable val...
     contents:                  Diagnostic and Prognostic Variables
     history:                   Wed Jan 15 06:07:16 2014: /glade/apps/opt/nco/...
     intake_esm_dataset_key:    RCP85.ocn.pop.h.20.drift-corrected
     intake_esm_varname:        [&#39;Phi_prime&#39;]
     nco_openmp_thread_number:  1
     revision:                  $Id: tavg.F90 41939 2012-11-14 16:37:23Z mlevy...
     source:                    CCSM POP2, the CCSM Ocean Component
     title:                     b.e11.BRCP85C5CNBDRD.f09_g16.020,
 &#39;RCP85.ocn.pop.h.11.drift-corrected&#39;: &lt;xarray.Dataset&gt;
 Dimensions:    (Ac: 8, Eo: 7, nlat: 384, nlon: 320, time: 1140, z_t: 40)
 Coordinates:
   * Ac         (Ac) float64 0.0258 0.0399 0.0619 0.0959 ... 0.2303 0.3568 0.5528
   * Eo         (Eo) float64 -0.2 -0.0 0.2 0.4 0.6 0.8 1.0
     KMT        (nlat, nlon) float64 dask.array&lt;chunksize=(384, 320), meta=np.ndarray&gt;
     TAREA      (nlat, nlon) float64 dask.array&lt;chunksize=(384, 320), meta=np.ndarray&gt;
     TLAT       (nlat, nlon) float64 dask.array&lt;chunksize=(384, 320), meta=np.ndarray&gt;
     TLONG      (nlat, nlon) float64 dask.array&lt;chunksize=(384, 320), meta=np.ndarray&gt;
     ULAT       (nlat, nlon) float64 dask.array&lt;chunksize=(384, 320), meta=np.ndarray&gt;
     ULONG      (nlat, nlon) float64 dask.array&lt;chunksize=(384, 320), meta=np.ndarray&gt;
     dz         (z_t) float32 dask.array&lt;chunksize=(10,), meta=np.ndarray&gt;
   * time       (time) object 2006-01-17 00:29:59.999993 ... 2100-12-16 12:00:00
   * z_t        (z_t) float32 500.0 1.5e+03 2.5e+03 ... 8.788e+04 9.847e+04
 Dimensions without coordinates: nlat, nlon
 Data variables:
     Phi_prime  (Ac, Eo, time, z_t, nlat, nlon) float64 dask.array&lt;chunksize=(1, 1, 12, 10, 384, 320), meta=np.ndarray&gt;
 Attributes:
     Conventions:               CF-1.0; http://www.cgd.ucar.edu/cms/eaton/netc...
     NCO:                       4.3.4
     calendar:                  All years have exactly  365 days.
     cell_methods:              cell_methods = time: mean ==&gt; the variable val...
     contents:                  Diagnostic and Prognostic Variables
     history:                   Wed Nov 27 10:53:34 2013: /glade/apps/opt/nco/...
     intake_esm_dataset_key:    RCP85.ocn.pop.h.11.drift-corrected
     intake_esm_varname:        [&#39;Phi_prime&#39;]
     nco_openmp_thread_number:  1
     revision:                  $Id: tavg.F90 41939 2012-11-14 16:37:23Z mlevy...
     source:                    CCSM POP2, the CCSM Ocean Component
     title:                     b.e11.BRCP85C5CNBDRD.f09_g16.011,
 &#39;20C.ocn.pop.h.20.drift-corrected&#39;: &lt;xarray.Dataset&gt;
 Dimensions:    (Ac: 8, Eo: 7, nlat: 384, nlon: 320, time: 1032, z_t: 40)
 Coordinates:
   * Ac         (Ac) float64 0.0258 0.0399 0.0619 0.0959 ... 0.2303 0.3568 0.5528
   * Eo         (Eo) float64 -0.2 -0.0 0.2 0.4 0.6 0.8 1.0
     KMT        (nlat, nlon) float64 dask.array&lt;chunksize=(384, 320), meta=np.ndarray&gt;
     TAREA      (nlat, nlon) float64 dask.array&lt;chunksize=(384, 320), meta=np.ndarray&gt;
     TLAT       (nlat, nlon) float64 dask.array&lt;chunksize=(384, 320), meta=np.ndarray&gt;
     TLONG      (nlat, nlon) float64 dask.array&lt;chunksize=(384, 320), meta=np.ndarray&gt;
     ULAT       (nlat, nlon) float64 dask.array&lt;chunksize=(384, 320), meta=np.ndarray&gt;
     ULONG      (nlat, nlon) float64 dask.array&lt;chunksize=(384, 320), meta=np.ndarray&gt;
     dz         (z_t) float32 dask.array&lt;chunksize=(10,), meta=np.ndarray&gt;
   * time       (time) object 1920-01-17 00:29:59.999993 ... 2005-12-16 12:00:00
   * z_t        (z_t) float32 500.0 1.5e+03 2.5e+03 ... 8.788e+04 9.847e+04
 Dimensions without coordinates: nlat, nlon
 Data variables:
     Phi_prime  (Ac, Eo, time, z_t, nlat, nlon) float64 dask.array&lt;chunksize=(1, 1, 12, 10, 384, 320), meta=np.ndarray&gt;
 Attributes: (12/16)
     Conventions:               CF-1.0; http://www.cgd.ucar.edu/cms/eaton/netc...
     NCO:                       4.3.4
     calendar:                  All years have exactly  365 days.
     cell_methods:              cell_methods = time: mean ==&gt; the variable val...
     contents:                  Diagnostic and Prognostic Variables
     history:                   Wed Jan  8 04:22:53 2014: /glade/apps/opt/nco/...
     ...                        ...
     revision:                  $Id: tavg.F90 41939 2012-11-14 16:37:23Z mlevy...
     source:                    CCSM POP2, the CCSM Ocean Component
     start_time:                This dataset was created on 2013-12-28 at 06:5...
     tavg_sum:                  2592000.0
     tavg_sum_qflux:            2592000.0
     title:                     b.e11.B20TRC5CNBDRD.f09_g16.020,
 &#39;20C.ocn.pop.h.13.drift-corrected&#39;: &lt;xarray.Dataset&gt;
 Dimensions:    (Ac: 8, Eo: 7, nlat: 384, nlon: 320, time: 1032, z_t: 40)
 Coordinates:
   * Ac         (Ac) float64 0.0258 0.0399 0.0619 0.0959 ... 0.2303 0.3568 0.5528
   * Eo         (Eo) float64 -0.2 -0.0 0.2 0.4 0.6 0.8 1.0
     KMT        (nlat, nlon) float64 dask.array&lt;chunksize=(384, 320), meta=np.ndarray&gt;
     TAREA      (nlat, nlon) float64 dask.array&lt;chunksize=(384, 320), meta=np.ndarray&gt;
     TLAT       (nlat, nlon) float64 dask.array&lt;chunksize=(384, 320), meta=np.ndarray&gt;
     TLONG      (nlat, nlon) float64 dask.array&lt;chunksize=(384, 320), meta=np.ndarray&gt;
     ULAT       (nlat, nlon) float64 dask.array&lt;chunksize=(384, 320), meta=np.ndarray&gt;
     ULONG      (nlat, nlon) float64 dask.array&lt;chunksize=(384, 320), meta=np.ndarray&gt;
     dz         (z_t) float32 dask.array&lt;chunksize=(10,), meta=np.ndarray&gt;
   * time       (time) object 1920-01-17 00:29:59.999993 ... 2005-12-16 12:00:00
   * z_t        (z_t) float32 500.0 1.5e+03 2.5e+03 ... 8.788e+04 9.847e+04
 Dimensions without coordinates: nlat, nlon
 Data variables:
     Phi_prime  (Ac, Eo, time, z_t, nlat, nlon) float64 dask.array&lt;chunksize=(1, 1, 12, 10, 384, 320), meta=np.ndarray&gt;
 Attributes: (12/16)
     Conventions:               CF-1.0; http://www.cgd.ucar.edu/cms/eaton/netc...
     NCO:                       4.3.4
     calendar:                  All years have exactly  365 days.
     cell_methods:              cell_methods = time: mean ==&gt; the variable val...
     contents:                  Diagnostic and Prognostic Variables
     history:                   Mon Dec  9 10:10:06 2013: /glade/apps/opt/nco/...
     ...                        ...
     revision:                  $Id: tavg.F90 41939 2012-11-14 16:37:23Z mlevy...
     source:                    CCSM POP2, the CCSM Ocean Component
     start_time:                This dataset was created on 2013-11-21 at 12:1...
     tavg_sum:                  2592000.0
     tavg_sum_qflux:            2592000.0
     title:                     b.e11.B20TRC5CNBDRD.f09_g16.013,
 &#39;RCP85.ocn.pop.h.18.drift-corrected&#39;: &lt;xarray.Dataset&gt;
 Dimensions:    (Ac: 8, Eo: 7, nlat: 384, nlon: 320, time: 1140, z_t: 40)
 Coordinates:
   * Ac         (Ac) float64 0.0258 0.0399 0.0619 0.0959 ... 0.2303 0.3568 0.5528
   * Eo         (Eo) float64 -0.2 -0.0 0.2 0.4 0.6 0.8 1.0
     KMT        (nlat, nlon) float64 dask.array&lt;chunksize=(384, 320), meta=np.ndarray&gt;
     TAREA      (nlat, nlon) float64 dask.array&lt;chunksize=(384, 320), meta=np.ndarray&gt;
     TLAT       (nlat, nlon) float64 dask.array&lt;chunksize=(384, 320), meta=np.ndarray&gt;
     TLONG      (nlat, nlon) float64 dask.array&lt;chunksize=(384, 320), meta=np.ndarray&gt;
     ULAT       (nlat, nlon) float64 dask.array&lt;chunksize=(384, 320), meta=np.ndarray&gt;
     ULONG      (nlat, nlon) float64 dask.array&lt;chunksize=(384, 320), meta=np.ndarray&gt;
     dz         (z_t) float32 dask.array&lt;chunksize=(10,), meta=np.ndarray&gt;
   * time       (time) object 2006-01-17 00:29:59.999993 ... 2100-12-16 12:00:00
   * z_t        (z_t) float32 500.0 1.5e+03 2.5e+03 ... 8.788e+04 9.847e+04
 Dimensions without coordinates: nlat, nlon
 Data variables:
     Phi_prime  (Ac, Eo, time, z_t, nlat, nlon) float64 dask.array&lt;chunksize=(1, 1, 12, 10, 384, 320), meta=np.ndarray&gt;
 Attributes:
     Conventions:             CF-1.0; http://www.cgd.ucar.edu/cms/eaton/netcdf...
     calendar:                All years have exactly  365 days.
     cell_methods:            cell_methods = time: mean ==&gt; the variable value...
     contents:                Diagnostic and Prognostic Variables
     history:                 none
     intake_esm_dataset_key:  RCP85.ocn.pop.h.18.drift-corrected
     intake_esm_varname:      [&#39;Phi_prime&#39;]
     revision:                $Id: tavg.F90 41939 2012-11-14 16:37:23Z mlevy@u...
     source:                  CCSM POP2, the CCSM Ocean Component
     title:                   b.e11.BRCP85C5CNBDRD.f09_g16.018,
 &#39;20C.ocn.pop.h.16.drift-corrected&#39;: &lt;xarray.Dataset&gt;
 Dimensions:    (Ac: 8, Eo: 7, nlat: 384, nlon: 320, time: 1032, z_t: 40)
 Coordinates:
   * Ac         (Ac) float64 0.0258 0.0399 0.0619 0.0959 ... 0.2303 0.3568 0.5528
   * Eo         (Eo) float64 -0.2 -0.0 0.2 0.4 0.6 0.8 1.0
     KMT        (nlat, nlon) float64 dask.array&lt;chunksize=(384, 320), meta=np.ndarray&gt;
     TAREA      (nlat, nlon) float64 dask.array&lt;chunksize=(384, 320), meta=np.ndarray&gt;
     TLAT       (nlat, nlon) float64 dask.array&lt;chunksize=(384, 320), meta=np.ndarray&gt;
     TLONG      (nlat, nlon) float64 dask.array&lt;chunksize=(384, 320), meta=np.ndarray&gt;
     ULAT       (nlat, nlon) float64 dask.array&lt;chunksize=(384, 320), meta=np.ndarray&gt;
     ULONG      (nlat, nlon) float64 dask.array&lt;chunksize=(384, 320), meta=np.ndarray&gt;
     dz         (z_t) float32 dask.array&lt;chunksize=(10,), meta=np.ndarray&gt;
   * time       (time) object 1920-01-17 00:29:59.999993 ... 2005-12-16 12:00:00
   * z_t        (z_t) float32 500.0 1.5e+03 2.5e+03 ... 8.788e+04 9.847e+04
 Dimensions without coordinates: nlat, nlon
 Data variables:
     Phi_prime  (Ac, Eo, time, z_t, nlat, nlon) float64 dask.array&lt;chunksize=(1, 1, 12, 10, 384, 320), meta=np.ndarray&gt;
 Attributes: (12/16)
     Conventions:               CF-1.0; http://www.cgd.ucar.edu/cms/eaton/netc...
     NCO:                       4.3.4
     calendar:                  All years have exactly  365 days.
     cell_methods:              cell_methods = time: mean ==&gt; the variable val...
     contents:                  Diagnostic and Prognostic Variables
     history:                   Wed Dec 18 20:16:20 2013: /glade/apps/opt/nco/...
     ...                        ...
     revision:                  $Id: tavg.F90 41939 2012-11-14 16:37:23Z mlevy...
     source:                    CCSM POP2, the CCSM Ocean Component
     start_time:                This dataset was created on 2013-12-07 at 19:2...
     tavg_sum:                  2592000.0
     tavg_sum_qflux:            2592000.0
     title:                     b.e11.B20TRC5CNBDRD.f09_g16.016,
 &#39;RCP85.ocn.pop.h.17.drift-corrected&#39;: &lt;xarray.Dataset&gt;
 Dimensions:    (Ac: 8, Eo: 7, nlat: 384, nlon: 320, time: 1140, z_t: 40)
 Coordinates:
   * Ac         (Ac) float64 0.0258 0.0399 0.0619 0.0959 ... 0.2303 0.3568 0.5528
   * Eo         (Eo) float64 -0.2 -0.0 0.2 0.4 0.6 0.8 1.0
     KMT        (nlat, nlon) float64 dask.array&lt;chunksize=(384, 320), meta=np.ndarray&gt;
     TAREA      (nlat, nlon) float64 dask.array&lt;chunksize=(384, 320), meta=np.ndarray&gt;
     TLAT       (nlat, nlon) float64 dask.array&lt;chunksize=(384, 320), meta=np.ndarray&gt;
     TLONG      (nlat, nlon) float64 dask.array&lt;chunksize=(384, 320), meta=np.ndarray&gt;
     ULAT       (nlat, nlon) float64 dask.array&lt;chunksize=(384, 320), meta=np.ndarray&gt;
     ULONG      (nlat, nlon) float64 dask.array&lt;chunksize=(384, 320), meta=np.ndarray&gt;
     dz         (z_t) float32 dask.array&lt;chunksize=(10,), meta=np.ndarray&gt;
   * time       (time) object 2006-01-17 00:29:59.999993 ... 2100-12-16 12:00:00
   * z_t        (z_t) float32 500.0 1.5e+03 2.5e+03 ... 8.788e+04 9.847e+04
 Dimensions without coordinates: nlat, nlon
 Data variables:
     Phi_prime  (Ac, Eo, time, z_t, nlat, nlon) float64 dask.array&lt;chunksize=(1, 1, 12, 10, 384, 320), meta=np.ndarray&gt;
 Attributes:
     Conventions:               CF-1.0; http://www.cgd.ucar.edu/cms/eaton/netc...
     NCO:                       4.3.4
     calendar:                  All years have exactly  365 days.
     cell_methods:              cell_methods = time: mean ==&gt; the variable val...
     contents:                  Diagnostic and Prognostic Variables
     history:                   Thu Jan  2 15:33:34 2014: /glade/apps/opt/nco/...
     intake_esm_dataset_key:    RCP85.ocn.pop.h.17.drift-corrected
     intake_esm_varname:        [&#39;Phi_prime&#39;]
     nco_openmp_thread_number:  1
     revision:                  $Id: tavg.F90 41939 2012-11-14 16:37:23Z mlevy...
     source:                    CCSM POP2, the CCSM Ocean Component
     title:                     b.e11.BRCP85C5CNBDRD.f09_g16.017,
 &#39;RCP85.ocn.pop.h.13.drift-corrected&#39;: &lt;xarray.Dataset&gt;
 Dimensions:    (Ac: 8, Eo: 7, nlat: 384, nlon: 320, time: 1140, z_t: 40)
 Coordinates:
   * Ac         (Ac) float64 0.0258 0.0399 0.0619 0.0959 ... 0.2303 0.3568 0.5528
   * Eo         (Eo) float64 -0.2 -0.0 0.2 0.4 0.6 0.8 1.0
     KMT        (nlat, nlon) float64 dask.array&lt;chunksize=(384, 320), meta=np.ndarray&gt;
     TAREA      (nlat, nlon) float64 dask.array&lt;chunksize=(384, 320), meta=np.ndarray&gt;
     TLAT       (nlat, nlon) float64 dask.array&lt;chunksize=(384, 320), meta=np.ndarray&gt;
     TLONG      (nlat, nlon) float64 dask.array&lt;chunksize=(384, 320), meta=np.ndarray&gt;
     ULAT       (nlat, nlon) float64 dask.array&lt;chunksize=(384, 320), meta=np.ndarray&gt;
     ULONG      (nlat, nlon) float64 dask.array&lt;chunksize=(384, 320), meta=np.ndarray&gt;
     dz         (z_t) float32 dask.array&lt;chunksize=(10,), meta=np.ndarray&gt;
   * time       (time) object 2006-01-17 00:29:59.999993 ... 2100-12-16 12:00:00
   * z_t        (z_t) float32 500.0 1.5e+03 2.5e+03 ... 8.788e+04 9.847e+04
 Dimensions without coordinates: nlat, nlon
 Data variables:
     Phi_prime  (Ac, Eo, time, z_t, nlat, nlon) float64 dask.array&lt;chunksize=(1, 1, 12, 10, 384, 320), meta=np.ndarray&gt;
 Attributes:
     Conventions:               CF-1.0; http://www.cgd.ucar.edu/cms/eaton/netc...
     NCO:                       4.3.4
     calendar:                  All years have exactly  365 days.
     cell_methods:              cell_methods = time: mean ==&gt; the variable val...
     contents:                  Diagnostic and Prognostic Variables
     history:                   Fri Dec 20 15:44:18 2013: /glade/apps/opt/nco/...
     intake_esm_dataset_key:    RCP85.ocn.pop.h.13.drift-corrected
     intake_esm_varname:        [&#39;Phi_prime&#39;]
     nco_openmp_thread_number:  1
     revision:                  $Id: tavg.F90 41939 2012-11-14 16:37:23Z mlevy...
     source:                    CCSM POP2, the CCSM Ocean Component
     title:                     b.e11.BRCP85C5CNBDRD.f09_g16.013,
 &#39;RCP85.ocn.pop.h.10.drift-corrected&#39;: &lt;xarray.Dataset&gt;
 Dimensions:    (Ac: 8, Eo: 7, nlat: 384, nlon: 320, time: 1140, z_t: 40)
 Coordinates:
   * Ac         (Ac) float64 0.0258 0.0399 0.0619 0.0959 ... 0.2303 0.3568 0.5528
   * Eo         (Eo) float64 -0.2 -0.0 0.2 0.4 0.6 0.8 1.0
     KMT        (nlat, nlon) float64 dask.array&lt;chunksize=(384, 320), meta=np.ndarray&gt;
     TAREA      (nlat, nlon) float64 dask.array&lt;chunksize=(384, 320), meta=np.ndarray&gt;
     TLAT       (nlat, nlon) float64 dask.array&lt;chunksize=(384, 320), meta=np.ndarray&gt;
     TLONG      (nlat, nlon) float64 dask.array&lt;chunksize=(384, 320), meta=np.ndarray&gt;
     ULAT       (nlat, nlon) float64 dask.array&lt;chunksize=(384, 320), meta=np.ndarray&gt;
     ULONG      (nlat, nlon) float64 dask.array&lt;chunksize=(384, 320), meta=np.ndarray&gt;
     dz         (z_t) float32 dask.array&lt;chunksize=(10,), meta=np.ndarray&gt;
   * time       (time) object 2006-01-17 00:29:59.999993 ... 2100-12-16 12:00:00
   * z_t        (z_t) float32 500.0 1.5e+03 2.5e+03 ... 8.788e+04 9.847e+04
 Dimensions without coordinates: nlat, nlon
 Data variables:
     Phi_prime  (Ac, Eo, time, z_t, nlat, nlon) float64 dask.array&lt;chunksize=(1, 1, 12, 10, 384, 320), meta=np.ndarray&gt;
 Attributes:
     Conventions:               CF-1.0; http://www.cgd.ucar.edu/cms/eaton/netc...
     NCO:                       4.3.4
     calendar:                  All years have exactly  365 days.
     cell_methods:              cell_methods = time: mean ==&gt; the variable val...
     contents:                  Diagnostic and Prognostic Variables
     history:                   Wed Nov 13 08:59:54 2013: /glade/apps/opt/nco/...
     intake_esm_dataset_key:    RCP85.ocn.pop.h.10.drift-corrected
     intake_esm_varname:        [&#39;Phi_prime&#39;]
     nco_openmp_thread_number:  1
     revision:                  $Id: tavg.F90 41939 2012-11-14 16:37:23Z mlevy...
     source:                    CCSM POP2, the CCSM Ocean Component
     title:                     b.e11.BRCP85C5CNBDRD.f09_g16.010,
 &#39;20C.ocn.pop.h.11.drift-corrected&#39;: &lt;xarray.Dataset&gt;
 Dimensions:    (Ac: 8, Eo: 7, nlat: 384, nlon: 320, time: 1032, z_t: 40)
 Coordinates:
   * Ac         (Ac) float64 0.0258 0.0399 0.0619 0.0959 ... 0.2303 0.3568 0.5528
   * Eo         (Eo) float64 -0.2 -0.0 0.2 0.4 0.6 0.8 1.0
     KMT        (nlat, nlon) float64 dask.array&lt;chunksize=(384, 320), meta=np.ndarray&gt;
     TAREA      (nlat, nlon) float64 dask.array&lt;chunksize=(384, 320), meta=np.ndarray&gt;
     TLAT       (nlat, nlon) float64 dask.array&lt;chunksize=(384, 320), meta=np.ndarray&gt;
     TLONG      (nlat, nlon) float64 dask.array&lt;chunksize=(384, 320), meta=np.ndarray&gt;
     ULAT       (nlat, nlon) float64 dask.array&lt;chunksize=(384, 320), meta=np.ndarray&gt;
     ULONG      (nlat, nlon) float64 dask.array&lt;chunksize=(384, 320), meta=np.ndarray&gt;
     dz         (z_t) float32 dask.array&lt;chunksize=(10,), meta=np.ndarray&gt;
   * time       (time) object 1920-01-17 00:29:59.999993 ... 2005-12-16 12:00:00
   * z_t        (z_t) float32 500.0 1.5e+03 2.5e+03 ... 8.788e+04 9.847e+04
 Dimensions without coordinates: nlat, nlon
 Data variables:
     Phi_prime  (Ac, Eo, time, z_t, nlat, nlon) float64 dask.array&lt;chunksize=(1, 1, 12, 10, 384, 320), meta=np.ndarray&gt;
 Attributes: (12/16)
     Conventions:               CF-1.0; http://www.cgd.ucar.edu/cms/eaton/netc...
     NCO:                       4.3.4
     calendar:                  All years have exactly  365 days.
     cell_methods:              cell_methods = time: mean ==&gt; the variable val...
     contents:                  Diagnostic and Prognostic Variables
     history:                   Sun Nov 17 10:28:01 2013: /glade/apps/opt/nco/...
     ...                        ...
     revision:                  $Id: tavg.F90 41939 2012-11-14 16:37:23Z mlevy...
     source:                    CCSM POP2, the CCSM Ocean Component
     start_time:                This dataset was created on 2013-10-30 at 21:4...
     tavg_sum:                  2592000.0
     tavg_sum_qflux:            2592000.0
     title:                     b.e11.B20TRC5CNBDRD.f09_g16.011,
 &#39;20C.ocn.pop.h.18.drift-corrected&#39;: &lt;xarray.Dataset&gt;
 Dimensions:    (Ac: 8, Eo: 7, nlat: 384, nlon: 320, time: 1032, z_t: 40)
 Coordinates:
   * Ac         (Ac) float64 0.0258 0.0399 0.0619 0.0959 ... 0.2303 0.3568 0.5528
   * Eo         (Eo) float64 -0.2 -0.0 0.2 0.4 0.6 0.8 1.0
     KMT        (nlat, nlon) float64 dask.array&lt;chunksize=(384, 320), meta=np.ndarray&gt;
     TAREA      (nlat, nlon) float64 dask.array&lt;chunksize=(384, 320), meta=np.ndarray&gt;
     TLAT       (nlat, nlon) float64 dask.array&lt;chunksize=(384, 320), meta=np.ndarray&gt;
     TLONG      (nlat, nlon) float64 dask.array&lt;chunksize=(384, 320), meta=np.ndarray&gt;
     ULAT       (nlat, nlon) float64 dask.array&lt;chunksize=(384, 320), meta=np.ndarray&gt;
     ULONG      (nlat, nlon) float64 dask.array&lt;chunksize=(384, 320), meta=np.ndarray&gt;
     dz         (z_t) float32 dask.array&lt;chunksize=(10,), meta=np.ndarray&gt;
   * time       (time) object 1920-01-17 00:29:59.999993 ... 2005-12-16 12:00:00
   * z_t        (z_t) float32 500.0 1.5e+03 2.5e+03 ... 8.788e+04 9.847e+04
 Dimensions without coordinates: nlat, nlon
 Data variables:
     Phi_prime  (Ac, Eo, time, z_t, nlat, nlon) float64 dask.array&lt;chunksize=(1, 1, 12, 10, 384, 320), meta=np.ndarray&gt;
 Attributes: (12/16)
     Conventions:               CF-1.0; http://www.cgd.ucar.edu/cms/eaton/netc...
     NCO:                       4.3.4
     calendar:                  All years have exactly  365 days.
     cell_methods:              cell_methods = time: mean ==&gt; the variable val...
     contents:                  Diagnostic and Prognostic Variables
     history:                   Sat Jan 18 10:54:32 2014: /glade/apps/opt/nco/...
     ...                        ...
     revision:                  $Id: tavg.F90 41939 2012-11-14 16:37:23Z mlevy...
     source:                    CCSM POP2, the CCSM Ocean Component
     start_time:                This dataset was created on 2013-12-22 at 20:3...
     tavg_sum:                  2592000.0
     tavg_sum_qflux:            2592000.0
     title:                     b.e11.B20TRC5CNBDRD.f09_g16.018,
 &#39;RCP85.ocn.pop.h.14.drift-corrected&#39;: &lt;xarray.Dataset&gt;
 Dimensions:    (Ac: 8, Eo: 7, nlat: 384, nlon: 320, time: 1140, z_t: 40)
 Coordinates:
   * Ac         (Ac) float64 0.0258 0.0399 0.0619 0.0959 ... 0.2303 0.3568 0.5528
   * Eo         (Eo) float64 -0.2 -0.0 0.2 0.4 0.6 0.8 1.0
     KMT        (nlat, nlon) float64 dask.array&lt;chunksize=(384, 320), meta=np.ndarray&gt;
     TAREA      (nlat, nlon) float64 dask.array&lt;chunksize=(384, 320), meta=np.ndarray&gt;
     TLAT       (nlat, nlon) float64 dask.array&lt;chunksize=(384, 320), meta=np.ndarray&gt;
     TLONG      (nlat, nlon) float64 dask.array&lt;chunksize=(384, 320), meta=np.ndarray&gt;
     ULAT       (nlat, nlon) float64 dask.array&lt;chunksize=(384, 320), meta=np.ndarray&gt;
     ULONG      (nlat, nlon) float64 dask.array&lt;chunksize=(384, 320), meta=np.ndarray&gt;
     dz         (z_t) float32 dask.array&lt;chunksize=(10,), meta=np.ndarray&gt;
   * time       (time) object 2006-01-17 00:29:59.999993 ... 2100-12-16 12:00:00
   * z_t        (z_t) float32 500.0 1.5e+03 2.5e+03 ... 8.788e+04 9.847e+04
 Dimensions without coordinates: nlat, nlon
 Data variables:
     Phi_prime  (Ac, Eo, time, z_t, nlat, nlon) float64 dask.array&lt;chunksize=(1, 1, 12, 10, 384, 320), meta=np.ndarray&gt;
 Attributes:
     Conventions:               CF-1.0; http://www.cgd.ucar.edu/cms/eaton/netc...
     NCO:                       4.3.4
     calendar:                  All years have exactly  365 days.
     cell_methods:              cell_methods = time: mean ==&gt; the variable val...
     contents:                  Diagnostic and Prognostic Variables
     history:                   Wed Dec 11 08:49:29 2013: /glade/apps/opt/nco/...
     intake_esm_dataset_key:    RCP85.ocn.pop.h.14.drift-corrected
     intake_esm_varname:        [&#39;Phi_prime&#39;]
     nco_openmp_thread_number:  1
     revision:                  $Id: tavg.F90 41939 2012-11-14 16:37:23Z mlevy...
     source:                    CCSM POP2, the CCSM Ocean Component
     title:                     b.e11.BRCP85C5CNBDRD.f09_g16.014,
 &#39;RCP85.ocn.pop.h.12.drift-corrected&#39;: &lt;xarray.Dataset&gt;
 Dimensions:    (Ac: 8, Eo: 7, nlat: 384, nlon: 320, time: 1140, z_t: 40)
 Coordinates:
   * Ac         (Ac) float64 0.0258 0.0399 0.0619 0.0959 ... 0.2303 0.3568 0.5528
   * Eo         (Eo) float64 -0.2 -0.0 0.2 0.4 0.6 0.8 1.0
     KMT        (nlat, nlon) float64 dask.array&lt;chunksize=(384, 320), meta=np.ndarray&gt;
     TAREA      (nlat, nlon) float64 dask.array&lt;chunksize=(384, 320), meta=np.ndarray&gt;
     TLAT       (nlat, nlon) float64 dask.array&lt;chunksize=(384, 320), meta=np.ndarray&gt;
     TLONG      (nlat, nlon) float64 dask.array&lt;chunksize=(384, 320), meta=np.ndarray&gt;
     ULAT       (nlat, nlon) float64 dask.array&lt;chunksize=(384, 320), meta=np.ndarray&gt;
     ULONG      (nlat, nlon) float64 dask.array&lt;chunksize=(384, 320), meta=np.ndarray&gt;
     dz         (z_t) float32 dask.array&lt;chunksize=(10,), meta=np.ndarray&gt;
   * time       (time) object 2006-01-17 00:29:59.999993 ... 2100-12-16 12:00:00
   * z_t        (z_t) float32 500.0 1.5e+03 2.5e+03 ... 8.788e+04 9.847e+04
 Dimensions without coordinates: nlat, nlon
 Data variables:
     Phi_prime  (Ac, Eo, time, z_t, nlat, nlon) float64 dask.array&lt;chunksize=(1, 1, 12, 10, 384, 320), meta=np.ndarray&gt;
 Attributes:
     Conventions:               CF-1.0; http://www.cgd.ucar.edu/cms/eaton/netc...
     NCO:                       4.3.4
     calendar:                  All years have exactly  365 days.
     cell_methods:              cell_methods = time: mean ==&gt; the variable val...
     contents:                  Diagnostic and Prognostic Variables
     history:                   Sun Dec  1 15:19:09 2013: /glade/apps/opt/nco/...
     intake_esm_dataset_key:    RCP85.ocn.pop.h.12.drift-corrected
     intake_esm_varname:        [&#39;Phi_prime&#39;]
     nco_openmp_thread_number:  1
     revision:                  $Id: tavg.F90 41939 2012-11-14 16:37:23Z mlevy...
     source:                    CCSM POP2, the CCSM Ocean Component
     title:                     b.e11.BRCP85C5CNBDRD.f09_g16.012,
 &#39;20C.ocn.pop.h.14.drift-corrected&#39;: &lt;xarray.Dataset&gt;
 Dimensions:    (Ac: 8, Eo: 7, nlat: 384, nlon: 320, time: 1032, z_t: 40)
 Coordinates:
   * Ac         (Ac) float64 0.0258 0.0399 0.0619 0.0959 ... 0.2303 0.3568 0.5528
   * Eo         (Eo) float64 -0.2 -0.0 0.2 0.4 0.6 0.8 1.0
     KMT        (nlat, nlon) float64 dask.array&lt;chunksize=(384, 320), meta=np.ndarray&gt;
     TAREA      (nlat, nlon) float64 dask.array&lt;chunksize=(384, 320), meta=np.ndarray&gt;
     TLAT       (nlat, nlon) float64 dask.array&lt;chunksize=(384, 320), meta=np.ndarray&gt;
     TLONG      (nlat, nlon) float64 dask.array&lt;chunksize=(384, 320), meta=np.ndarray&gt;
     ULAT       (nlat, nlon) float64 dask.array&lt;chunksize=(384, 320), meta=np.ndarray&gt;
     ULONG      (nlat, nlon) float64 dask.array&lt;chunksize=(384, 320), meta=np.ndarray&gt;
     dz         (z_t) float32 dask.array&lt;chunksize=(10,), meta=np.ndarray&gt;
   * time       (time) object 1920-01-17 00:29:59.999993 ... 2005-12-16 12:00:00
   * z_t        (z_t) float32 500.0 1.5e+03 2.5e+03 ... 8.788e+04 9.847e+04
 Dimensions without coordinates: nlat, nlon
 Data variables:
     Phi_prime  (Ac, Eo, time, z_t, nlat, nlon) float64 dask.array&lt;chunksize=(1, 1, 12, 10, 384, 320), meta=np.ndarray&gt;
 Attributes: (12/16)
     Conventions:               CF-1.0; http://www.cgd.ucar.edu/cms/eaton/netc...
     NCO:                       4.3.4
     calendar:                  All years have exactly  365 days.
     cell_methods:              cell_methods = time: mean ==&gt; the variable val...
     contents:                  Diagnostic and Prognostic Variables
     history:                   Thu Dec  5 04:47:25 2013: /glade/apps/opt/nco/...
     ...                        ...
     revision:                  $Id: tavg.F90 41939 2012-11-14 16:37:23Z mlevy...
     source:                    CCSM POP2, the CCSM Ocean Component
     start_time:                This dataset was created on 2013-11-23 at 19:1...
     tavg_sum:                  2592000.0
     tavg_sum_qflux:            2592000.0
     title:                     b.e11.B20TRC5CNBDRD.f09_g16.014}
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">aerobic_habitat_vol</span><span class="p">(</span><span class="n">ds</span><span class="p">):</span>
    <span class="n">vol</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">dz</span> <span class="o">*</span> <span class="n">ds</span><span class="o">.</span><span class="n">TAREA</span>
    <span class="n">viability_mask</span> <span class="o">=</span> <span class="n">xr</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">ds</span><span class="o">.</span><span class="n">Phi_prime</span> <span class="o">&gt;</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span>
    <span class="k">return</span> <span class="p">(</span><span class="n">vol</span> <span class="o">*</span> <span class="n">viability_mask</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">([</span><span class="s1">&#39;z_t&#39;</span><span class="p">,</span> <span class="s1">&#39;nlat&#39;</span><span class="p">,</span> <span class="s1">&#39;nlon&#39;</span><span class="p">])</span>

<span class="n">exp_keys</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;20C.ocn.pop.h.drift-corrected&#39;</span><span class="p">,</span> <span class="s1">&#39;RCP85.ocn.pop.h.drift-corrected&#39;</span><span class="p">]</span>

<span class="c1">#ds = xr.concat([dsets[k] for k in exp_keys], dim=&#39;time&#39;, coords=&#39;minimal&#39;)</span>
<span class="n">dsets_2</span> <span class="o">=</span> <span class="p">{}</span>
<span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">ds</span> <span class="ow">in</span> <span class="n">dsets</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
    <span class="n">dsets_2</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">aerobic_habitat_vol</span><span class="p">(</span><span class="n">dsets</span><span class="p">[</span><span class="n">key</span><span class="p">])</span><span class="o">.</span><span class="n">compute</span><span class="p">()</span>
<span class="n">dsets_2</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">yrfrac</span> <span class="o">=</span> <span class="n">util</span><span class="o">.</span><span class="n">year_frac</span><span class="p">(</span><span class="n">ds</span><span class="o">.</span><span class="n">time</span><span class="p">)</span>
<span class="n">tndx_ref</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">yrfrac</span> <span class="o">&lt;</span> <span class="mi">1966</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">tndx_2100</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">yrfrac</span> <span class="o">&gt;</span> <span class="mi">2080</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">viability_mask</span> <span class="o">=</span> <span class="n">xr</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">ds</span><span class="o">.</span><span class="n">Phi_prime</span> <span class="o">&gt;</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span>
<span class="n">viability_mask</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div><svg style="position: absolute; width: 0; height: 0; overflow: hidden">
<defs>
<symbol id="icon-database" viewBox="0 0 32 32">
<path d="M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z"></path>
<path d="M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
<path d="M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
</symbol>
<symbol id="icon-file-text2" viewBox="0 0 32 32">
<path d="M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z"></path>
<path d="M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
</symbol>
</defs>
</svg>
<style>/* CSS stylesheet for displaying xarray objects in jupyterlab.
 *
 */

:root {
  --xr-font-color0: var(--jp-content-font-color0, rgba(0, 0, 0, 1));
  --xr-font-color2: var(--jp-content-font-color2, rgba(0, 0, 0, 0.54));
  --xr-font-color3: var(--jp-content-font-color3, rgba(0, 0, 0, 0.38));
  --xr-border-color: var(--jp-border-color2, #e0e0e0);
  --xr-disabled-color: var(--jp-layout-color3, #bdbdbd);
  --xr-background-color: var(--jp-layout-color0, white);
  --xr-background-color-row-even: var(--jp-layout-color1, white);
  --xr-background-color-row-odd: var(--jp-layout-color2, #eeeeee);
}

html[theme=dark],
body.vscode-dark {
  --xr-font-color0: rgba(255, 255, 255, 1);
  --xr-font-color2: rgba(255, 255, 255, 0.54);
  --xr-font-color3: rgba(255, 255, 255, 0.38);
  --xr-border-color: #1F1F1F;
  --xr-disabled-color: #515151;
  --xr-background-color: #111111;
  --xr-background-color-row-even: #111111;
  --xr-background-color-row-odd: #313131;
}

.xr-wrap {
  display: block !important;
  min-width: 300px;
  max-width: 700px;
}

.xr-text-repr-fallback {
  /* fallback to plain text repr when CSS is not injected (untrusted notebook) */
  display: none;
}

.xr-header {
  padding-top: 6px;
  padding-bottom: 6px;
  margin-bottom: 4px;
  border-bottom: solid 1px var(--xr-border-color);
}

.xr-header > div,
.xr-header > ul {
  display: inline;
  margin-top: 0;
  margin-bottom: 0;
}

.xr-obj-type,
.xr-array-name {
  margin-left: 2px;
  margin-right: 10px;
}

.xr-obj-type {
  color: var(--xr-font-color2);
}

.xr-sections {
  padding-left: 0 !important;
  display: grid;
  grid-template-columns: 150px auto auto 1fr 20px 20px;
}

.xr-section-item {
  display: contents;
}

.xr-section-item input {
  display: none;
}

.xr-section-item input + label {
  color: var(--xr-disabled-color);
}

.xr-section-item input:enabled + label {
  cursor: pointer;
  color: var(--xr-font-color2);
}

.xr-section-item input:enabled + label:hover {
  color: var(--xr-font-color0);
}

.xr-section-summary {
  grid-column: 1;
  color: var(--xr-font-color2);
  font-weight: 500;
}

.xr-section-summary > span {
  display: inline-block;
  padding-left: 0.5em;
}

.xr-section-summary-in:disabled + label {
  color: var(--xr-font-color2);
}

.xr-section-summary-in + label:before {
  display: inline-block;
  content: '►';
  font-size: 11px;
  width: 15px;
  text-align: center;
}

.xr-section-summary-in:disabled + label:before {
  color: var(--xr-disabled-color);
}

.xr-section-summary-in:checked + label:before {
  content: '▼';
}

.xr-section-summary-in:checked + label > span {
  display: none;
}

.xr-section-summary,
.xr-section-inline-details {
  padding-top: 4px;
  padding-bottom: 4px;
}

.xr-section-inline-details {
  grid-column: 2 / -1;
}

.xr-section-details {
  display: none;
  grid-column: 1 / -1;
  margin-bottom: 5px;
}

.xr-section-summary-in:checked ~ .xr-section-details {
  display: contents;
}

.xr-array-wrap {
  grid-column: 1 / -1;
  display: grid;
  grid-template-columns: 20px auto;
}

.xr-array-wrap > label {
  grid-column: 1;
  vertical-align: top;
}

.xr-preview {
  color: var(--xr-font-color3);
}

.xr-array-preview,
.xr-array-data {
  padding: 0 5px !important;
  grid-column: 2;
}

.xr-array-data,
.xr-array-in:checked ~ .xr-array-preview {
  display: none;
}

.xr-array-in:checked ~ .xr-array-data,
.xr-array-preview {
  display: inline-block;
}

.xr-dim-list {
  display: inline-block !important;
  list-style: none;
  padding: 0 !important;
  margin: 0;
}

.xr-dim-list li {
  display: inline-block;
  padding: 0;
  margin: 0;
}

.xr-dim-list:before {
  content: '(';
}

.xr-dim-list:after {
  content: ')';
}

.xr-dim-list li:not(:last-child):after {
  content: ',';
  padding-right: 5px;
}

.xr-has-index {
  font-weight: bold;
}

.xr-var-list,
.xr-var-item {
  display: contents;
}

.xr-var-item > div,
.xr-var-item label,
.xr-var-item > .xr-var-name span {
  background-color: var(--xr-background-color-row-even);
  margin-bottom: 0;
}

.xr-var-item > .xr-var-name:hover span {
  padding-right: 5px;
}

.xr-var-list > li:nth-child(odd) > div,
.xr-var-list > li:nth-child(odd) > label,
.xr-var-list > li:nth-child(odd) > .xr-var-name span {
  background-color: var(--xr-background-color-row-odd);
}

.xr-var-name {
  grid-column: 1;
}

.xr-var-dims {
  grid-column: 2;
}

.xr-var-dtype {
  grid-column: 3;
  text-align: right;
  color: var(--xr-font-color2);
}

.xr-var-preview {
  grid-column: 4;
}

.xr-var-name,
.xr-var-dims,
.xr-var-dtype,
.xr-preview,
.xr-attrs dt {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  padding-right: 10px;
}

.xr-var-name:hover,
.xr-var-dims:hover,
.xr-var-dtype:hover,
.xr-attrs dt:hover {
  overflow: visible;
  width: auto;
  z-index: 1;
}

.xr-var-attrs,
.xr-var-data {
  display: none;
  background-color: var(--xr-background-color) !important;
  padding-bottom: 5px !important;
}

.xr-var-attrs-in:checked ~ .xr-var-attrs,
.xr-var-data-in:checked ~ .xr-var-data {
  display: block;
}

.xr-var-data > table {
  float: right;
}

.xr-var-name span,
.xr-var-data,
.xr-attrs {
  padding-left: 25px !important;
}

.xr-attrs,
.xr-var-attrs,
.xr-var-data {
  grid-column: 1 / -1;
}

dl.xr-attrs {
  padding: 0;
  margin: 0;
  display: grid;
  grid-template-columns: 125px auto;
}

.xr-attrs dt,
.xr-attrs dd {
  padding: 0;
  margin: 0;
  float: left;
  padding-right: 10px;
  width: auto;
}

.xr-attrs dt {
  font-weight: normal;
  grid-column: 1;
}

.xr-attrs dt:hover span {
  display: inline-block;
  background: var(--xr-background-color);
  padding-right: 10px;
}

.xr-attrs dd {
  grid-column: 2;
  white-space: pre-wrap;
  word-break: break-all;
}

.xr-icon-database,
.xr-icon-file-text2 {
  display: inline-block;
  vertical-align: middle;
  width: 1em;
  height: 1.5em !important;
  stroke-width: 0;
  stroke: currentColor;
  fill: currentColor;
}
</style><pre class='xr-text-repr-fallback'>&lt;xarray.DataArray &#x27;Phi_prime&#x27; (member_id: 12, Ac: 8, Eo: 7, time: 2172, z_t: 40, nlat: 384, nlon: 320)&gt;
dask.array&lt;where, shape=(12, 8, 7, 2172, 40, 384, 320), dtype=float64, chunksize=(1, 1, 1, 12, 10, 384, 320), chunktype=numpy.ndarray&gt;
Coordinates:
  * Ac         (Ac) float64 0.0258 0.0399 0.0619 0.0959 ... 0.2303 0.3568 0.5528
  * Eo         (Eo) float64 -0.2 -0.0 0.2 0.4 0.6 0.8 1.0
    KMT        (nlat, nlon) float64 0.0 0.0 0.0 0.0 0.0 ... 0.0 0.0 0.0 0.0 0.0
    TAREA      (nlat, nlon) float64 1.125e+13 1.125e+13 ... 7.431e+12 7.432e+12
    TLAT       (nlat, nlon) float64 -79.22 -79.22 -79.22 ... 72.2 72.19 72.19
    TLONG      (nlat, nlon) float64 320.6 321.7 322.8 ... 318.9 319.4 319.8
    ULAT       (nlat, nlon) float64 -78.95 -78.95 -78.95 ... 72.42 72.41 72.41
    ULONG      (nlat, nlon) float64 321.1 322.3 323.4 ... 319.2 319.6 320.0
    dz         (z_t) float32 1e+03 1e+03 1e+03 ... 8.521e+03 9.844e+03 1.133e+04
  * time       (time) object 1920-01-17 00:29:59.999993 ... 2100-12-16 12:00:00
  * z_t        (z_t) float32 500.0 1.5e+03 2.5e+03 ... 8.788e+04 9.847e+04
  * member_id  (member_id) int64 9 10 11 12 13 14 15 16 17 18 19 20
Dimensions without coordinates: nlat, nlon</pre><div class='xr-wrap' style='display:none'><div class='xr-header'><div class='xr-obj-type'>xarray.DataArray</div><div class='xr-array-name'>'Phi_prime'</div><ul class='xr-dim-list'><li><span class='xr-has-index'>member_id</span>: 12</li><li><span class='xr-has-index'>Ac</span>: 8</li><li><span class='xr-has-index'>Eo</span>: 7</li><li><span class='xr-has-index'>time</span>: 2172</li><li><span class='xr-has-index'>z_t</span>: 40</li><li><span>nlat</span>: 384</li><li><span>nlon</span>: 320</li></ul></div><ul class='xr-sections'><li class='xr-section-item'><div class='xr-array-wrap'><input id='section-3d5d5b33-5e62-412e-8b7a-d758f7691f51' class='xr-array-in' type='checkbox' checked><label for='section-3d5d5b33-5e62-412e-8b7a-d758f7691f51' title='Show/hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-array-preview xr-preview'><span>dask.array&lt;chunksize=(1, 1, 1, 12, 10, 384, 320), meta=np.ndarray&gt;</span></div><div class='xr-array-data'><table>
    <tr>
        <td>
            <table>
                <thead>
                    <tr>
                        <td> </td>
                        <th> Array </th>
                        <th> Chunk </th>
                    </tr>
                </thead>
                <tbody>

                    <tr>
                        <th> Bytes </th>
                        <td> 52.20 TiB </td>
                        <td> 112.50 MiB </td>
                    </tr>

                    <tr>
                        <th> Shape </th>
                        <td> (12, 8, 7, 2172, 40, 384, 320) </td>
                        <td> (1, 1, 1, 12, 10, 384, 320) </td>
                    </tr>
                    <tr>
                        <th> Count </th>
                        <td> 2919192 Tasks </td>
                        <td> 486528 Chunks </td>
                    </tr>
                    <tr>
                    <th> Type </th>
                    <td> float64 </td>
                    <td> numpy.ndarray </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td>
        <svg width="875" height="108" style="stroke:rgb(0,0,0);stroke-width:1" >

  <!-- Horizontal lines -->
  <line x1="0" y1="0" x2="25" y2="0" style="stroke-width:2" />
  <line x1="0" y1="25" x2="25" y2="25" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="0" y1="0" x2="0" y2="25" style="stroke-width:2" />
  <line x1="2" y1="0" x2="2" y2="25" />
  <line x1="4" y1="0" x2="4" y2="25" />
  <line x1="6" y1="0" x2="6" y2="25" />
  <line x1="8" y1="0" x2="8" y2="25" />
  <line x1="10" y1="0" x2="10" y2="25" />
  <line x1="12" y1="0" x2="12" y2="25" />
  <line x1="14" y1="0" x2="14" y2="25" />
  <line x1="16" y1="0" x2="16" y2="25" />
  <line x1="19" y1="0" x2="19" y2="25" />
  <line x1="21" y1="0" x2="21" y2="25" />
  <line x1="23" y1="0" x2="23" y2="25" />
  <line x1="25" y1="0" x2="25" y2="25" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="0.0,0.0 25.412616514582485,0.0 25.412616514582485,25.412616514582485 0.0,25.412616514582485" style="fill:#ECB172A0;stroke-width:0"/>

  <!-- Text -->
  <text x="12.706308" y="45.412617" font-size="1.0rem" font-weight="100" text-anchor="middle" >12</text>
  <text x="45.412617" y="12.706308" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(0,45.412617,12.706308)">1</text>


  <!-- Horizontal lines -->
  <line x1="95" y1="0" x2="109" y2="14" style="stroke-width:2" />
  <line x1="95" y1="3" x2="109" y2="18" />
  <line x1="95" y1="7" x2="109" y2="22" />
  <line x1="95" y1="10" x2="109" y2="25" />
  <line x1="95" y1="14" x2="109" y2="29" />
  <line x1="95" y1="18" x2="109" y2="33" />
  <line x1="95" y1="21" x2="109" y2="36" />
  <line x1="95" y1="25" x2="109" y2="40" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="95" y1="0" x2="95" y2="25" style="stroke-width:2" />
  <line x1="96" y1="1" x2="96" y2="27" />
  <line x1="98" y1="3" x2="98" y2="29" />
  <line x1="100" y1="5" x2="100" y2="31" />
  <line x1="102" y1="7" x2="102" y2="32" />
  <line x1="104" y1="9" x2="104" y2="34" />
  <line x1="106" y1="11" x2="106" y2="36" />
  <line x1="108" y1="13" x2="108" y2="38" />
  <line x1="109" y1="14" x2="109" y2="40" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="95.0,0.0 109.9485979497544,14.948597949754403 109.9485979497544,40.36121446433689 95.0,25.412616514582485" style="fill:#ECB172A0;stroke-width:0"/>

  <!-- Horizontal lines -->
  <line x1="95" y1="0" x2="215" y2="0" style="stroke-width:2" />
  <line x1="96" y1="1" x2="216" y2="1" />
  <line x1="98" y1="3" x2="218" y2="3" />
  <line x1="100" y1="5" x2="220" y2="5" />
  <line x1="102" y1="7" x2="222" y2="7" />
  <line x1="104" y1="9" x2="224" y2="9" />
  <line x1="106" y1="11" x2="226" y2="11" />
  <line x1="108" y1="13" x2="228" y2="13" />
  <line x1="109" y1="14" x2="229" y2="14" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="95" y1="0" x2="109" y2="14" style="stroke-width:2" />
  <line x1="98" y1="0" x2="113" y2="14" />
  <line x1="102" y1="0" x2="117" y2="14" />
  <line x1="105" y1="0" x2="120" y2="14" />
  <line x1="109" y1="0" x2="124" y2="14" />
  <line x1="113" y1="0" x2="128" y2="14" />
  <line x1="116" y1="0" x2="131" y2="14" />
  <line x1="120" y1="0" x2="135" y2="14" />
  <line x1="124" y1="0" x2="139" y2="14" />
  <line x1="128" y1="0" x2="143" y2="14" />
  <line x1="132" y1="0" x2="147" y2="14" />
  <line x1="136" y1="0" x2="151" y2="14" />
  <line x1="139" y1="0" x2="154" y2="14" />
  <line x1="143" y1="0" x2="158" y2="14" />
  <line x1="147" y1="0" x2="162" y2="14" />
  <line x1="150" y1="0" x2="165" y2="14" />
  <line x1="154" y1="0" x2="169" y2="14" />
  <line x1="158" y1="0" x2="173" y2="14" />
  <line x1="161" y1="0" x2="176" y2="14" />
  <line x1="165" y1="0" x2="180" y2="14" />
  <line x1="169" y1="0" x2="184" y2="14" />
  <line x1="173" y1="0" x2="188" y2="14" />
  <line x1="177" y1="0" x2="192" y2="14" />
  <line x1="181" y1="0" x2="196" y2="14" />
  <line x1="184" y1="0" x2="199" y2="14" />
  <line x1="188" y1="0" x2="203" y2="14" />
  <line x1="192" y1="0" x2="207" y2="14" />
  <line x1="195" y1="0" x2="210" y2="14" />
  <line x1="199" y1="0" x2="214" y2="14" />
  <line x1="203" y1="0" x2="218" y2="14" />
  <line x1="207" y1="0" x2="221" y2="14" />
  <line x1="211" y1="0" x2="225" y2="14" />
  <line x1="215" y1="0" x2="229" y2="14" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="95.0,0.0 215.0,0.0 229.9485979497544,14.948597949754403 109.9485979497544,14.948597949754403" style="fill:#8B4903A0;stroke-width:0"/>

  <!-- Horizontal lines -->
  <line x1="109" y1="14" x2="229" y2="14" style="stroke-width:2" />
  <line x1="109" y1="18" x2="229" y2="18" />
  <line x1="109" y1="22" x2="229" y2="22" />
  <line x1="109" y1="25" x2="229" y2="25" />
  <line x1="109" y1="29" x2="229" y2="29" />
  <line x1="109" y1="33" x2="229" y2="33" />
  <line x1="109" y1="36" x2="229" y2="36" />
  <line x1="109" y1="40" x2="229" y2="40" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="109" y1="14" x2="109" y2="40" style="stroke-width:2" />
  <line x1="113" y1="14" x2="113" y2="40" />
  <line x1="117" y1="14" x2="117" y2="40" />
  <line x1="120" y1="14" x2="120" y2="40" />
  <line x1="124" y1="14" x2="124" y2="40" />
  <line x1="128" y1="14" x2="128" y2="40" />
  <line x1="131" y1="14" x2="131" y2="40" />
  <line x1="135" y1="14" x2="135" y2="40" />
  <line x1="139" y1="14" x2="139" y2="40" />
  <line x1="143" y1="14" x2="143" y2="40" />
  <line x1="147" y1="14" x2="147" y2="40" />
  <line x1="151" y1="14" x2="151" y2="40" />
  <line x1="154" y1="14" x2="154" y2="40" />
  <line x1="158" y1="14" x2="158" y2="40" />
  <line x1="162" y1="14" x2="162" y2="40" />
  <line x1="165" y1="14" x2="165" y2="40" />
  <line x1="169" y1="14" x2="169" y2="40" />
  <line x1="173" y1="14" x2="173" y2="40" />
  <line x1="176" y1="14" x2="176" y2="40" />
  <line x1="180" y1="14" x2="180" y2="40" />
  <line x1="184" y1="14" x2="184" y2="40" />
  <line x1="188" y1="14" x2="188" y2="40" />
  <line x1="192" y1="14" x2="192" y2="40" />
  <line x1="196" y1="14" x2="196" y2="40" />
  <line x1="199" y1="14" x2="199" y2="40" />
  <line x1="203" y1="14" x2="203" y2="40" />
  <line x1="207" y1="14" x2="207" y2="40" />
  <line x1="210" y1="14" x2="210" y2="40" />
  <line x1="214" y1="14" x2="214" y2="40" />
  <line x1="218" y1="14" x2="218" y2="40" />
  <line x1="221" y1="14" x2="221" y2="40" />
  <line x1="225" y1="14" x2="225" y2="40" />
  <line x1="229" y1="14" x2="229" y2="40" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="109.9485979497544,14.948597949754403 229.9485979497544,14.948597949754403 229.9485979497544,40.36121446433689 109.9485979497544,40.36121446433689" style="fill:#8B4903A0;stroke-width:0"/>

  <!-- Text -->
  <text x="169.948598" y="60.361214" font-size="1.0rem" font-weight="100" text-anchor="middle" >2172</text>
  <text x="249.948598" y="27.654906" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(0,249.948598,27.654906)">7</text>
  <text x="92.474299" y="52.886915" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(45,92.474299,52.886915)">8</text>


  <!-- Horizontal lines -->
  <line x1="384" y1="0" x2="400" y2="16" style="stroke-width:2" />
  <line x1="384" y1="41" x2="400" y2="58" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="384" y1="0" x2="384" y2="41" style="stroke-width:2" />
  <line x1="388" y1="4" x2="388" y2="45" />
  <line x1="392" y1="8" x2="392" y2="49" />
  <line x1="396" y1="12" x2="396" y2="54" />
  <line x1="400" y1="16" x2="400" y2="58" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="384.0,0.0 400.8059025893529,16.805902589352904 400.8059025893529,58.27828432038426 384.0,41.472381731031355" style="fill:#ECB172A0;stroke-width:0"/>

  <!-- Horizontal lines -->
  <line x1="384" y1="0" x2="424" y2="0" style="stroke-width:2" />
  <line x1="388" y1="4" x2="428" y2="4" />
  <line x1="392" y1="8" x2="433" y2="8" />
  <line x1="396" y1="12" x2="437" y2="12" />
  <line x1="400" y1="16" x2="441" y2="16" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="384" y1="0" x2="400" y2="16" style="stroke-width:2" />
  <line x1="424" y1="0" x2="441" y2="16" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="384.0,0.0 424.6193224664476,0.0 441.4252250558005,16.805902589352904 400.8059025893529,16.805902589352904" style="fill:#ECB172A0;stroke-width:0"/>

  <!-- Horizontal lines -->
  <line x1="400" y1="16" x2="441" y2="16" style="stroke-width:2" />
  <line x1="400" y1="58" x2="441" y2="58" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="400" y1="16" x2="400" y2="58" style="stroke-width:2" />
  <line x1="441" y1="16" x2="441" y2="58" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="400.8059025893529,16.805902589352904 441.4252250558005,16.805902589352904 441.4252250558005,58.27828432038426 400.8059025893529,58.27828432038426" style="fill:#ECB172A0;stroke-width:0"/>

  <!-- Text -->
  <text x="421.115564" y="78.278284" font-size="1.0rem" font-weight="100" text-anchor="middle" >320</text>
  <text x="461.425225" y="37.542093" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(-90,461.425225,37.542093)">384</text>
  <text x="382.402951" y="69.875333" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(45,382.402951,69.875333)">40</text>
</svg>
        </td>
    </tr>
</table></div></div></li><li class='xr-section-item'><input id='section-75371a72-aefb-41a1-b193-8ab53d890656' class='xr-section-summary-in' type='checkbox'  checked><label for='section-75371a72-aefb-41a1-b193-8ab53d890656' class='xr-section-summary' >Coordinates: <span>(12)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>Ac</span></div><div class='xr-var-dims'>(Ac)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>0.0258 0.0399 ... 0.3568 0.5528</div><input id='attrs-d70e4112-66ce-4225-8215-967573943c45' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-d70e4112-66ce-4225-8215-967573943c45' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-a0fac255-f358-441d-b2e0-32651ecb11e7' class='xr-var-data-in' type='checkbox'><label for='data-a0fac255-f358-441d-b2e0-32651ecb11e7' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>Hypoxic tolerance (normalized by critical MI)</dd><dt><span>units :</span></dt><dd>1/kPa</dd></dl></div><div class='xr-var-data'><pre>array([0.0258, 0.0399, 0.0619, 0.0959, 0.1486, 0.2303, 0.3568, 0.5528])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>Eo</span></div><div class='xr-var-dims'>(Eo)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>-0.2 -0.0 0.2 0.4 0.6 0.8 1.0</div><input id='attrs-14380f4f-c7a0-425f-8013-3f276a9a8f7c' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-14380f4f-c7a0-425f-8013-3f276a9a8f7c' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-0c2abef6-44af-4c45-ad24-99d498e3c765' class='xr-var-data-in' type='checkbox'><label for='data-0c2abef6-44af-4c45-ad24-99d498e3c765' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>Temperature sensitivity of MI</dd><dt><span>units :</span></dt><dd>eV</dd></dl></div><div class='xr-var-data'><pre>array([-0.2, -0. ,  0.2,  0.4,  0.6,  0.8,  1. ])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>KMT</span></div><div class='xr-var-dims'>(nlat, nlon)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>0.0 0.0 0.0 0.0 ... 0.0 0.0 0.0 0.0</div><input id='attrs-648f3807-43b5-40bb-9370-986f512b3c53' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-648f3807-43b5-40bb-9370-986f512b3c53' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-1c120cbd-0d11-4cc9-80fa-da087628d0c8' class='xr-var-data-in' type='checkbox'><label for='data-1c120cbd-0d11-4cc9-80fa-da087628d0c8' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>k Index of Deepest Grid Cell on T Grid</dd></dl></div><div class='xr-var-data'><pre>array([[ 0.,  0.,  0., ...,  0.,  0.,  0.],
       [ 0.,  0.,  0., ...,  0.,  0.,  0.],
       [38., 38., 38., ...,  0.,  0.,  0.],
       ...,
       [ 0.,  0.,  0., ...,  0.,  0.,  0.],
       [ 0.,  0.,  0., ...,  0.,  0.,  0.],
       [ 0.,  0.,  0., ...,  0.,  0.,  0.]])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>TAREA</span></div><div class='xr-var-dims'>(nlat, nlon)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>1.125e+13 1.125e+13 ... 7.432e+12</div><input id='attrs-8bcfa893-3a40-4a78-95a2-c81827eeea7f' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-8bcfa893-3a40-4a78-95a2-c81827eeea7f' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-1f121a92-cf07-4c52-ac33-2afa6bcd69fd' class='xr-var-data-in' type='checkbox'><label for='data-1f121a92-cf07-4c52-ac33-2afa6bcd69fd' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>area of T cells</dd><dt><span>units :</span></dt><dd>centimeter^2</dd></dl></div><div class='xr-var-data'><pre>array([[1.12478609e+13, 1.12464644e+13, 1.12436015e+13, ...,
        1.12436015e+13, 1.12464644e+13, 1.12478609e+13],
       [1.45745047e+13, 1.45745047e+13, 1.45745047e+13, ...,
        1.45745047e+13, 1.45745047e+13, 1.45745047e+13],
       [1.52530781e+13, 1.52530781e+13, 1.52530781e+13, ...,
        1.52530781e+13, 1.52530781e+13, 1.52530781e+13],
       ...,
       [8.81450970e+12, 8.81311214e+12, 8.81016095e+12, ...,
        8.81016095e+12, 8.81311214e+12, 8.81450970e+12],
       [8.13997430e+12, 8.13851312e+12, 8.13544719e+12, ...,
        8.13544719e+12, 8.13851312e+12, 8.13997430e+12],
       [7.43222977e+12, 7.43072723e+12, 7.42759165e+12, ...,
        7.42759165e+12, 7.43072723e+12, 7.43222977e+12]])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>TLAT</span></div><div class='xr-var-dims'>(nlat, nlon)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>-79.22 -79.22 ... 72.19 72.19</div><input id='attrs-3ac8a0f8-c1ea-4ad4-b2cb-81fd251c029d' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-3ac8a0f8-c1ea-4ad4-b2cb-81fd251c029d' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-da492521-5301-4b8e-bfd2-186f5484704c' class='xr-var-data-in' type='checkbox'><label for='data-da492521-5301-4b8e-bfd2-186f5484704c' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>array of t-grid latitudes</dd><dt><span>units :</span></dt><dd>degrees_north</dd></dl></div><div class='xr-var-data'><pre>array([[-79.22052261, -79.22052261, -79.22052261, ..., -79.22052261,
        -79.22052261, -79.22052261],
       [-78.68630626, -78.68630626, -78.68630626, ..., -78.68630626,
        -78.68630626, -78.68630626],
       [-78.15208992, -78.15208992, -78.15208992, ..., -78.15208992,
        -78.15208992, -78.15208992],
       ...,
       [ 71.29031715,  71.29408252,  71.30160692, ...,  71.30160692,
         71.29408252,  71.29031716],
       [ 71.73524335,  71.73881845,  71.74596231, ...,  71.74596231,
         71.73881845,  71.73524335],
       [ 72.18597561,  72.18933231,  72.19603941, ...,  72.19603941,
         72.18933231,  72.18597562]])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>TLONG</span></div><div class='xr-var-dims'>(nlat, nlon)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>320.6 321.7 322.8 ... 319.4 319.8</div><input id='attrs-34ac85db-6f3f-4a08-9404-96847069b9f4' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-34ac85db-6f3f-4a08-9404-96847069b9f4' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-0b4038c0-536c-477f-ab33-3bdddb0dc25b' class='xr-var-data-in' type='checkbox'><label for='data-0b4038c0-536c-477f-ab33-3bdddb0dc25b' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>array of t-grid longitudes</dd><dt><span>units :</span></dt><dd>degrees_east</dd></dl></div><div class='xr-var-data'><pre>array([[320.56250892, 321.68750895, 322.81250898, ..., 317.18750883,
        318.31250886, 319.43750889],
       [320.56250892, 321.68750895, 322.81250898, ..., 317.18750883,
        318.31250886, 319.43750889],
       [320.56250892, 321.68750895, 322.81250898, ..., 317.18750883,
        318.31250886, 319.43750889],
       ...,
       [320.25133086, 320.75380113, 321.25577325, ..., 318.74424456,
        319.24621668, 319.74869143],
       [320.23459477, 320.70358949, 321.17207442, ..., 318.82794339,
        319.29642832, 319.76542721],
       [320.21650899, 320.6493303 , 321.08163473, ..., 318.91838308,
        319.3506875 , 319.78351267]])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>ULAT</span></div><div class='xr-var-dims'>(nlat, nlon)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>-78.95 -78.95 ... 72.41 72.41</div><input id='attrs-b7cfcb46-bf22-4fa5-ac2c-9b0352d5290b' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-b7cfcb46-bf22-4fa5-ac2c-9b0352d5290b' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-f852e26c-1b75-433a-a633-1dffe48c3608' class='xr-var-data-in' type='checkbox'><label for='data-f852e26c-1b75-433a-a633-1dffe48c3608' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>array of u-grid latitudes</dd><dt><span>units :</span></dt><dd>degrees_north</dd></dl></div><div class='xr-var-data'><pre>array([[-78.95289509, -78.95289509, -78.95289509, ..., -78.95289509,
        -78.95289509, -78.95289509],
       [-78.41865507, -78.41865507, -78.41865507, ..., -78.41865507,
        -78.41865507, -78.41865507],
       [-77.88441506, -77.88441506, -77.88441506, ..., -77.88441506,
        -77.88441506, -77.88441506],
       ...,
       [ 71.51215224,  71.51766482,  71.52684191, ...,  71.51766482,
         71.51215224,  71.51031365],
       [ 71.95983548,  71.96504258,  71.97371054, ...,  71.96504258,
         71.95983548,  71.95809872],
       [ 72.4135549 ,  72.41841155,  72.42649554, ...,  72.41841155,
         72.4135549 ,  72.41193498]])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>ULONG</span></div><div class='xr-var-dims'>(nlat, nlon)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>321.1 322.3 323.4 ... 319.6 320.0</div><input id='attrs-01d2a595-39ab-4875-afb8-0a943f21c708' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-01d2a595-39ab-4875-afb8-0a943f21c708' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-3e0e46db-81e9-4b32-b942-1b23c0d503a8' class='xr-var-data-in' type='checkbox'><label for='data-3e0e46db-81e9-4b32-b942-1b23c0d503a8' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>array of u-grid longitudes</dd><dt><span>units :</span></dt><dd>degrees_east</dd></dl></div><div class='xr-var-data'><pre>array([[321.12500894, 322.25000897, 323.375009  , ..., 317.75000884,
        318.87500887, 320.0000089 ],
       [321.12500894, 322.25000897, 323.375009  , ..., 317.75000884,
        318.87500887, 320.0000089 ],
       [321.12500894, 322.25000897, 323.375009  , ..., 317.75000884,
        318.87500887, 320.0000089 ],
       ...,
       [320.48637802, 320.97240884, 321.4577638 , ..., 319.02760897,
        319.51363979, 320.00001324],
       [320.45160767, 320.90286181, 321.35342745, ..., 319.097156  ,
        319.54841014, 320.00001293],
       [320.41397858, 320.82760085, 321.24052915, ..., 319.17241696,
        319.58603923, 320.00001259]])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>dz</span></div><div class='xr-var-dims'>(z_t)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>1e+03 1e+03 ... 9.844e+03 1.133e+04</div><input id='attrs-64557640-e57f-4693-af9b-7892159bb535' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-64557640-e57f-4693-af9b-7892159bb535' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-7f40d1d8-b223-4bdd-b65d-b7f55f3baf26' class='xr-var-data-in' type='checkbox'><label for='data-7f40d1d8-b223-4bdd-b65d-b7f55f3baf26' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>thickness of layer k</dd><dt><span>units :</span></dt><dd>centimeters</dd></dl></div><div class='xr-var-data'><pre>array([ 1000.    ,  1000.    ,  1000.    ,  1000.    ,  1000.    ,
        1000.    ,  1000.    ,  1000.    ,  1000.    ,  1000.    ,
        1000.    ,  1000.    ,  1000.    ,  1000.    ,  1000.    ,
        1000.    ,  1019.6808,  1056.4484,  1105.9951,  1167.807 ,
        1242.4133,  1330.9678,  1435.141 ,  1557.1259,  1699.6796,
        1866.2124,  2060.9023,  2288.852 ,  2556.247 ,  2870.575 ,
        3240.8372,  3677.7725,  4194.031 ,  4804.2236,  5524.7544,
        6373.192 ,  7366.945 ,  8520.893 ,  9843.658 , 11332.466 ],
      dtype=float32)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>time</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>object</div><div class='xr-var-preview xr-preview'>1920-01-17 00:29:59.999993 ... 2...</div><input id='attrs-495f037f-6872-4559-b31b-587250fe9a65' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-495f037f-6872-4559-b31b-587250fe9a65' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-959d09bc-1eec-4097-90a7-e04316c59126' class='xr-var-data-in' type='checkbox'><label for='data-959d09bc-1eec-4097-90a7-e04316c59126' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>bounds :</span></dt><dd>time_bound</dd><dt><span>long_name :</span></dt><dd>time</dd><dt><span>note :</span></dt><dd>time recomputed as time_bound.mean(d2)</dd></dl></div><div class='xr-var-data'><pre>array([cftime.DatetimeNoLeap(1920, 1, 17, 0, 29, 59, 999993, has_year_zero=True),
       cftime.DatetimeNoLeap(1920, 2, 15, 0, 0, 0, 0, has_year_zero=True),
       cftime.DatetimeNoLeap(1920, 3, 16, 12, 0, 0, 0, has_year_zero=True),
       ...,
       cftime.DatetimeNoLeap(2100, 10, 16, 12, 0, 0, 0, has_year_zero=True),
       cftime.DatetimeNoLeap(2100, 11, 16, 0, 0, 0, 0, has_year_zero=True),
       cftime.DatetimeNoLeap(2100, 12, 16, 12, 0, 0, 0, has_year_zero=True)],
      dtype=object)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>z_t</span></div><div class='xr-var-dims'>(z_t)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>500.0 1.5e+03 ... 9.847e+04</div><input id='attrs-a0de04b5-ada1-4fd8-b97f-b3876bb26591' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-a0de04b5-ada1-4fd8-b97f-b3876bb26591' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-0188b2c6-cf4b-4404-afa7-eb238a7d097d' class='xr-var-data-in' type='checkbox'><label for='data-0188b2c6-cf4b-4404-afa7-eb238a7d097d' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>depth from surface to midpoint of layer</dd><dt><span>positive :</span></dt><dd>down</dd><dt><span>units :</span></dt><dd>centimeters</dd><dt><span>valid_max :</span></dt><dd>537500.0</dd><dt><span>valid_min :</span></dt><dd>500.0</dd></dl></div><div class='xr-var-data'><pre>array([  500.   ,  1500.   ,  2500.   ,  3500.   ,  4500.   ,  5500.   ,
        6500.   ,  7500.   ,  8500.   ,  9500.   , 10500.   , 11500.   ,
       12500.   , 13500.   , 14500.   , 15500.   , 16509.84 , 17547.904,
       18629.127, 19766.027, 20971.139, 22257.828, 23640.883, 25137.016,
       26765.42 , 28548.365, 30511.922, 32686.799, 35109.348, 37822.76 ,
       40878.465, 44337.77 , 48273.67 , 52772.8  , 57937.29 , 63886.26 ,
       70756.33 , 78700.25 , 87882.52 , 98470.586], dtype=float32)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>member_id</span></div><div class='xr-var-dims'>(member_id)</div><div class='xr-var-dtype'>int64</div><div class='xr-var-preview xr-preview'>9 10 11 12 13 14 15 16 17 18 19 20</div><input id='attrs-c13fa0a8-7eb7-4e50-86db-1343f70991d2' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-c13fa0a8-7eb7-4e50-86db-1343f70991d2' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-15147c84-c4c2-497f-a3b4-6de62c8310c9' class='xr-var-data-in' type='checkbox'><label for='data-15147c84-c4c2-497f-a3b4-6de62c8310c9' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([ 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20])</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-5879b37e-5c64-41eb-bc0a-2da4cbe0f0f7' class='xr-section-summary-in' type='checkbox' disabled ><label for='section-5879b37e-5c64-41eb-bc0a-2da4cbe0f0f7' class='xr-section-summary'  title='Expand/collapse section'>Attributes: <span>(0)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><dl class='xr-attrs'></dl></div></li></ul></div></div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">viability_mask</span><span class="o">.</span><span class="n">isel</span><span class="p">(</span><span class="n">time</span><span class="o">=</span><span class="n">tndx_ref</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/glade/work/mclong/miniconda3/envs/metabolic/lib/python3.7/site-packages/xarray/core/indexing.py:1227: PerformanceWarning: Slicing is producing a large chunk. To accept the large
chunk and silence this warning, set the option
    &gt;&gt;&gt; with dask.config.set(**{&#39;array.slicing.split_large_chunks&#39;: False}):
    ...     array[indexer]

To avoid creating the large chunks, set the option
    &gt;&gt;&gt; with dask.config.set(**{&#39;array.slicing.split_large_chunks&#39;: True}):
    ...     array[indexer]
  return self.array[key]
</pre></div>
</div>
<div class="output text_html"><div><svg style="position: absolute; width: 0; height: 0; overflow: hidden">
<defs>
<symbol id="icon-database" viewBox="0 0 32 32">
<path d="M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z"></path>
<path d="M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
<path d="M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
</symbol>
<symbol id="icon-file-text2" viewBox="0 0 32 32">
<path d="M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z"></path>
<path d="M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
</symbol>
</defs>
</svg>
<style>/* CSS stylesheet for displaying xarray objects in jupyterlab.
 *
 */

:root {
  --xr-font-color0: var(--jp-content-font-color0, rgba(0, 0, 0, 1));
  --xr-font-color2: var(--jp-content-font-color2, rgba(0, 0, 0, 0.54));
  --xr-font-color3: var(--jp-content-font-color3, rgba(0, 0, 0, 0.38));
  --xr-border-color: var(--jp-border-color2, #e0e0e0);
  --xr-disabled-color: var(--jp-layout-color3, #bdbdbd);
  --xr-background-color: var(--jp-layout-color0, white);
  --xr-background-color-row-even: var(--jp-layout-color1, white);
  --xr-background-color-row-odd: var(--jp-layout-color2, #eeeeee);
}

html[theme=dark],
body.vscode-dark {
  --xr-font-color0: rgba(255, 255, 255, 1);
  --xr-font-color2: rgba(255, 255, 255, 0.54);
  --xr-font-color3: rgba(255, 255, 255, 0.38);
  --xr-border-color: #1F1F1F;
  --xr-disabled-color: #515151;
  --xr-background-color: #111111;
  --xr-background-color-row-even: #111111;
  --xr-background-color-row-odd: #313131;
}

.xr-wrap {
  display: block !important;
  min-width: 300px;
  max-width: 700px;
}

.xr-text-repr-fallback {
  /* fallback to plain text repr when CSS is not injected (untrusted notebook) */
  display: none;
}

.xr-header {
  padding-top: 6px;
  padding-bottom: 6px;
  margin-bottom: 4px;
  border-bottom: solid 1px var(--xr-border-color);
}

.xr-header > div,
.xr-header > ul {
  display: inline;
  margin-top: 0;
  margin-bottom: 0;
}

.xr-obj-type,
.xr-array-name {
  margin-left: 2px;
  margin-right: 10px;
}

.xr-obj-type {
  color: var(--xr-font-color2);
}

.xr-sections {
  padding-left: 0 !important;
  display: grid;
  grid-template-columns: 150px auto auto 1fr 20px 20px;
}

.xr-section-item {
  display: contents;
}

.xr-section-item input {
  display: none;
}

.xr-section-item input + label {
  color: var(--xr-disabled-color);
}

.xr-section-item input:enabled + label {
  cursor: pointer;
  color: var(--xr-font-color2);
}

.xr-section-item input:enabled + label:hover {
  color: var(--xr-font-color0);
}

.xr-section-summary {
  grid-column: 1;
  color: var(--xr-font-color2);
  font-weight: 500;
}

.xr-section-summary > span {
  display: inline-block;
  padding-left: 0.5em;
}

.xr-section-summary-in:disabled + label {
  color: var(--xr-font-color2);
}

.xr-section-summary-in + label:before {
  display: inline-block;
  content: '►';
  font-size: 11px;
  width: 15px;
  text-align: center;
}

.xr-section-summary-in:disabled + label:before {
  color: var(--xr-disabled-color);
}

.xr-section-summary-in:checked + label:before {
  content: '▼';
}

.xr-section-summary-in:checked + label > span {
  display: none;
}

.xr-section-summary,
.xr-section-inline-details {
  padding-top: 4px;
  padding-bottom: 4px;
}

.xr-section-inline-details {
  grid-column: 2 / -1;
}

.xr-section-details {
  display: none;
  grid-column: 1 / -1;
  margin-bottom: 5px;
}

.xr-section-summary-in:checked ~ .xr-section-details {
  display: contents;
}

.xr-array-wrap {
  grid-column: 1 / -1;
  display: grid;
  grid-template-columns: 20px auto;
}

.xr-array-wrap > label {
  grid-column: 1;
  vertical-align: top;
}

.xr-preview {
  color: var(--xr-font-color3);
}

.xr-array-preview,
.xr-array-data {
  padding: 0 5px !important;
  grid-column: 2;
}

.xr-array-data,
.xr-array-in:checked ~ .xr-array-preview {
  display: none;
}

.xr-array-in:checked ~ .xr-array-data,
.xr-array-preview {
  display: inline-block;
}

.xr-dim-list {
  display: inline-block !important;
  list-style: none;
  padding: 0 !important;
  margin: 0;
}

.xr-dim-list li {
  display: inline-block;
  padding: 0;
  margin: 0;
}

.xr-dim-list:before {
  content: '(';
}

.xr-dim-list:after {
  content: ')';
}

.xr-dim-list li:not(:last-child):after {
  content: ',';
  padding-right: 5px;
}

.xr-has-index {
  font-weight: bold;
}

.xr-var-list,
.xr-var-item {
  display: contents;
}

.xr-var-item > div,
.xr-var-item label,
.xr-var-item > .xr-var-name span {
  background-color: var(--xr-background-color-row-even);
  margin-bottom: 0;
}

.xr-var-item > .xr-var-name:hover span {
  padding-right: 5px;
}

.xr-var-list > li:nth-child(odd) > div,
.xr-var-list > li:nth-child(odd) > label,
.xr-var-list > li:nth-child(odd) > .xr-var-name span {
  background-color: var(--xr-background-color-row-odd);
}

.xr-var-name {
  grid-column: 1;
}

.xr-var-dims {
  grid-column: 2;
}

.xr-var-dtype {
  grid-column: 3;
  text-align: right;
  color: var(--xr-font-color2);
}

.xr-var-preview {
  grid-column: 4;
}

.xr-var-name,
.xr-var-dims,
.xr-var-dtype,
.xr-preview,
.xr-attrs dt {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  padding-right: 10px;
}

.xr-var-name:hover,
.xr-var-dims:hover,
.xr-var-dtype:hover,
.xr-attrs dt:hover {
  overflow: visible;
  width: auto;
  z-index: 1;
}

.xr-var-attrs,
.xr-var-data {
  display: none;
  background-color: var(--xr-background-color) !important;
  padding-bottom: 5px !important;
}

.xr-var-attrs-in:checked ~ .xr-var-attrs,
.xr-var-data-in:checked ~ .xr-var-data {
  display: block;
}

.xr-var-data > table {
  float: right;
}

.xr-var-name span,
.xr-var-data,
.xr-attrs {
  padding-left: 25px !important;
}

.xr-attrs,
.xr-var-attrs,
.xr-var-data {
  grid-column: 1 / -1;
}

dl.xr-attrs {
  padding: 0;
  margin: 0;
  display: grid;
  grid-template-columns: 125px auto;
}

.xr-attrs dt,
.xr-attrs dd {
  padding: 0;
  margin: 0;
  float: left;
  padding-right: 10px;
  width: auto;
}

.xr-attrs dt {
  font-weight: normal;
  grid-column: 1;
}

.xr-attrs dt:hover span {
  display: inline-block;
  background: var(--xr-background-color);
  padding-right: 10px;
}

.xr-attrs dd {
  grid-column: 2;
  white-space: pre-wrap;
  word-break: break-all;
}

.xr-icon-database,
.xr-icon-file-text2 {
  display: inline-block;
  vertical-align: middle;
  width: 1em;
  height: 1.5em !important;
  stroke-width: 0;
  stroke: currentColor;
  fill: currentColor;
}
</style><pre class='xr-text-repr-fallback'>&lt;xarray.DataArray &#x27;Phi_prime&#x27; (member_id: 12, Ac: 8, Eo: 7, time: 552, z_t: 40, nlat: 384, nlon: 320)&gt;
dask.array&lt;getitem, shape=(12, 8, 7, 552, 40, 384, 320), dtype=float64, chunksize=(1, 1, 1, 12, 10, 384, 320), chunktype=numpy.ndarray&gt;
Coordinates:
  * Ac         (Ac) float64 0.0258 0.0399 0.0619 0.0959 ... 0.2303 0.3568 0.5528
  * Eo         (Eo) float64 -0.2 -0.0 0.2 0.4 0.6 0.8 1.0
    KMT        (nlat, nlon) float64 0.0 0.0 0.0 0.0 0.0 ... 0.0 0.0 0.0 0.0 0.0
    TAREA      (nlat, nlon) float64 1.125e+13 1.125e+13 ... 7.431e+12 7.432e+12
    TLAT       (nlat, nlon) float64 -79.22 -79.22 -79.22 ... 72.2 72.19 72.19
    TLONG      (nlat, nlon) float64 320.6 321.7 322.8 ... 318.9 319.4 319.8
    ULAT       (nlat, nlon) float64 -78.95 -78.95 -78.95 ... 72.42 72.41 72.41
    ULONG      (nlat, nlon) float64 321.1 322.3 323.4 ... 319.2 319.6 320.0
    dz         (z_t) float32 1e+03 1e+03 1e+03 ... 8.521e+03 9.844e+03 1.133e+04
  * time       (time) object 1920-01-17 00:29:59.999993 ... 1965-12-16 12:00:00
  * z_t        (z_t) float32 500.0 1.5e+03 2.5e+03 ... 8.788e+04 9.847e+04
  * member_id  (member_id) int64 9 10 11 12 13 14 15 16 17 18 19 20
Dimensions without coordinates: nlat, nlon</pre><div class='xr-wrap' style='display:none'><div class='xr-header'><div class='xr-obj-type'>xarray.DataArray</div><div class='xr-array-name'>'Phi_prime'</div><ul class='xr-dim-list'><li><span class='xr-has-index'>member_id</span>: 12</li><li><span class='xr-has-index'>Ac</span>: 8</li><li><span class='xr-has-index'>Eo</span>: 7</li><li><span class='xr-has-index'>time</span>: 552</li><li><span class='xr-has-index'>z_t</span>: 40</li><li><span>nlat</span>: 384</li><li><span>nlon</span>: 320</li></ul></div><ul class='xr-sections'><li class='xr-section-item'><div class='xr-array-wrap'><input id='section-2036598c-9513-47b9-a52e-01126a2e1170' class='xr-array-in' type='checkbox' checked><label for='section-2036598c-9513-47b9-a52e-01126a2e1170' title='Show/hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-array-preview xr-preview'><span>dask.array&lt;chunksize=(1, 1, 1, 12, 10, 384, 320), meta=np.ndarray&gt;</span></div><div class='xr-array-data'><table>
    <tr>
        <td>
            <table>
                <thead>
                    <tr>
                        <td> </td>
                        <th> Array </th>
                        <th> Chunk </th>
                    </tr>
                </thead>
                <tbody>

                    <tr>
                        <th> Bytes </th>
                        <td> 13.27 TiB </td>
                        <td> 112.50 MiB </td>
                    </tr>

                    <tr>
                        <th> Shape </th>
                        <td> (12, 8, 7, 552, 40, 384, 320) </td>
                        <td> (1, 1, 1, 12, 10, 384, 320) </td>
                    </tr>
                    <tr>
                        <th> Count </th>
                        <td> 3042840 Tasks </td>
                        <td> 123648 Chunks </td>
                    </tr>
                    <tr>
                    <th> Type </th>
                    <td> float64 </td>
                    <td> numpy.ndarray </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td>
        <svg width="929" height="155" style="stroke:rgb(0,0,0);stroke-width:1" >

  <!-- Horizontal lines -->
  <line x1="0" y1="0" x2="29" y2="0" style="stroke-width:2" />
  <line x1="0" y1="25" x2="29" y2="25" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="0" y1="0" x2="0" y2="25" style="stroke-width:2" />
  <line x1="2" y1="0" x2="2" y2="25" />
  <line x1="4" y1="0" x2="4" y2="25" />
  <line x1="7" y1="0" x2="7" y2="25" />
  <line x1="9" y1="0" x2="9" y2="25" />
  <line x1="12" y1="0" x2="12" y2="25" />
  <line x1="14" y1="0" x2="14" y2="25" />
  <line x1="17" y1="0" x2="17" y2="25" />
  <line x1="19" y1="0" x2="19" y2="25" />
  <line x1="22" y1="0" x2="22" y2="25" />
  <line x1="24" y1="0" x2="24" y2="25" />
  <line x1="27" y1="0" x2="27" y2="25" />
  <line x1="29" y1="0" x2="29" y2="25" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="0.0,0.0 29.503486635972166,0.0 29.503486635972166,25.412616514582485 0.0,25.412616514582485" style="fill:#ECB172A0;stroke-width:0"/>

  <!-- Text -->
  <text x="14.751743" y="45.412617" font-size="1.0rem" font-weight="100" text-anchor="middle" >12</text>
  <text x="49.503487" y="12.706308" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(0,49.503487,12.706308)">1</text>


  <!-- Horizontal lines -->
  <line x1="99" y1="0" x2="115" y2="16" style="stroke-width:2" />
  <line x1="99" y1="3" x2="115" y2="19" />
  <line x1="99" y1="7" x2="115" y2="23" />
  <line x1="99" y1="11" x2="115" y2="27" />
  <line x1="99" y1="15" x2="115" y2="31" />
  <line x1="99" y1="18" x2="115" y2="35" />
  <line x1="99" y1="22" x2="115" y2="38" />
  <line x1="99" y1="26" x2="115" y2="42" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="99" y1="0" x2="99" y2="26" style="stroke-width:2" />
  <line x1="101" y1="2" x2="101" y2="28" />
  <line x1="103" y1="4" x2="103" y2="30" />
  <line x1="105" y1="6" x2="105" y2="32" />
  <line x1="107" y1="8" x2="107" y2="34" />
  <line x1="109" y1="10" x2="109" y2="36" />
  <line x1="111" y1="12" x2="111" y2="38" />
  <line x1="113" y1="14" x2="113" y2="40" />
  <line x1="115" y1="16" x2="115" y2="42" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="99.0,0.0 115.04505888079109,16.045058880791082 115.04505888079109,42.63089711215696 99.0,26.585838231365877" style="fill:#ECB172A0;stroke-width:0"/>

  <!-- Horizontal lines -->
  <line x1="99" y1="0" x2="219" y2="0" style="stroke-width:2" />
  <line x1="101" y1="2" x2="221" y2="2" />
  <line x1="103" y1="4" x2="223" y2="4" />
  <line x1="105" y1="6" x2="225" y2="6" />
  <line x1="107" y1="8" x2="227" y2="8" />
  <line x1="109" y1="10" x2="229" y2="10" />
  <line x1="111" y1="12" x2="231" y2="12" />
  <line x1="113" y1="14" x2="233" y2="14" />
  <line x1="115" y1="16" x2="235" y2="16" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="99" y1="0" x2="115" y2="16" style="stroke-width:2" />
  <line x1="101" y1="0" x2="117" y2="16" />
  <line x1="104" y1="0" x2="120" y2="16" />
  <line x1="109" y1="0" x2="125" y2="16" />
  <line x1="112" y1="0" x2="128" y2="16" />
  <line x1="117" y1="0" x2="133" y2="16" />
  <line x1="119" y1="0" x2="135" y2="16" />
  <line x1="125" y1="0" x2="141" y2="16" />
  <line x1="127" y1="0" x2="143" y2="16" />
  <line x1="130" y1="0" x2="146" y2="16" />
  <line x1="135" y1="0" x2="151" y2="16" />
  <line x1="138" y1="0" x2="154" y2="16" />
  <line x1="143" y1="0" x2="159" y2="16" />
  <line x1="145" y1="0" x2="162" y2="16" />
  <line x1="151" y1="0" x2="167" y2="16" />
  <line x1="153" y1="0" x2="169" y2="16" />
  <line x1="159" y1="0" x2="175" y2="16" />
  <line x1="161" y1="0" x2="177" y2="16" />
  <line x1="164" y1="0" x2="180" y2="16" />
  <line x1="169" y1="0" x2="185" y2="16" />
  <line x1="172" y1="0" x2="188" y2="16" />
  <line x1="177" y1="0" x2="193" y2="16" />
  <line x1="179" y1="0" x2="195" y2="16" />
  <line x1="185" y1="0" x2="201" y2="16" />
  <line x1="187" y1="0" x2="203" y2="16" />
  <line x1="190" y1="0" x2="206" y2="16" />
  <line x1="195" y1="0" x2="211" y2="16" />
  <line x1="198" y1="0" x2="214" y2="16" />
  <line x1="203" y1="0" x2="219" y2="16" />
  <line x1="205" y1="0" x2="222" y2="16" />
  <line x1="211" y1="0" x2="227" y2="16" />
  <line x1="213" y1="0" x2="229" y2="16" />
  <line x1="219" y1="0" x2="235" y2="16" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="99.0,0.0 219.0,0.0 235.0450588807911,16.045058880791082 115.04505888079109,16.045058880791082" style="fill:#8B4903A0;stroke-width:0"/>

  <!-- Horizontal lines -->
  <line x1="115" y1="16" x2="235" y2="16" style="stroke-width:2" />
  <line x1="115" y1="19" x2="235" y2="19" />
  <line x1="115" y1="23" x2="235" y2="23" />
  <line x1="115" y1="27" x2="235" y2="27" />
  <line x1="115" y1="31" x2="235" y2="31" />
  <line x1="115" y1="35" x2="235" y2="35" />
  <line x1="115" y1="38" x2="235" y2="38" />
  <line x1="115" y1="42" x2="235" y2="42" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="115" y1="16" x2="115" y2="42" style="stroke-width:2" />
  <line x1="117" y1="16" x2="117" y2="42" />
  <line x1="120" y1="16" x2="120" y2="42" />
  <line x1="125" y1="16" x2="125" y2="42" />
  <line x1="128" y1="16" x2="128" y2="42" />
  <line x1="133" y1="16" x2="133" y2="42" />
  <line x1="135" y1="16" x2="135" y2="42" />
  <line x1="141" y1="16" x2="141" y2="42" />
  <line x1="143" y1="16" x2="143" y2="42" />
  <line x1="146" y1="16" x2="146" y2="42" />
  <line x1="151" y1="16" x2="151" y2="42" />
  <line x1="154" y1="16" x2="154" y2="42" />
  <line x1="159" y1="16" x2="159" y2="42" />
  <line x1="162" y1="16" x2="162" y2="42" />
  <line x1="167" y1="16" x2="167" y2="42" />
  <line x1="169" y1="16" x2="169" y2="42" />
  <line x1="175" y1="16" x2="175" y2="42" />
  <line x1="177" y1="16" x2="177" y2="42" />
  <line x1="180" y1="16" x2="180" y2="42" />
  <line x1="185" y1="16" x2="185" y2="42" />
  <line x1="188" y1="16" x2="188" y2="42" />
  <line x1="193" y1="16" x2="193" y2="42" />
  <line x1="195" y1="16" x2="195" y2="42" />
  <line x1="201" y1="16" x2="201" y2="42" />
  <line x1="203" y1="16" x2="203" y2="42" />
  <line x1="206" y1="16" x2="206" y2="42" />
  <line x1="211" y1="16" x2="211" y2="42" />
  <line x1="214" y1="16" x2="214" y2="42" />
  <line x1="219" y1="16" x2="219" y2="42" />
  <line x1="222" y1="16" x2="222" y2="42" />
  <line x1="227" y1="16" x2="227" y2="42" />
  <line x1="229" y1="16" x2="229" y2="42" />
  <line x1="235" y1="16" x2="235" y2="42" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="115.04505888079109,16.045058880791082 235.0450588807911,16.045058880791082 235.0450588807911,42.63089711215696 115.04505888079109,42.63089711215696" style="fill:#8B4903A0;stroke-width:0"/>

  <!-- Text -->
  <text x="175.045059" y="62.630897" font-size="1.0rem" font-weight="100" text-anchor="middle" >552</text>
  <text x="255.045059" y="29.337978" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(0,255.045059,29.337978)">7</text>
  <text x="97.022529" y="54.608368" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(45,97.022529,54.608368)">8</text>


  <!-- Horizontal lines -->
  <line x1="394" y1="0" x2="415" y2="21" style="stroke-width:2" />
  <line x1="394" y1="83" x2="415" y2="105" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="394" y1="0" x2="394" y2="83" style="stroke-width:2" />
  <line x1="399" y1="5" x2="399" y2="88" />
  <line x1="404" y1="10" x2="404" y2="94" />
  <line x1="410" y1="16" x2="410" y2="99" />
  <line x1="415" y1="21" x2="415" y2="105" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="394.0,0.0 415.61464652337577,21.61464652337574 415.61464652337577,105.09290739294096 394.0,83.47826086956522" style="fill:#ECB172A0;stroke-width:0"/>

  <!-- Horizontal lines -->
  <line x1="394" y1="0" x2="463" y2="0" style="stroke-width:2" />
  <line x1="399" y1="5" x2="468" y2="5" />
  <line x1="404" y1="10" x2="474" y2="10" />
  <line x1="410" y1="16" x2="479" y2="16" />
  <line x1="415" y1="21" x2="485" y2="21" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="394" y1="0" x2="415" y2="21" style="stroke-width:2" />
  <line x1="463" y1="0" x2="485" y2="21" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="394.0,0.0 463.5652173913044,0.0 485.17986391468014,21.61464652337574 415.61464652337577,21.61464652337574" style="fill:#ECB172A0;stroke-width:0"/>

  <!-- Horizontal lines -->
  <line x1="415" y1="21" x2="485" y2="21" style="stroke-width:2" />
  <line x1="415" y1="105" x2="485" y2="105" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="415" y1="21" x2="415" y2="105" style="stroke-width:2" />
  <line x1="485" y1="21" x2="485" y2="105" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="415.61464652337577,21.61464652337574 485.17986391468014,21.61464652337574 485.17986391468014,105.09290739294096 415.61464652337577,105.09290739294096" style="fill:#ECB172A0;stroke-width:0"/>

  <!-- Text -->
  <text x="450.397255" y="125.092907" font-size="1.0rem" font-weight="100" text-anchor="middle" >320</text>
  <text x="505.179864" y="63.353777" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(-90,505.179864,63.353777)">384</text>
  <text x="394.807323" y="114.285584" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(45,394.807323,114.285584)">40</text>
</svg>
        </td>
    </tr>
</table></div></div></li><li class='xr-section-item'><input id='section-1f86aa5e-42df-4cb7-a965-8fb01c96d669' class='xr-section-summary-in' type='checkbox'  checked><label for='section-1f86aa5e-42df-4cb7-a965-8fb01c96d669' class='xr-section-summary' >Coordinates: <span>(12)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>Ac</span></div><div class='xr-var-dims'>(Ac)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>0.0258 0.0399 ... 0.3568 0.5528</div><input id='attrs-2974f31b-3415-41bd-9975-0f532e8ba52d' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-2974f31b-3415-41bd-9975-0f532e8ba52d' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-6ca35abc-d587-40d6-ade2-8b8acec19c8f' class='xr-var-data-in' type='checkbox'><label for='data-6ca35abc-d587-40d6-ade2-8b8acec19c8f' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>Hypoxic tolerance (normalized by critical MI)</dd><dt><span>units :</span></dt><dd>1/kPa</dd></dl></div><div class='xr-var-data'><pre>array([0.0258, 0.0399, 0.0619, 0.0959, 0.1486, 0.2303, 0.3568, 0.5528])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>Eo</span></div><div class='xr-var-dims'>(Eo)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>-0.2 -0.0 0.2 0.4 0.6 0.8 1.0</div><input id='attrs-4049ce65-9370-4d40-aeaf-932918b0c8ca' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-4049ce65-9370-4d40-aeaf-932918b0c8ca' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-e673ae36-0e61-453d-a837-7ba735814ca6' class='xr-var-data-in' type='checkbox'><label for='data-e673ae36-0e61-453d-a837-7ba735814ca6' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>Temperature sensitivity of MI</dd><dt><span>units :</span></dt><dd>eV</dd></dl></div><div class='xr-var-data'><pre>array([-0.2, -0. ,  0.2,  0.4,  0.6,  0.8,  1. ])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>KMT</span></div><div class='xr-var-dims'>(nlat, nlon)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>0.0 0.0 0.0 0.0 ... 0.0 0.0 0.0 0.0</div><input id='attrs-19c76062-5f4e-4b42-9b01-2d2233bc3c09' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-19c76062-5f4e-4b42-9b01-2d2233bc3c09' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-fd294977-6da5-4a18-af39-0413ae5890a5' class='xr-var-data-in' type='checkbox'><label for='data-fd294977-6da5-4a18-af39-0413ae5890a5' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>k Index of Deepest Grid Cell on T Grid</dd></dl></div><div class='xr-var-data'><pre>array([[ 0.,  0.,  0., ...,  0.,  0.,  0.],
       [ 0.,  0.,  0., ...,  0.,  0.,  0.],
       [38., 38., 38., ...,  0.,  0.,  0.],
       ...,
       [ 0.,  0.,  0., ...,  0.,  0.,  0.],
       [ 0.,  0.,  0., ...,  0.,  0.,  0.],
       [ 0.,  0.,  0., ...,  0.,  0.,  0.]])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>TAREA</span></div><div class='xr-var-dims'>(nlat, nlon)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>1.125e+13 1.125e+13 ... 7.432e+12</div><input id='attrs-76ee1333-2ab9-4e8c-9483-530d64866dd2' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-76ee1333-2ab9-4e8c-9483-530d64866dd2' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-56e80015-1e03-445e-9d5b-4b5ee4f201cc' class='xr-var-data-in' type='checkbox'><label for='data-56e80015-1e03-445e-9d5b-4b5ee4f201cc' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>area of T cells</dd><dt><span>units :</span></dt><dd>centimeter^2</dd></dl></div><div class='xr-var-data'><pre>array([[1.12478609e+13, 1.12464644e+13, 1.12436015e+13, ...,
        1.12436015e+13, 1.12464644e+13, 1.12478609e+13],
       [1.45745047e+13, 1.45745047e+13, 1.45745047e+13, ...,
        1.45745047e+13, 1.45745047e+13, 1.45745047e+13],
       [1.52530781e+13, 1.52530781e+13, 1.52530781e+13, ...,
        1.52530781e+13, 1.52530781e+13, 1.52530781e+13],
       ...,
       [8.81450970e+12, 8.81311214e+12, 8.81016095e+12, ...,
        8.81016095e+12, 8.81311214e+12, 8.81450970e+12],
       [8.13997430e+12, 8.13851312e+12, 8.13544719e+12, ...,
        8.13544719e+12, 8.13851312e+12, 8.13997430e+12],
       [7.43222977e+12, 7.43072723e+12, 7.42759165e+12, ...,
        7.42759165e+12, 7.43072723e+12, 7.43222977e+12]])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>TLAT</span></div><div class='xr-var-dims'>(nlat, nlon)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>-79.22 -79.22 ... 72.19 72.19</div><input id='attrs-040fa579-6126-454e-8e0e-a21fe66d07f3' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-040fa579-6126-454e-8e0e-a21fe66d07f3' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-6f884468-eeab-417f-a47f-d306663333a3' class='xr-var-data-in' type='checkbox'><label for='data-6f884468-eeab-417f-a47f-d306663333a3' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>array of t-grid latitudes</dd><dt><span>units :</span></dt><dd>degrees_north</dd></dl></div><div class='xr-var-data'><pre>array([[-79.22052261, -79.22052261, -79.22052261, ..., -79.22052261,
        -79.22052261, -79.22052261],
       [-78.68630626, -78.68630626, -78.68630626, ..., -78.68630626,
        -78.68630626, -78.68630626],
       [-78.15208992, -78.15208992, -78.15208992, ..., -78.15208992,
        -78.15208992, -78.15208992],
       ...,
       [ 71.29031715,  71.29408252,  71.30160692, ...,  71.30160692,
         71.29408252,  71.29031716],
       [ 71.73524335,  71.73881845,  71.74596231, ...,  71.74596231,
         71.73881845,  71.73524335],
       [ 72.18597561,  72.18933231,  72.19603941, ...,  72.19603941,
         72.18933231,  72.18597562]])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>TLONG</span></div><div class='xr-var-dims'>(nlat, nlon)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>320.6 321.7 322.8 ... 319.4 319.8</div><input id='attrs-92980e84-c92c-4eb9-80b2-040e9ad205b7' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-92980e84-c92c-4eb9-80b2-040e9ad205b7' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-5bfbd31c-3d3f-4bb2-98aa-2d2169eccb0f' class='xr-var-data-in' type='checkbox'><label for='data-5bfbd31c-3d3f-4bb2-98aa-2d2169eccb0f' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>array of t-grid longitudes</dd><dt><span>units :</span></dt><dd>degrees_east</dd></dl></div><div class='xr-var-data'><pre>array([[320.56250892, 321.68750895, 322.81250898, ..., 317.18750883,
        318.31250886, 319.43750889],
       [320.56250892, 321.68750895, 322.81250898, ..., 317.18750883,
        318.31250886, 319.43750889],
       [320.56250892, 321.68750895, 322.81250898, ..., 317.18750883,
        318.31250886, 319.43750889],
       ...,
       [320.25133086, 320.75380113, 321.25577325, ..., 318.74424456,
        319.24621668, 319.74869143],
       [320.23459477, 320.70358949, 321.17207442, ..., 318.82794339,
        319.29642832, 319.76542721],
       [320.21650899, 320.6493303 , 321.08163473, ..., 318.91838308,
        319.3506875 , 319.78351267]])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>ULAT</span></div><div class='xr-var-dims'>(nlat, nlon)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>-78.95 -78.95 ... 72.41 72.41</div><input id='attrs-8c646bb7-1eed-4196-b6a5-8981d879d5e3' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-8c646bb7-1eed-4196-b6a5-8981d879d5e3' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-2a26ea51-75a8-4f9a-b836-fbe4969d1d70' class='xr-var-data-in' type='checkbox'><label for='data-2a26ea51-75a8-4f9a-b836-fbe4969d1d70' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>array of u-grid latitudes</dd><dt><span>units :</span></dt><dd>degrees_north</dd></dl></div><div class='xr-var-data'><pre>array([[-78.95289509, -78.95289509, -78.95289509, ..., -78.95289509,
        -78.95289509, -78.95289509],
       [-78.41865507, -78.41865507, -78.41865507, ..., -78.41865507,
        -78.41865507, -78.41865507],
       [-77.88441506, -77.88441506, -77.88441506, ..., -77.88441506,
        -77.88441506, -77.88441506],
       ...,
       [ 71.51215224,  71.51766482,  71.52684191, ...,  71.51766482,
         71.51215224,  71.51031365],
       [ 71.95983548,  71.96504258,  71.97371054, ...,  71.96504258,
         71.95983548,  71.95809872],
       [ 72.4135549 ,  72.41841155,  72.42649554, ...,  72.41841155,
         72.4135549 ,  72.41193498]])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>ULONG</span></div><div class='xr-var-dims'>(nlat, nlon)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>321.1 322.3 323.4 ... 319.6 320.0</div><input id='attrs-fb5c6b6a-3fab-434b-b1dd-d53786391688' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-fb5c6b6a-3fab-434b-b1dd-d53786391688' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-2bd6b8ce-401e-4e91-9d96-02423b53cdea' class='xr-var-data-in' type='checkbox'><label for='data-2bd6b8ce-401e-4e91-9d96-02423b53cdea' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>array of u-grid longitudes</dd><dt><span>units :</span></dt><dd>degrees_east</dd></dl></div><div class='xr-var-data'><pre>array([[321.12500894, 322.25000897, 323.375009  , ..., 317.75000884,
        318.87500887, 320.0000089 ],
       [321.12500894, 322.25000897, 323.375009  , ..., 317.75000884,
        318.87500887, 320.0000089 ],
       [321.12500894, 322.25000897, 323.375009  , ..., 317.75000884,
        318.87500887, 320.0000089 ],
       ...,
       [320.48637802, 320.97240884, 321.4577638 , ..., 319.02760897,
        319.51363979, 320.00001324],
       [320.45160767, 320.90286181, 321.35342745, ..., 319.097156  ,
        319.54841014, 320.00001293],
       [320.41397858, 320.82760085, 321.24052915, ..., 319.17241696,
        319.58603923, 320.00001259]])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>dz</span></div><div class='xr-var-dims'>(z_t)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>1e+03 1e+03 ... 9.844e+03 1.133e+04</div><input id='attrs-72572710-d35b-4f3b-91a1-1e13c1f2381b' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-72572710-d35b-4f3b-91a1-1e13c1f2381b' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-cf8d522a-8682-47db-8f96-acdd269808c7' class='xr-var-data-in' type='checkbox'><label for='data-cf8d522a-8682-47db-8f96-acdd269808c7' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>thickness of layer k</dd><dt><span>units :</span></dt><dd>centimeters</dd></dl></div><div class='xr-var-data'><pre>array([ 1000.    ,  1000.    ,  1000.    ,  1000.    ,  1000.    ,
        1000.    ,  1000.    ,  1000.    ,  1000.    ,  1000.    ,
        1000.    ,  1000.    ,  1000.    ,  1000.    ,  1000.    ,
        1000.    ,  1019.6808,  1056.4484,  1105.9951,  1167.807 ,
        1242.4133,  1330.9678,  1435.141 ,  1557.1259,  1699.6796,
        1866.2124,  2060.9023,  2288.852 ,  2556.247 ,  2870.575 ,
        3240.8372,  3677.7725,  4194.031 ,  4804.2236,  5524.7544,
        6373.192 ,  7366.945 ,  8520.893 ,  9843.658 , 11332.466 ],
      dtype=float32)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>time</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>object</div><div class='xr-var-preview xr-preview'>1920-01-17 00:29:59.999993 ... 1...</div><input id='attrs-69935925-a0f0-420f-87af-2e09ccf1b37c' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-69935925-a0f0-420f-87af-2e09ccf1b37c' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-26244c76-acc7-4c9d-8bf8-ae21d250da98' class='xr-var-data-in' type='checkbox'><label for='data-26244c76-acc7-4c9d-8bf8-ae21d250da98' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>bounds :</span></dt><dd>time_bound</dd><dt><span>long_name :</span></dt><dd>time</dd><dt><span>note :</span></dt><dd>time recomputed as time_bound.mean(d2)</dd></dl></div><div class='xr-var-data'><pre>array([cftime.DatetimeNoLeap(1920, 1, 17, 0, 29, 59, 999993, has_year_zero=True),
       cftime.DatetimeNoLeap(1920, 2, 15, 0, 0, 0, 0, has_year_zero=True),
       cftime.DatetimeNoLeap(1920, 3, 16, 12, 0, 0, 0, has_year_zero=True),
       ...,
       cftime.DatetimeNoLeap(1965, 10, 16, 12, 0, 0, 0, has_year_zero=True),
       cftime.DatetimeNoLeap(1965, 11, 16, 0, 0, 0, 0, has_year_zero=True),
       cftime.DatetimeNoLeap(1965, 12, 16, 12, 0, 0, 0, has_year_zero=True)],
      dtype=object)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>z_t</span></div><div class='xr-var-dims'>(z_t)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>500.0 1.5e+03 ... 9.847e+04</div><input id='attrs-4e13d1c8-8272-4808-87f6-4110c99cc7ff' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-4e13d1c8-8272-4808-87f6-4110c99cc7ff' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-2a607e1e-5f8b-4f88-83ee-370aa9f61d02' class='xr-var-data-in' type='checkbox'><label for='data-2a607e1e-5f8b-4f88-83ee-370aa9f61d02' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>depth from surface to midpoint of layer</dd><dt><span>positive :</span></dt><dd>down</dd><dt><span>units :</span></dt><dd>centimeters</dd><dt><span>valid_max :</span></dt><dd>537500.0</dd><dt><span>valid_min :</span></dt><dd>500.0</dd></dl></div><div class='xr-var-data'><pre>array([  500.   ,  1500.   ,  2500.   ,  3500.   ,  4500.   ,  5500.   ,
        6500.   ,  7500.   ,  8500.   ,  9500.   , 10500.   , 11500.   ,
       12500.   , 13500.   , 14500.   , 15500.   , 16509.84 , 17547.904,
       18629.127, 19766.027, 20971.139, 22257.828, 23640.883, 25137.016,
       26765.42 , 28548.365, 30511.922, 32686.799, 35109.348, 37822.76 ,
       40878.465, 44337.77 , 48273.67 , 52772.8  , 57937.29 , 63886.26 ,
       70756.33 , 78700.25 , 87882.52 , 98470.586], dtype=float32)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>member_id</span></div><div class='xr-var-dims'>(member_id)</div><div class='xr-var-dtype'>int64</div><div class='xr-var-preview xr-preview'>9 10 11 12 13 14 15 16 17 18 19 20</div><input id='attrs-cdab4293-37b0-453f-8e85-6da36c5ec00d' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-cdab4293-37b0-453f-8e85-6da36c5ec00d' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-7bb22d73-bbae-4e60-a389-2e03048e9450' class='xr-var-data-in' type='checkbox'><label for='data-7bb22d73-bbae-4e60-a389-2e03048e9450' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([ 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20])</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-33dc524a-3982-4da3-8927-67373d163f26' class='xr-section-summary-in' type='checkbox' disabled ><label for='section-33dc524a-3982-4da3-8927-67373d163f26' class='xr-section-summary'  title='Expand/collapse section'>Attributes: <span>(0)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><dl class='xr-attrs'></dl></div></li></ul></div></div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">exp_keys</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;20C.ocn.pop.h.drift-corrected&#39;</span><span class="p">,</span> <span class="s1">&#39;RCP85.ocn.pop.h.drift-corrected&#39;</span><span class="p">]</span>
<span class="n">ds</span> <span class="o">=</span> <span class="n">xr</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">dsets</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">exp_keys</span><span class="p">],</span> <span class="n">dim</span><span class="o">=</span><span class="s1">&#39;time&#39;</span><span class="p">,</span> <span class="n">coords</span><span class="o">=</span><span class="s1">&#39;minimal&#39;</span><span class="p">)</span>
<span class="n">ds</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">aero_hab_glb</span> <span class="o">=</span> <span class="p">(</span><span class="n">vol</span> <span class="o">*</span> <span class="n">viability_mask</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">([</span><span class="s1">&#39;z_t&#39;</span><span class="p">,</span> <span class="s1">&#39;nlat&#39;</span><span class="p">,</span> <span class="s1">&#39;nlon&#39;</span><span class="p">])</span>
<span class="c1">#aero_hab_glb *= 1e-6 * 1e-6 </span>
<span class="n">aero_hab_glb</span> <span class="o">=</span> <span class="n">aero_hab_glb</span><span class="o">.</span><span class="n">compute</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">KeyboardInterrupt</span><span class="g g-Whitespace">                         </span>Traceback (most recent call last)
<span class="o">/</span><span class="n">glade</span><span class="o">/</span><span class="n">scratch</span><span class="o">/</span><span class="n">mclong</span><span class="o">/</span><span class="n">tmp</span><span class="o">/</span><span class="n">ipykernel_116816</span><span class="o">/</span><span class="mf">66273511.</span><span class="n">py</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="g g-Whitespace">      </span><span class="mi">1</span> <span class="n">aero_hab_glb</span> <span class="o">=</span> <span class="p">(</span><span class="n">vol</span> <span class="o">*</span> <span class="n">viability_mask</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">([</span><span class="s1">&#39;z_t&#39;</span><span class="p">,</span> <span class="s1">&#39;nlat&#39;</span><span class="p">,</span> <span class="s1">&#39;nlon&#39;</span><span class="p">])</span>
<span class="g g-Whitespace">      </span><span class="mi">2</span> <span class="c1">#aero_hab_glb *= 1e-6 * 1e-6</span>
<span class="ne">----&gt; </span><span class="mi">3</span> <span class="n">aero_hab_glb</span> <span class="o">=</span> <span class="n">aero_hab_glb</span><span class="o">.</span><span class="n">compute</span><span class="p">()</span>

<span class="nn">/glade/work/mclong/miniconda3/envs/metabolic/lib/python3.7/site-packages/xarray/core/dataarray.py</span> in <span class="ni">compute</span><span class="nt">(self, **kwargs)</span>
<span class="g g-Whitespace">    </span><span class="mi">949</span>         <span class="sd">&quot;&quot;&quot;</span>
<span class="g g-Whitespace">    </span><span class="mi">950</span><span class="sd">         new = self.copy(deep=False)</span>
<span class="ne">--&gt; </span><span class="mi">951</span><span class="sd">         return new.load(**kwargs)</span>
<span class="g g-Whitespace">    </span><span class="mi">952</span><span class="sd"> </span>
<span class="g g-Whitespace">    </span><span class="mi">953</span><span class="sd">     def persist(self, **kwargs) -&gt; &quot;DataArray&quot;:</span>

<span class="nn">/glade/work/mclong/miniconda3/envs/metabolic/lib/python3.7/site-packages/xarray/core/dataarray.py</span> in <span class="ni">load</span><span class="nt">(self, **kwargs)</span>
<span class="g g-Whitespace">    </span><span class="mi">923</span><span class="sd">         dask.compute</span>
<span class="g g-Whitespace">    </span><span class="mi">924</span><span class="sd">         &quot;&quot;&quot;</span>
<span class="ne">--&gt; </span><span class="mi">925</span>         <span class="n">ds</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_to_temp_dataset</span><span class="p">()</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">926</span>         <span class="n">new</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_from_temp_dataset</span><span class="p">(</span><span class="n">ds</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">927</span>         <span class="bp">self</span><span class="o">.</span><span class="n">_variable</span> <span class="o">=</span> <span class="n">new</span><span class="o">.</span><span class="n">_variable</span>

<span class="nn">/glade/work/mclong/miniconda3/envs/metabolic/lib/python3.7/site-packages/xarray/core/dataset.py</span> in <span class="ni">load</span><span class="nt">(self, **kwargs)</span>
<span class="g g-Whitespace">    </span><span class="mi">860</span> 
<span class="g g-Whitespace">    </span><span class="mi">861</span>             <span class="c1"># evaluate all the dask arrays simultaneously</span>
<span class="ne">--&gt; </span><span class="mi">862</span>             <span class="n">evaluated_data</span> <span class="o">=</span> <span class="n">da</span><span class="o">.</span><span class="n">compute</span><span class="p">(</span><span class="o">*</span><span class="n">lazy_data</span><span class="o">.</span><span class="n">values</span><span class="p">(),</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">863</span> 
<span class="g g-Whitespace">    </span><span class="mi">864</span>             <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">data</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">lazy_data</span><span class="p">,</span> <span class="n">evaluated_data</span><span class="p">):</span>

<span class="nn">/glade/work/mclong/miniconda3/envs/metabolic/lib/python3.7/site-packages/dask/base.py</span> in <span class="ni">compute</span><span class="nt">(traverse, optimize_graph, scheduler, get, *args, **kwargs)</span>
<span class="g g-Whitespace">    </span><span class="mi">563</span>     <span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">564</span> 
<span class="ne">--&gt; </span><span class="mi">565</span>     <span class="n">dsk</span> <span class="o">=</span> <span class="n">collections_to_dsk</span><span class="p">(</span><span class="n">collections</span><span class="p">,</span> <span class="n">optimize_graph</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">566</span>     <span class="n">keys</span><span class="p">,</span> <span class="n">postcomputes</span> <span class="o">=</span> <span class="p">[],</span> <span class="p">[]</span>
<span class="g g-Whitespace">    </span><span class="mi">567</span>     <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">collections</span><span class="p">:</span>

<span class="nn">/glade/work/mclong/miniconda3/envs/metabolic/lib/python3.7/site-packages/dask/base.py</span> in <span class="ni">collections_to_dsk</span><span class="nt">(collections, optimize_graph, optimizations, **kwargs)</span>
<span class="g g-Whitespace">    </span><span class="mi">338</span>         <span class="k">for</span> <span class="n">opt</span><span class="p">,</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">groups</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
<span class="g g-Whitespace">    </span><span class="mi">339</span>             <span class="n">dsk</span><span class="p">,</span> <span class="n">keys</span> <span class="o">=</span> <span class="n">_extract_graph_and_keys</span><span class="p">(</span><span class="n">val</span><span class="p">)</span>
<span class="ne">--&gt; </span><span class="mi">340</span>             <span class="n">dsk</span> <span class="o">=</span> <span class="n">opt</span><span class="p">(</span><span class="n">dsk</span><span class="p">,</span> <span class="n">keys</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">341</span> 
<span class="g g-Whitespace">    </span><span class="mi">342</span>             <span class="k">for</span> <span class="n">opt_inner</span> <span class="ow">in</span> <span class="n">optimizations</span><span class="p">:</span>

<span class="nn">/glade/work/mclong/miniconda3/envs/metabolic/lib/python3.7/site-packages/dask/array/optimization.py</span> in <span class="ni">optimize</span><span class="nt">(dsk, keys, fuse_keys, fast_functions, inline_functions_fast_functions, rename_fused_keys, **kwargs)</span>
<span class="g g-Whitespace">     </span><span class="mi">65</span>         <span class="n">hold</span> <span class="o">+</span> <span class="n">keys</span> <span class="o">+</span> <span class="p">(</span><span class="n">fuse_keys</span> <span class="ow">or</span> <span class="p">[]),</span>
<span class="g g-Whitespace">     </span><span class="mi">66</span>         <span class="n">dependencies</span><span class="p">,</span>
<span class="ne">---&gt; </span><span class="mi">67</span>         <span class="n">rename_keys</span><span class="o">=</span><span class="n">rename_fused_keys</span><span class="p">,</span>
<span class="g g-Whitespace">     </span><span class="mi">68</span>     <span class="p">)</span>
<span class="g g-Whitespace">     </span><span class="mi">69</span>     <span class="k">if</span> <span class="n">inline_functions_fast_functions</span><span class="p">:</span>

<span class="nn">/glade/work/mclong/miniconda3/envs/metabolic/lib/python3.7/site-packages/dask/optimization.py</span> in <span class="ni">fuse</span><span class="nt">(dsk, keys, dependencies, ave_width, max_width, max_height, max_depth_new_edges, rename_keys, fuse_subgraphs)</span>
<span class="g g-Whitespace">    </span><span class="mi">844</span>     <span class="k">if</span> <span class="n">key_renamer</span><span class="p">:</span>
<span class="g g-Whitespace">    </span><span class="mi">845</span>         <span class="k">for</span> <span class="n">root_key</span><span class="p">,</span> <span class="n">fused_keys</span> <span class="ow">in</span> <span class="n">fused_trees</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
<span class="ne">--&gt; </span><span class="mi">846</span>             <span class="n">alias</span> <span class="o">=</span> <span class="n">key_renamer</span><span class="p">(</span><span class="n">fused_keys</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">847</span>             <span class="k">if</span> <span class="n">alias</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">alias</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">rv</span><span class="p">:</span>
<span class="g g-Whitespace">    </span><span class="mi">848</span>                 <span class="n">rv</span><span class="p">[</span><span class="n">alias</span><span class="p">]</span> <span class="o">=</span> <span class="n">rv</span><span class="p">[</span><span class="n">root_key</span><span class="p">]</span>

<span class="nn">/glade/work/mclong/miniconda3/envs/metabolic/lib/python3.7/site-packages/dask/optimization.py</span> in <span class="ni">default_fused_keys_renamer</span><span class="nt">(keys, max_fused_key_length)</span>
<span class="g g-Whitespace">    </span><span class="mi">406</span>         <span class="k">return</span> <span class="n">_enforce_max_key_limit</span><span class="p">(</span><span class="n">concatenated_name</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">407</span>     <span class="k">elif</span> <span class="n">typ</span> <span class="ow">is</span> <span class="nb">tuple</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">first_key</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">first_key</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="nb">str</span><span class="p">):</span>
<span class="ne">--&gt; </span><span class="mi">408</span>         <span class="n">first_name</span> <span class="o">=</span> <span class="n">utils</span><span class="o">.</span><span class="n">key_split</span><span class="p">(</span><span class="n">first_key</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">409</span>         <span class="n">names</span> <span class="o">=</span> <span class="p">{</span><span class="n">utils</span><span class="o">.</span><span class="n">key_split</span><span class="p">(</span><span class="n">k</span><span class="p">)</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">it</span><span class="p">}</span>
<span class="g g-Whitespace">    </span><span class="mi">410</span>         <span class="n">names</span><span class="o">.</span><span class="n">discard</span><span class="p">(</span><span class="n">first_name</span><span class="p">)</span>

<span class="ne">KeyboardInterrupt</span>: 
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">aero_hab_glb_mean</span> <span class="o">=</span> <span class="n">aero_hab_glb</span><span class="o">.</span><span class="n">isel</span><span class="p">(</span><span class="n">time</span><span class="o">=</span><span class="n">tndx_ref</span><span class="p">)</span><span class="o">.</span><span class="n">mean</span><span class="p">([</span><span class="s1">&#39;time&#39;</span><span class="p">,</span> <span class="s1">&#39;member_id&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">compute</span><span class="p">()</span>
<span class="n">aero_hab_glb_mean</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">KeyboardInterrupt</span><span class="g g-Whitespace">                         </span>Traceback (most recent call last)
<span class="o">/</span><span class="n">glade</span><span class="o">/</span><span class="n">scratch</span><span class="o">/</span><span class="n">mclong</span><span class="o">/</span><span class="n">tmp</span><span class="o">/</span><span class="n">ipykernel_115399</span><span class="o">/</span><span class="mf">2388314602.</span><span class="n">py</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="n">aero_hab_glb_mean</span> <span class="o">=</span> <span class="n">aero_hab_glb</span><span class="o">.</span><span class="n">isel</span><span class="p">(</span><span class="n">time</span><span class="o">=</span><span class="n">tndx_ref</span><span class="p">)</span><span class="o">.</span><span class="n">mean</span><span class="p">([</span><span class="s1">&#39;time&#39;</span><span class="p">,</span> <span class="s1">&#39;member_id&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">compute</span><span class="p">()</span>
<span class="g g-Whitespace">      </span><span class="mi">2</span> <span class="n">aero_hab_glb_mean</span>

<span class="nn">/glade/work/mclong/miniconda3/envs/metabolic/lib/python3.7/site-packages/xarray/core/dataarray.py</span> in <span class="ni">compute</span><span class="nt">(self, **kwargs)</span>
<span class="g g-Whitespace">    </span><span class="mi">949</span>         <span class="sd">&quot;&quot;&quot;</span>
<span class="g g-Whitespace">    </span><span class="mi">950</span><span class="sd">         new = self.copy(deep=False)</span>
<span class="ne">--&gt; </span><span class="mi">951</span><span class="sd">         return new.load(**kwargs)</span>
<span class="g g-Whitespace">    </span><span class="mi">952</span><span class="sd"> </span>
<span class="g g-Whitespace">    </span><span class="mi">953</span><span class="sd">     def persist(self, **kwargs) -&gt; &quot;DataArray&quot;:</span>

<span class="nn">/glade/work/mclong/miniconda3/envs/metabolic/lib/python3.7/site-packages/xarray/core/dataarray.py</span> in <span class="ni">load</span><span class="nt">(self, **kwargs)</span>
<span class="g g-Whitespace">    </span><span class="mi">923</span><span class="sd">         dask.compute</span>
<span class="g g-Whitespace">    </span><span class="mi">924</span><span class="sd">         &quot;&quot;&quot;</span>
<span class="ne">--&gt; </span><span class="mi">925</span>         <span class="n">ds</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_to_temp_dataset</span><span class="p">()</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">926</span>         <span class="n">new</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_from_temp_dataset</span><span class="p">(</span><span class="n">ds</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">927</span>         <span class="bp">self</span><span class="o">.</span><span class="n">_variable</span> <span class="o">=</span> <span class="n">new</span><span class="o">.</span><span class="n">_variable</span>

<span class="nn">/glade/work/mclong/miniconda3/envs/metabolic/lib/python3.7/site-packages/xarray/core/dataset.py</span> in <span class="ni">load</span><span class="nt">(self, **kwargs)</span>
<span class="g g-Whitespace">    </span><span class="mi">860</span> 
<span class="g g-Whitespace">    </span><span class="mi">861</span>             <span class="c1"># evaluate all the dask arrays simultaneously</span>
<span class="ne">--&gt; </span><span class="mi">862</span>             <span class="n">evaluated_data</span> <span class="o">=</span> <span class="n">da</span><span class="o">.</span><span class="n">compute</span><span class="p">(</span><span class="o">*</span><span class="n">lazy_data</span><span class="o">.</span><span class="n">values</span><span class="p">(),</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">863</span> 
<span class="g g-Whitespace">    </span><span class="mi">864</span>             <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">data</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">lazy_data</span><span class="p">,</span> <span class="n">evaluated_data</span><span class="p">):</span>

<span class="nn">/glade/work/mclong/miniconda3/envs/metabolic/lib/python3.7/site-packages/dask/base.py</span> in <span class="ni">compute</span><span class="nt">(traverse, optimize_graph, scheduler, get, *args, **kwargs)</span>
<span class="g g-Whitespace">    </span><span class="mi">569</span>         <span class="n">postcomputes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">__dask_postcompute__</span><span class="p">())</span>
<span class="g g-Whitespace">    </span><span class="mi">570</span> 
<span class="ne">--&gt; </span><span class="mi">571</span>     <span class="n">results</span> <span class="o">=</span> <span class="n">schedule</span><span class="p">(</span><span class="n">dsk</span><span class="p">,</span> <span class="n">keys</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
<span class="nn">    572     return repack([f(r, *a) for r, (f, a)</span> in <span class="ni">zip</span><span class="nt">(results, postcomputes)])</span>
<span class="g g-Whitespace">    </span><span class="mi">573</span> 

<span class="nn">/glade/work/mclong/miniconda3/envs/metabolic/lib/python3.7/site-packages/distributed/client.py</span> in <span class="ni">get</span><span class="nt">(self, dsk, keys, workers, allow_other_workers, resources, sync, asynchronous, direct, retries, priority, fifo_timeout, actors, **kwargs)</span>
<span class="g g-Whitespace">   </span><span class="mi">2990</span>                     <span class="n">should_rejoin</span> <span class="o">=</span> <span class="kc">False</span>
<span class="g g-Whitespace">   </span><span class="mi">2991</span>             <span class="k">try</span><span class="p">:</span>
<span class="ne">-&gt; </span><span class="mi">2992</span>                 <span class="n">results</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">gather</span><span class="p">(</span><span class="n">packed</span><span class="p">,</span> <span class="n">asynchronous</span><span class="o">=</span><span class="n">asynchronous</span><span class="p">,</span> <span class="n">direct</span><span class="o">=</span><span class="n">direct</span><span class="p">)</span>
<span class="g g-Whitespace">   </span><span class="mi">2993</span>             <span class="k">finally</span><span class="p">:</span>
<span class="g g-Whitespace">   </span><span class="mi">2994</span>                 <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">futures</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>

<span class="nn">/glade/work/mclong/miniconda3/envs/metabolic/lib/python3.7/site-packages/distributed/client.py</span> in <span class="ni">gather</span><span class="nt">(self, futures, errors, direct, asynchronous)</span>
<span class="g g-Whitespace">   </span><span class="mi">2148</span>                 <span class="n">direct</span><span class="o">=</span><span class="n">direct</span><span class="p">,</span>
<span class="g g-Whitespace">   </span><span class="mi">2149</span>                 <span class="n">local_worker</span><span class="o">=</span><span class="n">local_worker</span><span class="p">,</span>
<span class="ne">-&gt; </span><span class="mi">2150</span>                 <span class="n">asynchronous</span><span class="o">=</span><span class="n">asynchronous</span><span class="p">,</span>
<span class="g g-Whitespace">   </span><span class="mi">2151</span>             <span class="p">)</span>
<span class="g g-Whitespace">   </span><span class="mi">2152</span> 

<span class="nn">/glade/work/mclong/miniconda3/envs/metabolic/lib/python3.7/site-packages/distributed/utils.py</span> in <span class="ni">sync</span><span class="nt">(self, func, asynchronous, callback_timeout, *args, **kwargs)</span>
<span class="g g-Whitespace">    </span><span class="mi">308</span>         <span class="k">else</span><span class="p">:</span>
<span class="g g-Whitespace">    </span><span class="mi">309</span>             <span class="k">return</span> <span class="n">sync</span><span class="p">(</span>
<span class="ne">--&gt; </span><span class="mi">310</span>                 <span class="bp">self</span><span class="o">.</span><span class="n">loop</span><span class="p">,</span> <span class="n">func</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="n">callback_timeout</span><span class="o">=</span><span class="n">callback_timeout</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span>
<span class="g g-Whitespace">    </span><span class="mi">311</span>             <span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">312</span> 

<span class="nn">/glade/work/mclong/miniconda3/envs/metabolic/lib/python3.7/site-packages/distributed/utils.py</span> in <span class="ni">sync</span><span class="nt">(loop, func, callback_timeout, *args, **kwargs)</span>
<span class="g g-Whitespace">    </span><span class="mi">358</span>     <span class="k">else</span><span class="p">:</span>
<span class="g g-Whitespace">    </span><span class="mi">359</span>         <span class="k">while</span> <span class="ow">not</span> <span class="n">e</span><span class="o">.</span><span class="n">is_set</span><span class="p">():</span>
<span class="ne">--&gt; </span><span class="mi">360</span>             <span class="n">e</span><span class="o">.</span><span class="n">wait</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">361</span>     <span class="k">if</span> <span class="n">error</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span>
<span class="g g-Whitespace">    </span><span class="mi">362</span>         <span class="n">typ</span><span class="p">,</span> <span class="n">exc</span><span class="p">,</span> <span class="n">tb</span> <span class="o">=</span> <span class="n">error</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

<span class="nn">/glade/work/mclong/miniconda3/envs/metabolic/lib/python3.7/threading.py</span> in <span class="ni">wait</span><span class="nt">(self, timeout)</span>
<span class="g g-Whitespace">    </span><span class="mi">550</span>             <span class="n">signaled</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_flag</span>
<span class="g g-Whitespace">    </span><span class="mi">551</span>             <span class="k">if</span> <span class="ow">not</span> <span class="n">signaled</span><span class="p">:</span>
<span class="ne">--&gt; </span><span class="mi">552</span>                 <span class="n">signaled</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cond</span><span class="o">.</span><span class="n">wait</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">553</span>             <span class="k">return</span> <span class="n">signaled</span>
<span class="g g-Whitespace">    </span><span class="mi">554</span> 

<span class="nn">/glade/work/mclong/miniconda3/envs/metabolic/lib/python3.7/threading.py</span> in <span class="ni">wait</span><span class="nt">(self, timeout)</span>
<span class="g g-Whitespace">    </span><span class="mi">298</span>             <span class="k">else</span><span class="p">:</span>
<span class="g g-Whitespace">    </span><span class="mi">299</span>                 <span class="k">if</span> <span class="n">timeout</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
<span class="ne">--&gt; </span><span class="mi">300</span>                     <span class="n">gotit</span> <span class="o">=</span> <span class="n">waiter</span><span class="o">.</span><span class="n">acquire</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="n">timeout</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">301</span>                 <span class="k">else</span><span class="p">:</span>
<span class="g g-Whitespace">    </span><span class="mi">302</span>                     <span class="n">gotit</span> <span class="o">=</span> <span class="n">waiter</span><span class="o">.</span><span class="n">acquire</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>

<span class="ne">KeyboardInterrupt</span>: 
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">aero_hab_glb_mean</span> <span class="o">=</span> <span class="n">aero_hab_glb</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="s1">&#39;member_id&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">compute</span><span class="p">()</span>
<span class="n">aero_hab_glb_stdv</span> <span class="o">=</span> <span class="n">aero_hab_glb</span><span class="o">.</span><span class="n">std</span><span class="p">(</span><span class="s1">&#39;member_id&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">compute</span><span class="p">()</span>

<span class="n">aero_hab_glb_mean</span><span class="o">.</span><span class="n">attrs</span><span class="p">[</span><span class="s1">&#39;units&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;10$^6$ m$^3$&#39;</span>
<span class="n">aero_hab_glb_mean</span><span class="o">.</span><span class="n">attrs</span><span class="p">[</span><span class="s1">&#39;long_name&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;Aerobic habitat&#39;</span>

<span class="n">aero_hab_glb_stdv</span><span class="o">.</span><span class="n">attrs</span><span class="p">[</span><span class="s1">&#39;units&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;10$^6$ m$^3$&#39;</span>
<span class="n">aero_hab_glb_stdv</span><span class="o">.</span><span class="n">attrs</span><span class="p">[</span><span class="s1">&#39;long_name&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;Aerobic habitat (1$\sigma$)&#39;</span>

<span class="n">aero_hab_glb_mean</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">KeyboardInterrupt</span><span class="g g-Whitespace">                         </span>Traceback (most recent call last)
<span class="o">/</span><span class="n">glade</span><span class="o">/</span><span class="n">scratch</span><span class="o">/</span><span class="n">mclong</span><span class="o">/</span><span class="n">tmp</span><span class="o">/</span><span class="n">ipykernel_112266</span><span class="o">/</span><span class="mf">4277080818.</span><span class="n">py</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="g g-Whitespace">      </span><span class="mi">1</span> <span class="n">aero_hab_glb</span> <span class="o">=</span> <span class="p">(</span><span class="n">viability_mask</span> <span class="o">*</span> <span class="n">ds</span><span class="o">.</span><span class="n">TAREA</span> <span class="o">*</span> <span class="n">ds</span><span class="o">.</span><span class="n">dz</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">([</span><span class="s1">&#39;z_t&#39;</span><span class="p">,</span> <span class="s1">&#39;nlat&#39;</span><span class="p">,</span> <span class="s1">&#39;nlon&#39;</span><span class="p">])</span> <span class="o">*</span> <span class="mf">1e-6</span> <span class="o">*</span> <span class="mf">1e-6</span>
<span class="ne">----&gt; </span><span class="mi">2</span> <span class="n">aero_hab_glb_mean</span> <span class="o">=</span> <span class="n">aero_hab_glb</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="s1">&#39;member_id&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">compute</span><span class="p">()</span>
<span class="g g-Whitespace">      </span><span class="mi">3</span> <span class="n">aero_hab_glb_stdv</span> <span class="o">=</span> <span class="n">aero_hab_glb</span><span class="o">.</span><span class="n">std</span><span class="p">(</span><span class="s1">&#39;member_id&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">compute</span><span class="p">()</span>
<span class="g g-Whitespace">      </span><span class="mi">4</span> 
<span class="g g-Whitespace">      </span><span class="mi">5</span> <span class="n">aero_hab_glb_mean</span><span class="o">.</span><span class="n">attrs</span><span class="p">[</span><span class="s1">&#39;units&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;10$^6$ m$^3$&#39;</span>

<span class="nn">/glade/work/mclong/miniconda3/envs/metabolic/lib/python3.7/site-packages/xarray/core/dataarray.py</span> in <span class="ni">compute</span><span class="nt">(self, **kwargs)</span>
<span class="g g-Whitespace">    </span><span class="mi">949</span>         <span class="sd">&quot;&quot;&quot;</span>
<span class="g g-Whitespace">    </span><span class="mi">950</span><span class="sd">         new = self.copy(deep=False)</span>
<span class="ne">--&gt; </span><span class="mi">951</span><span class="sd">         return new.load(**kwargs)</span>
<span class="g g-Whitespace">    </span><span class="mi">952</span><span class="sd"> </span>
<span class="g g-Whitespace">    </span><span class="mi">953</span><span class="sd">     def persist(self, **kwargs) -&gt; &quot;DataArray&quot;:</span>

<span class="nn">/glade/work/mclong/miniconda3/envs/metabolic/lib/python3.7/site-packages/xarray/core/dataarray.py</span> in <span class="ni">load</span><span class="nt">(self, **kwargs)</span>
<span class="g g-Whitespace">    </span><span class="mi">923</span><span class="sd">         dask.compute</span>
<span class="g g-Whitespace">    </span><span class="mi">924</span><span class="sd">         &quot;&quot;&quot;</span>
<span class="ne">--&gt; </span><span class="mi">925</span>         <span class="n">ds</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_to_temp_dataset</span><span class="p">()</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">926</span>         <span class="n">new</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_from_temp_dataset</span><span class="p">(</span><span class="n">ds</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">927</span>         <span class="bp">self</span><span class="o">.</span><span class="n">_variable</span> <span class="o">=</span> <span class="n">new</span><span class="o">.</span><span class="n">_variable</span>

<span class="nn">/glade/work/mclong/miniconda3/envs/metabolic/lib/python3.7/site-packages/xarray/core/dataset.py</span> in <span class="ni">load</span><span class="nt">(self, **kwargs)</span>
<span class="g g-Whitespace">    </span><span class="mi">860</span> 
<span class="g g-Whitespace">    </span><span class="mi">861</span>             <span class="c1"># evaluate all the dask arrays simultaneously</span>
<span class="ne">--&gt; </span><span class="mi">862</span>             <span class="n">evaluated_data</span> <span class="o">=</span> <span class="n">da</span><span class="o">.</span><span class="n">compute</span><span class="p">(</span><span class="o">*</span><span class="n">lazy_data</span><span class="o">.</span><span class="n">values</span><span class="p">(),</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">863</span> 
<span class="g g-Whitespace">    </span><span class="mi">864</span>             <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">data</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">lazy_data</span><span class="p">,</span> <span class="n">evaluated_data</span><span class="p">):</span>

<span class="nn">/glade/work/mclong/miniconda3/envs/metabolic/lib/python3.7/site-packages/dask/base.py</span> in <span class="ni">compute</span><span class="nt">(traverse, optimize_graph, scheduler, get, *args, **kwargs)</span>
<span class="g g-Whitespace">    </span><span class="mi">569</span>         <span class="n">postcomputes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">__dask_postcompute__</span><span class="p">())</span>
<span class="g g-Whitespace">    </span><span class="mi">570</span> 
<span class="ne">--&gt; </span><span class="mi">571</span>     <span class="n">results</span> <span class="o">=</span> <span class="n">schedule</span><span class="p">(</span><span class="n">dsk</span><span class="p">,</span> <span class="n">keys</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
<span class="nn">    572     return repack([f(r, *a) for r, (f, a)</span> in <span class="ni">zip</span><span class="nt">(results, postcomputes)])</span>
<span class="g g-Whitespace">    </span><span class="mi">573</span> 

<span class="nn">/glade/work/mclong/miniconda3/envs/metabolic/lib/python3.7/site-packages/distributed/client.py</span> in <span class="ni">get</span><span class="nt">(self, dsk, keys, workers, allow_other_workers, resources, sync, asynchronous, direct, retries, priority, fifo_timeout, actors, **kwargs)</span>
<span class="g g-Whitespace">   </span><span class="mi">2979</span>             <span class="n">retries</span><span class="o">=</span><span class="n">retries</span><span class="p">,</span>
<span class="g g-Whitespace">   </span><span class="mi">2980</span>             <span class="n">user_priority</span><span class="o">=</span><span class="n">priority</span><span class="p">,</span>
<span class="ne">-&gt; </span><span class="mi">2981</span>             <span class="n">actors</span><span class="o">=</span><span class="n">actors</span><span class="p">,</span>
<span class="g g-Whitespace">   </span><span class="mi">2982</span>         <span class="p">)</span>
<span class="g g-Whitespace">   </span><span class="mi">2983</span>         <span class="n">packed</span> <span class="o">=</span> <span class="n">pack_data</span><span class="p">(</span><span class="n">keys</span><span class="p">,</span> <span class="n">futures</span><span class="p">)</span>

<span class="nn">/glade/work/mclong/miniconda3/envs/metabolic/lib/python3.7/site-packages/distributed/client.py</span> in <span class="ni">_graph_to_futures</span><span class="nt">(self, dsk, keys, workers, allow_other_workers, priority, user_priority, resources, retries, fifo_timeout, actors)</span>
<span class="g g-Whitespace">   </span><span class="mi">2878</span>             <span class="c1"># Pack the high level graph before sending it to the scheduler</span>
<span class="g g-Whitespace">   </span><span class="mi">2879</span>             <span class="n">keyset</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">keys</span><span class="p">)</span>
<span class="ne">-&gt; </span><span class="mi">2880</span>             <span class="n">dsk</span> <span class="o">=</span> <span class="n">dsk</span><span class="o">.</span><span class="n">__dask_distributed_pack__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">keyset</span><span class="p">,</span> <span class="n">annotations</span><span class="p">)</span>
<span class="g g-Whitespace">   </span><span class="mi">2881</span> 
<span class="g g-Whitespace">   </span><span class="mi">2882</span>             <span class="c1"># Create futures before sending graph (helps avoid contention)</span>

<span class="nn">/glade/work/mclong/miniconda3/envs/metabolic/lib/python3.7/site-packages/dask/highlevelgraph.py</span> in <span class="ni">__dask_distributed_pack__</span><span class="nt">(self, client, client_keys, annotations)</span>
<span class="g g-Whitespace">   </span><span class="mi">1075</span>                         <span class="bp">self</span><span class="o">.</span><span class="n">key_dependencies</span><span class="p">,</span>
<span class="g g-Whitespace">   </span><span class="mi">1076</span>                         <span class="n">client</span><span class="p">,</span>
<span class="ne">-&gt; </span><span class="mi">1077</span>                         <span class="n">client_keys</span><span class="p">,</span>
<span class="g g-Whitespace">   </span><span class="mi">1078</span>                     <span class="p">),</span>
<span class="g g-Whitespace">   </span><span class="mi">1079</span>                     <span class="s2">&quot;annotations&quot;</span><span class="p">:</span> <span class="n">layer</span><span class="o">.</span><span class="n">__dask_distributed_annotations_pack__</span><span class="p">(</span>

<span class="nn">/glade/work/mclong/miniconda3/envs/metabolic/lib/python3.7/site-packages/dask/highlevelgraph.py</span> in <span class="ni">__dask_distributed_pack__</span><span class="nt">(self, all_hlg_keys, known_key_dependencies, client, client_keys)</span>
<span class="g g-Whitespace">    </span><span class="mi">429</span>         <span class="n">dsk</span> <span class="o">=</span> <span class="p">{</span>
<span class="g g-Whitespace">    </span><span class="mi">430</span>             <span class="n">stringify</span><span class="p">(</span><span class="n">k</span><span class="p">):</span> <span class="n">stringify</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="n">exclusive</span><span class="o">=</span><span class="n">merged_hlg_keys</span><span class="p">)</span>
<span class="nn">--&gt; 431             for k, v</span> in <span class="ni">dsk.items</span><span class="nt">()</span>
<span class="g g-Whitespace">    </span><span class="mi">432</span>         <span class="p">}</span>
<span class="g g-Whitespace">    </span><span class="mi">433</span>         <span class="n">dsk</span> <span class="o">=</span> <span class="n">toolz</span><span class="o">.</span><span class="n">valmap</span><span class="p">(</span><span class="n">dumps_task</span><span class="p">,</span> <span class="n">dsk</span><span class="p">)</span>

<span class="nn">/glade/work/mclong/miniconda3/envs/metabolic/lib/python3.7/site-packages/dask/highlevelgraph.py</span> in <span class="ni">&lt;dictcomp&gt;</span><span class="nt">(.0)</span>
<span class="g g-Whitespace">    </span><span class="mi">429</span>         <span class="n">dsk</span> <span class="o">=</span> <span class="p">{</span>
<span class="g g-Whitespace">    </span><span class="mi">430</span>             <span class="n">stringify</span><span class="p">(</span><span class="n">k</span><span class="p">):</span> <span class="n">stringify</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="n">exclusive</span><span class="o">=</span><span class="n">merged_hlg_keys</span><span class="p">)</span>
<span class="nn">--&gt; 431             for k, v</span> in <span class="ni">dsk.items</span><span class="nt">()</span>
<span class="g g-Whitespace">    </span><span class="mi">432</span>         <span class="p">}</span>
<span class="g g-Whitespace">    </span><span class="mi">433</span>         <span class="n">dsk</span> <span class="o">=</span> <span class="n">toolz</span><span class="o">.</span><span class="n">valmap</span><span class="p">(</span><span class="n">dumps_task</span><span class="p">,</span> <span class="n">dsk</span><span class="p">)</span>

<span class="nn">/glade/work/mclong/miniconda3/envs/metabolic/lib/python3.7/site-packages/dask/utils.py</span> in <span class="ni">stringify</span><span class="nt">(obj, exclusive)</span>
<span class="g g-Whitespace">   </span><span class="mi">1770</span>             <span class="k">return</span> <span class="p">(</span>
<span class="g g-Whitespace">   </span><span class="mi">1771</span>                 <span class="n">SubgraphCallable</span><span class="p">(</span>
<span class="ne">-&gt; </span><span class="mi">1772</span>                     <span class="n">stringify</span><span class="p">(</span><span class="n">obj0</span><span class="o">.</span><span class="n">dsk</span><span class="p">,</span> <span class="n">exclusive</span><span class="p">),</span>
<span class="g g-Whitespace">   </span><span class="mi">1773</span>                     <span class="n">obj0</span><span class="o">.</span><span class="n">outkey</span><span class="p">,</span>
<span class="g g-Whitespace">   </span><span class="mi">1774</span>                     <span class="n">stringify</span><span class="p">(</span><span class="n">obj0</span><span class="o">.</span><span class="n">inkeys</span><span class="p">,</span> <span class="n">exclusive</span><span class="p">),</span>

<span class="nn">/glade/work/mclong/miniconda3/envs/metabolic/lib/python3.7/site-packages/dask/utils.py</span> in <span class="ni">stringify</span><span class="nt">(obj, exclusive)</span>
<span class="g g-Whitespace">   </span><span class="mi">1782</span>         <span class="k">return</span> <span class="p">[</span><span class="n">stringify</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="n">exclusive</span><span class="p">)</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">obj</span><span class="p">]</span>
<span class="g g-Whitespace">   </span><span class="mi">1783</span>     <span class="k">if</span> <span class="n">typ</span> <span class="ow">is</span> <span class="nb">dict</span><span class="p">:</span>
<span class="ne">-&gt; </span><span class="mi">1784</span>         <span class="k">return</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span> <span class="n">stringify</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="n">exclusive</span><span class="p">)</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">obj</span><span class="o">.</span><span class="n">items</span><span class="p">()}</span>
<span class="g g-Whitespace">   </span><span class="mi">1785</span>     <span class="k">try</span><span class="p">:</span>
<span class="g g-Whitespace">   </span><span class="mi">1786</span>         <span class="k">if</span> <span class="n">obj</span> <span class="ow">in</span> <span class="n">exclusive</span><span class="p">:</span>

<span class="nn">/glade/work/mclong/miniconda3/envs/metabolic/lib/python3.7/site-packages/dask/utils.py</span> in <span class="ni">&lt;dictcomp&gt;</span><span class="nt">(.0)</span>
<span class="g g-Whitespace">   </span><span class="mi">1782</span>         <span class="k">return</span> <span class="p">[</span><span class="n">stringify</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="n">exclusive</span><span class="p">)</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">obj</span><span class="p">]</span>
<span class="g g-Whitespace">   </span><span class="mi">1783</span>     <span class="k">if</span> <span class="n">typ</span> <span class="ow">is</span> <span class="nb">dict</span><span class="p">:</span>
<span class="ne">-&gt; </span><span class="mi">1784</span>         <span class="k">return</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span> <span class="n">stringify</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="n">exclusive</span><span class="p">)</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">obj</span><span class="o">.</span><span class="n">items</span><span class="p">()}</span>
<span class="g g-Whitespace">   </span><span class="mi">1785</span>     <span class="k">try</span><span class="p">:</span>
<span class="g g-Whitespace">   </span><span class="mi">1786</span>         <span class="k">if</span> <span class="n">obj</span> <span class="ow">in</span> <span class="n">exclusive</span><span class="p">:</span>

<span class="nn">/glade/work/mclong/miniconda3/envs/metabolic/lib/python3.7/site-packages/dask/utils.py</span> in <span class="ni">stringify</span><span class="nt">(obj, exclusive)</span>
<span class="g g-Whitespace">   </span><span class="mi">1777</span>             <span class="p">)</span> <span class="o">+</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">stringify</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">exclusive</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">obj</span><span class="p">[</span><span class="mi">1</span><span class="p">:])</span>
<span class="g g-Whitespace">   </span><span class="mi">1778</span>         <span class="k">elif</span> <span class="n">callable</span><span class="p">(</span><span class="n">obj0</span><span class="p">):</span>
<span class="ne">-&gt; </span><span class="mi">1779</span>             <span class="k">return</span> <span class="p">(</span><span class="n">obj0</span><span class="p">,)</span> <span class="o">+</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">stringify</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">exclusive</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">obj</span><span class="p">[</span><span class="mi">1</span><span class="p">:])</span>
<span class="g g-Whitespace">   </span><span class="mi">1780</span> 
<span class="g g-Whitespace">   </span><span class="mi">1781</span>     <span class="k">if</span> <span class="n">typ</span> <span class="ow">is</span> <span class="nb">list</span><span class="p">:</span>

<span class="nn">/glade/work/mclong/miniconda3/envs/metabolic/lib/python3.7/site-packages/dask/utils.py</span> in <span class="ni">&lt;genexpr&gt;</span><span class="nt">(.0)</span>
<span class="g g-Whitespace">   </span><span class="mi">1777</span>             <span class="p">)</span> <span class="o">+</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">stringify</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">exclusive</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">obj</span><span class="p">[</span><span class="mi">1</span><span class="p">:])</span>
<span class="g g-Whitespace">   </span><span class="mi">1778</span>         <span class="k">elif</span> <span class="n">callable</span><span class="p">(</span><span class="n">obj0</span><span class="p">):</span>
<span class="ne">-&gt; </span><span class="mi">1779</span>             <span class="k">return</span> <span class="p">(</span><span class="n">obj0</span><span class="p">,)</span> <span class="o">+</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">stringify</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">exclusive</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">obj</span><span class="p">[</span><span class="mi">1</span><span class="p">:])</span>
<span class="g g-Whitespace">   </span><span class="mi">1780</span> 
<span class="g g-Whitespace">   </span><span class="mi">1781</span>     <span class="k">if</span> <span class="n">typ</span> <span class="ow">is</span> <span class="nb">list</span><span class="p">:</span>

<span class="nn">/glade/work/mclong/miniconda3/envs/metabolic/lib/python3.7/site-packages/dask/utils.py</span> in <span class="ni">stringify</span><span class="nt">(obj, exclusive)</span>
<span class="g g-Whitespace">   </span><span class="mi">1763</span> 
<span class="g g-Whitespace">   </span><span class="mi">1764</span>     <span class="k">if</span> <span class="n">typ</span> <span class="ow">is</span> <span class="nb">tuple</span> <span class="ow">and</span> <span class="n">obj</span><span class="p">:</span>
<span class="ne">-&gt; </span><span class="mi">1765</span>         <span class="kn">from</span> <span class="nn">.optimization</span> <span class="kn">import</span> <span class="n">SubgraphCallable</span>
<span class="g g-Whitespace">   </span><span class="mi">1766</span> 
<span class="g g-Whitespace">   </span><span class="mi">1767</span>         <span class="n">obj0</span> <span class="o">=</span> <span class="n">obj</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

<span class="nn">/glade/work/mclong/miniconda3/envs/metabolic/lib/python3.7/importlib/_bootstrap.py</span> in <span class="ni">_handle_fromlist</span><span class="nt">(module, fromlist, import_, recursive)</span>

<span class="ne">KeyboardInterrupt</span>: 
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">aero_hab_glb_control</span> <span class="o">=</span> <span class="n">aero_hab_glb</span><span class="o">.</span><span class="n">isel</span><span class="p">(</span><span class="n">time</span><span class="o">=</span><span class="n">tndx_ref</span><span class="p">)</span><span class="o">.</span><span class="n">mean</span><span class="p">([</span><span class="s1">&#39;time&#39;</span><span class="p">,</span> <span class="s1">&#39;member_id&#39;</span><span class="p">])</span>
<span class="n">aero_hab_glb_normalized</span> <span class="o">=</span> <span class="p">(</span><span class="mf">100.0</span> <span class="o">*</span> <span class="p">(</span><span class="n">aero_hab_glb</span> <span class="o">-</span> <span class="n">aero_hab_glb_control</span><span class="p">)</span> <span class="o">/</span> <span class="n">aero_hab_glb_control</span><span class="p">)</span><span class="o">.</span><span class="n">compute</span><span class="p">()</span>
<span class="n">aero_hab_glb_normalized</span><span class="p">[</span><span class="s1">&#39;units&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;%&#39;</span>

    
<span class="n">aero_hab_glb</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div><svg style="position: absolute; width: 0; height: 0; overflow: hidden">
<defs>
<symbol id="icon-database" viewBox="0 0 32 32">
<path d="M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z"></path>
<path d="M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
<path d="M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
</symbol>
<symbol id="icon-file-text2" viewBox="0 0 32 32">
<path d="M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z"></path>
<path d="M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
</symbol>
</defs>
</svg>
<style>/* CSS stylesheet for displaying xarray objects in jupyterlab.
 *
 */

:root {
  --xr-font-color0: var(--jp-content-font-color0, rgba(0, 0, 0, 1));
  --xr-font-color2: var(--jp-content-font-color2, rgba(0, 0, 0, 0.54));
  --xr-font-color3: var(--jp-content-font-color3, rgba(0, 0, 0, 0.38));
  --xr-border-color: var(--jp-border-color2, #e0e0e0);
  --xr-disabled-color: var(--jp-layout-color3, #bdbdbd);
  --xr-background-color: var(--jp-layout-color0, white);
  --xr-background-color-row-even: var(--jp-layout-color1, white);
  --xr-background-color-row-odd: var(--jp-layout-color2, #eeeeee);
}

html[theme=dark],
body.vscode-dark {
  --xr-font-color0: rgba(255, 255, 255, 1);
  --xr-font-color2: rgba(255, 255, 255, 0.54);
  --xr-font-color3: rgba(255, 255, 255, 0.38);
  --xr-border-color: #1F1F1F;
  --xr-disabled-color: #515151;
  --xr-background-color: #111111;
  --xr-background-color-row-even: #111111;
  --xr-background-color-row-odd: #313131;
}

.xr-wrap {
  display: block;
  min-width: 300px;
  max-width: 700px;
}

.xr-text-repr-fallback {
  /* fallback to plain text repr when CSS is not injected (untrusted notebook) */
  display: none;
}

.xr-header {
  padding-top: 6px;
  padding-bottom: 6px;
  margin-bottom: 4px;
  border-bottom: solid 1px var(--xr-border-color);
}

.xr-header > div,
.xr-header > ul {
  display: inline;
  margin-top: 0;
  margin-bottom: 0;
}

.xr-obj-type,
.xr-array-name {
  margin-left: 2px;
  margin-right: 10px;
}

.xr-obj-type {
  color: var(--xr-font-color2);
}

.xr-sections {
  padding-left: 0 !important;
  display: grid;
  grid-template-columns: 150px auto auto 1fr 20px 20px;
}

.xr-section-item {
  display: contents;
}

.xr-section-item input {
  display: none;
}

.xr-section-item input + label {
  color: var(--xr-disabled-color);
}

.xr-section-item input:enabled + label {
  cursor: pointer;
  color: var(--xr-font-color2);
}

.xr-section-item input:enabled + label:hover {
  color: var(--xr-font-color0);
}

.xr-section-summary {
  grid-column: 1;
  color: var(--xr-font-color2);
  font-weight: 500;
}

.xr-section-summary > span {
  display: inline-block;
  padding-left: 0.5em;
}

.xr-section-summary-in:disabled + label {
  color: var(--xr-font-color2);
}

.xr-section-summary-in + label:before {
  display: inline-block;
  content: '►';
  font-size: 11px;
  width: 15px;
  text-align: center;
}

.xr-section-summary-in:disabled + label:before {
  color: var(--xr-disabled-color);
}

.xr-section-summary-in:checked + label:before {
  content: '▼';
}

.xr-section-summary-in:checked + label > span {
  display: none;
}

.xr-section-summary,
.xr-section-inline-details {
  padding-top: 4px;
  padding-bottom: 4px;
}

.xr-section-inline-details {
  grid-column: 2 / -1;
}

.xr-section-details {
  display: none;
  grid-column: 1 / -1;
  margin-bottom: 5px;
}

.xr-section-summary-in:checked ~ .xr-section-details {
  display: contents;
}

.xr-array-wrap {
  grid-column: 1 / -1;
  display: grid;
  grid-template-columns: 20px auto;
}

.xr-array-wrap > label {
  grid-column: 1;
  vertical-align: top;
}

.xr-preview {
  color: var(--xr-font-color3);
}

.xr-array-preview,
.xr-array-data {
  padding: 0 5px !important;
  grid-column: 2;
}

.xr-array-data,
.xr-array-in:checked ~ .xr-array-preview {
  display: none;
}

.xr-array-in:checked ~ .xr-array-data,
.xr-array-preview {
  display: inline-block;
}

.xr-dim-list {
  display: inline-block !important;
  list-style: none;
  padding: 0 !important;
  margin: 0;
}

.xr-dim-list li {
  display: inline-block;
  padding: 0;
  margin: 0;
}

.xr-dim-list:before {
  content: '(';
}

.xr-dim-list:after {
  content: ')';
}

.xr-dim-list li:not(:last-child):after {
  content: ',';
  padding-right: 5px;
}

.xr-has-index {
  font-weight: bold;
}

.xr-var-list,
.xr-var-item {
  display: contents;
}

.xr-var-item > div,
.xr-var-item label,
.xr-var-item > .xr-var-name span {
  background-color: var(--xr-background-color-row-even);
  margin-bottom: 0;
}

.xr-var-item > .xr-var-name:hover span {
  padding-right: 5px;
}

.xr-var-list > li:nth-child(odd) > div,
.xr-var-list > li:nth-child(odd) > label,
.xr-var-list > li:nth-child(odd) > .xr-var-name span {
  background-color: var(--xr-background-color-row-odd);
}

.xr-var-name {
  grid-column: 1;
}

.xr-var-dims {
  grid-column: 2;
}

.xr-var-dtype {
  grid-column: 3;
  text-align: right;
  color: var(--xr-font-color2);
}

.xr-var-preview {
  grid-column: 4;
}

.xr-var-name,
.xr-var-dims,
.xr-var-dtype,
.xr-preview,
.xr-attrs dt {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  padding-right: 10px;
}

.xr-var-name:hover,
.xr-var-dims:hover,
.xr-var-dtype:hover,
.xr-attrs dt:hover {
  overflow: visible;
  width: auto;
  z-index: 1;
}

.xr-var-attrs,
.xr-var-data {
  display: none;
  background-color: var(--xr-background-color) !important;
  padding-bottom: 5px !important;
}

.xr-var-attrs-in:checked ~ .xr-var-attrs,
.xr-var-data-in:checked ~ .xr-var-data {
  display: block;
}

.xr-var-data > table {
  float: right;
}

.xr-var-name span,
.xr-var-data,
.xr-attrs {
  padding-left: 25px !important;
}

.xr-attrs,
.xr-var-attrs,
.xr-var-data {
  grid-column: 1 / -1;
}

dl.xr-attrs {
  padding: 0;
  margin: 0;
  display: grid;
  grid-template-columns: 125px auto;
}

.xr-attrs dt,
.xr-attrs dd {
  padding: 0;
  margin: 0;
  float: left;
  padding-right: 10px;
  width: auto;
}

.xr-attrs dt {
  font-weight: normal;
  grid-column: 1;
}

.xr-attrs dt:hover span {
  display: inline-block;
  background: var(--xr-background-color);
  padding-right: 10px;
}

.xr-attrs dd {
  grid-column: 2;
  white-space: pre-wrap;
  word-break: break-all;
}

.xr-icon-database,
.xr-icon-file-text2 {
  display: inline-block;
  vertical-align: middle;
  width: 1em;
  height: 1.5em !important;
  stroke-width: 0;
  stroke: currentColor;
  fill: currentColor;
}
</style><pre class='xr-text-repr-fallback'>&lt;xarray.DataArray (member_id: 32, time: 2172)&gt;
array([[1.86352507e+11, 1.86439486e+11, 1.86516538e+11, ...,
        1.66472304e+11, 1.66298547e+11, 1.66154508e+11],
       [1.86350787e+11, 1.86421178e+11, 1.86482284e+11, ...,
        1.66391714e+11, 1.66223972e+11, 1.66084776e+11],
       [1.86357099e+11, 1.86415209e+11, 1.86488632e+11, ...,
        1.66293741e+11, 1.66146287e+11, 1.66028001e+11],
       ...,
       [1.86348998e+11, 1.86412207e+11, 1.86487772e+11, ...,
        1.65801328e+11, 1.65645256e+11, 1.65496288e+11],
       [1.86347608e+11, 1.86423268e+11, 1.86495575e+11, ...,
        1.66075166e+11, 1.65915759e+11, 1.65778519e+11],
       [1.86351252e+11, 1.86410232e+11, 1.86493698e+11, ...,
        1.65775877e+11, 1.65621253e+11, 1.65513888e+11]])
Coordinates:
  * time       (time) object 1920-01-17 00:29:59.999993 ... 2100-12-16 12:00:00
  * member_id  (member_id) int64 2 9 10 11 12 13 14 ... 35 101 102 103 104 105
Attributes:
    cell_methods:  time: mean
    grid_loc:      3111
    long_name:     Trait-space weighted aerobic habitat
    note:          corrected for drift in control integration
    units:         10$^6$ m$^3$</pre><div class='xr-wrap' hidden><div class='xr-header'><div class='xr-obj-type'>xarray.DataArray</div><div class='xr-array-name'></div><ul class='xr-dim-list'><li><span class='xr-has-index'>member_id</span>: 32</li><li><span class='xr-has-index'>time</span>: 2172</li></ul></div><ul class='xr-sections'><li class='xr-section-item'><div class='xr-array-wrap'><input id='section-73ad37de-dc7f-4465-834a-50d067af0388' class='xr-array-in' type='checkbox' checked><label for='section-73ad37de-dc7f-4465-834a-50d067af0388' title='Show/hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-array-preview xr-preview'><span>1.864e+11 1.864e+11 1.865e+11 ... 1.658e+11 1.656e+11 1.655e+11</span></div><div class='xr-array-data'><pre>array([[1.86352507e+11, 1.86439486e+11, 1.86516538e+11, ...,
        1.66472304e+11, 1.66298547e+11, 1.66154508e+11],
       [1.86350787e+11, 1.86421178e+11, 1.86482284e+11, ...,
        1.66391714e+11, 1.66223972e+11, 1.66084776e+11],
       [1.86357099e+11, 1.86415209e+11, 1.86488632e+11, ...,
        1.66293741e+11, 1.66146287e+11, 1.66028001e+11],
       ...,
       [1.86348998e+11, 1.86412207e+11, 1.86487772e+11, ...,
        1.65801328e+11, 1.65645256e+11, 1.65496288e+11],
       [1.86347608e+11, 1.86423268e+11, 1.86495575e+11, ...,
        1.66075166e+11, 1.65915759e+11, 1.65778519e+11],
       [1.86351252e+11, 1.86410232e+11, 1.86493698e+11, ...,
        1.65775877e+11, 1.65621253e+11, 1.65513888e+11]])</pre></div></div></li><li class='xr-section-item'><input id='section-ba4c68aa-0ab5-4566-8e26-e872dc08f1f3' class='xr-section-summary-in' type='checkbox'  checked><label for='section-ba4c68aa-0ab5-4566-8e26-e872dc08f1f3' class='xr-section-summary' >Coordinates: <span>(2)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>time</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>object</div><div class='xr-var-preview xr-preview'>1920-01-17 00:29:59.999993 ... 2...</div><input id='attrs-57282b37-bb35-4470-b703-47445e581db7' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-57282b37-bb35-4470-b703-47445e581db7' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-03607bf6-788d-429b-84e0-3982c5306ca9' class='xr-var-data-in' type='checkbox'><label for='data-03607bf6-788d-429b-84e0-3982c5306ca9' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>bounds :</span></dt><dd>time_bound</dd><dt><span>long_name :</span></dt><dd>time</dd><dt><span>note :</span></dt><dd>time recomputed as time_bound.mean(d2)</dd></dl></div><div class='xr-var-data'><pre>array([cftime.datetime(1920, 1, 17, 0, 29, 59, 999993, calendar=&#x27;noleap&#x27;, has_year_zero=True),
       cftime.datetime(1920, 2, 15, 0, 0, 0, 0, calendar=&#x27;noleap&#x27;, has_year_zero=True),
       cftime.datetime(1920, 3, 16, 12, 0, 0, 0, calendar=&#x27;noleap&#x27;, has_year_zero=True),
       ...,
       cftime.datetime(2100, 10, 16, 12, 0, 0, 0, calendar=&#x27;noleap&#x27;, has_year_zero=True),
       cftime.datetime(2100, 11, 16, 0, 0, 0, 0, calendar=&#x27;noleap&#x27;, has_year_zero=True),
       cftime.datetime(2100, 12, 16, 12, 0, 0, 0, calendar=&#x27;noleap&#x27;, has_year_zero=True)],
      dtype=object)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>member_id</span></div><div class='xr-var-dims'>(member_id)</div><div class='xr-var-dtype'>int64</div><div class='xr-var-preview xr-preview'>2 9 10 11 12 ... 102 103 104 105</div><input id='attrs-94a1252a-4d67-4614-974b-e3f1b8af63ef' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-94a1252a-4d67-4614-974b-e3f1b8af63ef' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-873a1f18-e980-439f-b3da-fd7ee74cc660' class='xr-var-data-in' type='checkbox'><label for='data-873a1f18-e980-439f-b3da-fd7ee74cc660' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([  2,   9,  10,  11,  12,  13,  14,  15,  16,  17,  18,  19,  20,  21,
        22,  23,  24,  25,  26,  27,  28,  29,  30,  31,  32,  34,  35, 101,
       102, 103, 104, 105])</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-b11a71cf-9e63-4bab-911c-6e7d9fbd5d97' class='xr-section-summary-in' type='checkbox'  checked><label for='section-b11a71cf-9e63-4bab-911c-6e7d9fbd5d97' class='xr-section-summary' >Attributes: <span>(5)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><dl class='xr-attrs'><dt><span>cell_methods :</span></dt><dd>time: mean</dd><dt><span>grid_loc :</span></dt><dd>3111</dd><dt><span>long_name :</span></dt><dd>Trait-space weighted aerobic habitat</dd><dt><span>note :</span></dt><dd>corrected for drift in control integration</dd><dt><span>units :</span></dt><dd>10$^6$ m$^3$</dd></dl></div></li></ul></div></div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>

<span class="k">for</span> <span class="n">member_id</span> <span class="ow">in</span> <span class="n">aero_hab_glb</span><span class="o">.</span><span class="n">member_id</span><span class="o">.</span><span class="n">values</span><span class="p">:</span>
    <span class="n">aero_hab_glb</span><span class="o">.</span><span class="n">sel</span><span class="p">(</span><span class="n">member_id</span><span class="o">=</span><span class="n">member_id</span><span class="p">)</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">)</span>
    
<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Global ocean aerobic habitat volume&#39;</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/aerobic-habitat-trait-space_18_0.png" src="_images/aerobic-habitat-trait-space_18_0.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>

<span class="k">for</span> <span class="n">member_id</span> <span class="ow">in</span> <span class="n">aero_hab_glb</span><span class="o">.</span><span class="n">member_id</span><span class="o">.</span><span class="n">values</span><span class="p">:</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span>
        <span class="n">yrfrac</span><span class="p">,</span> <span class="n">aero_hab_glb_normalized</span><span class="o">.</span><span class="n">sel</span><span class="p">(</span><span class="n">member_id</span><span class="o">=</span><span class="n">member_id</span><span class="p">),</span> 
        <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;-&#39;</span><span class="p">,</span> 
        <span class="n">color</span><span class="o">=</span><span class="s1">&#39;gray&#39;</span><span class="p">,</span> 
        <span class="n">linewidth</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span>
    <span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">yrfrac</span><span class="p">,</span> <span class="n">aero_hab_glb_normalized</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="s1">&#39;member_id&#39;</span><span class="p">),</span> <span class="s1">&#39;-&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;k&#39;</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>    
<span class="n">ax</span><span class="o">.</span><span class="n">axhline</span><span class="p">(</span><span class="mf">0.</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;k&#39;</span><span class="p">)</span>    
<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Change in global ocean aerobic habitat&#39;</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/aerobic-habitat-trait-space_19_0.png" src="_images/aerobic-habitat-trait-space_19_0.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ds</span><span class="o">.</span><span class="n">depth_habitat_trait_wgt</span><span class="o">.</span><span class="n">isel</span><span class="p">(</span><span class="n">member_id</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">time</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;matplotlib.collections.QuadMesh at 0x2b92d5939850&gt;
</pre></div>
</div>
<img alt="_images/aerobic-habitat-trait-space_20_1.png" src="_images/aerobic-habitat-trait-space_20_1.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">habitat_contraction</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">ds</span><span class="o">.</span><span class="n">depth_habitat_trait_wgt</span><span class="o">.</span><span class="n">isel</span><span class="p">(</span><span class="n">time</span><span class="o">=</span><span class="n">tndx_2100</span><span class="p">)</span><span class="o">.</span><span class="n">mean</span><span class="p">([</span><span class="s1">&#39;time&#39;</span><span class="p">,</span> <span class="s1">&#39;member_id&#39;</span><span class="p">])</span> <span class="o">-</span>
    <span class="n">ds</span><span class="o">.</span><span class="n">depth_habitat_trait_wgt</span><span class="o">.</span><span class="n">isel</span><span class="p">(</span><span class="n">time</span><span class="o">=</span><span class="n">tndx_ref</span><span class="p">)</span><span class="o">.</span><span class="n">mean</span><span class="p">([</span><span class="s1">&#39;time&#39;</span><span class="p">,</span> <span class="s1">&#39;member_id&#39;</span><span class="p">])</span>
<span class="p">)</span><span class="o">.</span><span class="n">compute</span><span class="p">()</span>
<span class="n">habitat_contraction</span> <span class="o">/=</span> <span class="mf">1000e2</span>
<span class="n">habitat_contraction</span> <span class="o">*=</span> <span class="mf">100.0</span>
<span class="n">habitat_contraction</span><span class="o">.</span><span class="n">attrs</span><span class="p">[</span><span class="s1">&#39;long_name&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;Habitat change&#39;</span>
<span class="n">habitat_contraction</span><span class="o">.</span><span class="n">attrs</span><span class="p">[</span><span class="s1">&#39;units&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;%&#39;</span>
<span class="n">habitat_contraction</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;habitat_contraction&#39;</span>

<span class="n">habitat_contraction</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div><svg style="position: absolute; width: 0; height: 0; overflow: hidden">
<defs>
<symbol id="icon-database" viewBox="0 0 32 32">
<path d="M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z"></path>
<path d="M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
<path d="M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
</symbol>
<symbol id="icon-file-text2" viewBox="0 0 32 32">
<path d="M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z"></path>
<path d="M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
</symbol>
</defs>
</svg>
<style>/* CSS stylesheet for displaying xarray objects in jupyterlab.
 *
 */

:root {
  --xr-font-color0: var(--jp-content-font-color0, rgba(0, 0, 0, 1));
  --xr-font-color2: var(--jp-content-font-color2, rgba(0, 0, 0, 0.54));
  --xr-font-color3: var(--jp-content-font-color3, rgba(0, 0, 0, 0.38));
  --xr-border-color: var(--jp-border-color2, #e0e0e0);
  --xr-disabled-color: var(--jp-layout-color3, #bdbdbd);
  --xr-background-color: var(--jp-layout-color0, white);
  --xr-background-color-row-even: var(--jp-layout-color1, white);
  --xr-background-color-row-odd: var(--jp-layout-color2, #eeeeee);
}

html[theme=dark],
body.vscode-dark {
  --xr-font-color0: rgba(255, 255, 255, 1);
  --xr-font-color2: rgba(255, 255, 255, 0.54);
  --xr-font-color3: rgba(255, 255, 255, 0.38);
  --xr-border-color: #1F1F1F;
  --xr-disabled-color: #515151;
  --xr-background-color: #111111;
  --xr-background-color-row-even: #111111;
  --xr-background-color-row-odd: #313131;
}

.xr-wrap {
  display: block;
  min-width: 300px;
  max-width: 700px;
}

.xr-text-repr-fallback {
  /* fallback to plain text repr when CSS is not injected (untrusted notebook) */
  display: none;
}

.xr-header {
  padding-top: 6px;
  padding-bottom: 6px;
  margin-bottom: 4px;
  border-bottom: solid 1px var(--xr-border-color);
}

.xr-header > div,
.xr-header > ul {
  display: inline;
  margin-top: 0;
  margin-bottom: 0;
}

.xr-obj-type,
.xr-array-name {
  margin-left: 2px;
  margin-right: 10px;
}

.xr-obj-type {
  color: var(--xr-font-color2);
}

.xr-sections {
  padding-left: 0 !important;
  display: grid;
  grid-template-columns: 150px auto auto 1fr 20px 20px;
}

.xr-section-item {
  display: contents;
}

.xr-section-item input {
  display: none;
}

.xr-section-item input + label {
  color: var(--xr-disabled-color);
}

.xr-section-item input:enabled + label {
  cursor: pointer;
  color: var(--xr-font-color2);
}

.xr-section-item input:enabled + label:hover {
  color: var(--xr-font-color0);
}

.xr-section-summary {
  grid-column: 1;
  color: var(--xr-font-color2);
  font-weight: 500;
}

.xr-section-summary > span {
  display: inline-block;
  padding-left: 0.5em;
}

.xr-section-summary-in:disabled + label {
  color: var(--xr-font-color2);
}

.xr-section-summary-in + label:before {
  display: inline-block;
  content: '►';
  font-size: 11px;
  width: 15px;
  text-align: center;
}

.xr-section-summary-in:disabled + label:before {
  color: var(--xr-disabled-color);
}

.xr-section-summary-in:checked + label:before {
  content: '▼';
}

.xr-section-summary-in:checked + label > span {
  display: none;
}

.xr-section-summary,
.xr-section-inline-details {
  padding-top: 4px;
  padding-bottom: 4px;
}

.xr-section-inline-details {
  grid-column: 2 / -1;
}

.xr-section-details {
  display: none;
  grid-column: 1 / -1;
  margin-bottom: 5px;
}

.xr-section-summary-in:checked ~ .xr-section-details {
  display: contents;
}

.xr-array-wrap {
  grid-column: 1 / -1;
  display: grid;
  grid-template-columns: 20px auto;
}

.xr-array-wrap > label {
  grid-column: 1;
  vertical-align: top;
}

.xr-preview {
  color: var(--xr-font-color3);
}

.xr-array-preview,
.xr-array-data {
  padding: 0 5px !important;
  grid-column: 2;
}

.xr-array-data,
.xr-array-in:checked ~ .xr-array-preview {
  display: none;
}

.xr-array-in:checked ~ .xr-array-data,
.xr-array-preview {
  display: inline-block;
}

.xr-dim-list {
  display: inline-block !important;
  list-style: none;
  padding: 0 !important;
  margin: 0;
}

.xr-dim-list li {
  display: inline-block;
  padding: 0;
  margin: 0;
}

.xr-dim-list:before {
  content: '(';
}

.xr-dim-list:after {
  content: ')';
}

.xr-dim-list li:not(:last-child):after {
  content: ',';
  padding-right: 5px;
}

.xr-has-index {
  font-weight: bold;
}

.xr-var-list,
.xr-var-item {
  display: contents;
}

.xr-var-item > div,
.xr-var-item label,
.xr-var-item > .xr-var-name span {
  background-color: var(--xr-background-color-row-even);
  margin-bottom: 0;
}

.xr-var-item > .xr-var-name:hover span {
  padding-right: 5px;
}

.xr-var-list > li:nth-child(odd) > div,
.xr-var-list > li:nth-child(odd) > label,
.xr-var-list > li:nth-child(odd) > .xr-var-name span {
  background-color: var(--xr-background-color-row-odd);
}

.xr-var-name {
  grid-column: 1;
}

.xr-var-dims {
  grid-column: 2;
}

.xr-var-dtype {
  grid-column: 3;
  text-align: right;
  color: var(--xr-font-color2);
}

.xr-var-preview {
  grid-column: 4;
}

.xr-var-name,
.xr-var-dims,
.xr-var-dtype,
.xr-preview,
.xr-attrs dt {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  padding-right: 10px;
}

.xr-var-name:hover,
.xr-var-dims:hover,
.xr-var-dtype:hover,
.xr-attrs dt:hover {
  overflow: visible;
  width: auto;
  z-index: 1;
}

.xr-var-attrs,
.xr-var-data {
  display: none;
  background-color: var(--xr-background-color) !important;
  padding-bottom: 5px !important;
}

.xr-var-attrs-in:checked ~ .xr-var-attrs,
.xr-var-data-in:checked ~ .xr-var-data {
  display: block;
}

.xr-var-data > table {
  float: right;
}

.xr-var-name span,
.xr-var-data,
.xr-attrs {
  padding-left: 25px !important;
}

.xr-attrs,
.xr-var-attrs,
.xr-var-data {
  grid-column: 1 / -1;
}

dl.xr-attrs {
  padding: 0;
  margin: 0;
  display: grid;
  grid-template-columns: 125px auto;
}

.xr-attrs dt,
.xr-attrs dd {
  padding: 0;
  margin: 0;
  float: left;
  padding-right: 10px;
  width: auto;
}

.xr-attrs dt {
  font-weight: normal;
  grid-column: 1;
}

.xr-attrs dt:hover span {
  display: inline-block;
  background: var(--xr-background-color);
  padding-right: 10px;
}

.xr-attrs dd {
  grid-column: 2;
  white-space: pre-wrap;
  word-break: break-all;
}

.xr-icon-database,
.xr-icon-file-text2 {
  display: inline-block;
  vertical-align: middle;
  width: 1em;
  height: 1.5em !important;
  stroke-width: 0;
  stroke: currentColor;
  fill: currentColor;
}
</style><pre class='xr-text-repr-fallback'>&lt;xarray.DataArray &#x27;habitat_contraction&#x27; (nlat: 384, nlon: 320)&gt;
array([[        nan,         nan,         nan, ...,         nan,
                nan,         nan],
       [        nan,         nan,         nan, ...,         nan,
                nan,         nan],
       [-0.09018018, -0.09017314, -0.08997496, ...,         nan,
                nan,         nan],
       ...,
       [        nan,         nan,         nan, ...,         nan,
                nan,         nan],
       [        nan,         nan,         nan, ...,         nan,
                nan,         nan],
       [        nan,         nan,         nan, ...,         nan,
                nan,         nan]])
Coordinates:
    KMT      (nlat, nlon) float64 0.0 0.0 0.0 0.0 0.0 ... 0.0 0.0 0.0 0.0 0.0
    TAREA    (nlat, nlon) float64 1.125e+13 1.125e+13 ... 7.431e+12 7.432e+12
    TLAT     (nlat, nlon) float64 -79.22 -79.22 -79.22 ... 72.2 72.19 72.19
    TLONG    (nlat, nlon) float64 320.6 321.7 322.8 323.9 ... 318.9 319.4 319.8
    ULAT     (nlat, nlon) float64 -78.95 -78.95 -78.95 ... 72.42 72.41 72.41
    ULONG    (nlat, nlon) float64 321.1 322.3 323.4 324.5 ... 319.2 319.6 320.0
Dimensions without coordinates: nlat, nlon
Attributes:
    long_name:  Habitat change
    units:      %</pre><div class='xr-wrap' hidden><div class='xr-header'><div class='xr-obj-type'>xarray.DataArray</div><div class='xr-array-name'>'habitat_contraction'</div><ul class='xr-dim-list'><li><span>nlat</span>: 384</li><li><span>nlon</span>: 320</li></ul></div><ul class='xr-sections'><li class='xr-section-item'><div class='xr-array-wrap'><input id='section-a0e3247d-094f-4527-867f-a54f8942ce96' class='xr-array-in' type='checkbox' checked><label for='section-a0e3247d-094f-4527-867f-a54f8942ce96' title='Show/hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-array-preview xr-preview'><span>nan nan nan nan nan nan nan nan ... nan nan nan nan nan nan nan nan</span></div><div class='xr-array-data'><pre>array([[        nan,         nan,         nan, ...,         nan,
                nan,         nan],
       [        nan,         nan,         nan, ...,         nan,
                nan,         nan],
       [-0.09018018, -0.09017314, -0.08997496, ...,         nan,
                nan,         nan],
       ...,
       [        nan,         nan,         nan, ...,         nan,
                nan,         nan],
       [        nan,         nan,         nan, ...,         nan,
                nan,         nan],
       [        nan,         nan,         nan, ...,         nan,
                nan,         nan]])</pre></div></div></li><li class='xr-section-item'><input id='section-3d09620b-c10c-4672-8348-2e85c2c72c24' class='xr-section-summary-in' type='checkbox'  checked><label for='section-3d09620b-c10c-4672-8348-2e85c2c72c24' class='xr-section-summary' >Coordinates: <span>(6)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span>KMT</span></div><div class='xr-var-dims'>(nlat, nlon)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>0.0 0.0 0.0 0.0 ... 0.0 0.0 0.0 0.0</div><input id='attrs-6fee246b-d117-4e15-b9af-c84924e39cdc' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-6fee246b-d117-4e15-b9af-c84924e39cdc' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-0e168ab4-8ed8-4cd8-8d19-958623f33ad6' class='xr-var-data-in' type='checkbox'><label for='data-0e168ab4-8ed8-4cd8-8d19-958623f33ad6' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>k Index of Deepest Grid Cell on T Grid</dd></dl></div><div class='xr-var-data'><pre>array([[ 0.,  0.,  0., ...,  0.,  0.,  0.],
       [ 0.,  0.,  0., ...,  0.,  0.,  0.],
       [38., 38., 38., ...,  0.,  0.,  0.],
       ...,
       [ 0.,  0.,  0., ...,  0.,  0.,  0.],
       [ 0.,  0.,  0., ...,  0.,  0.,  0.],
       [ 0.,  0.,  0., ...,  0.,  0.,  0.]])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>TAREA</span></div><div class='xr-var-dims'>(nlat, nlon)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>1.125e+13 1.125e+13 ... 7.432e+12</div><input id='attrs-bf05d72b-a7dc-43b2-87bf-d128337d9342' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-bf05d72b-a7dc-43b2-87bf-d128337d9342' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-d4aae47e-fe3a-46fb-aed7-7c3d7b204dd2' class='xr-var-data-in' type='checkbox'><label for='data-d4aae47e-fe3a-46fb-aed7-7c3d7b204dd2' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>area of T cells</dd><dt><span>units :</span></dt><dd>centimeter^2</dd></dl></div><div class='xr-var-data'><pre>array([[1.12478609e+13, 1.12464644e+13, 1.12436015e+13, ...,
        1.12436015e+13, 1.12464644e+13, 1.12478609e+13],
       [1.45745047e+13, 1.45745047e+13, 1.45745047e+13, ...,
        1.45745047e+13, 1.45745047e+13, 1.45745047e+13],
       [1.52530781e+13, 1.52530781e+13, 1.52530781e+13, ...,
        1.52530781e+13, 1.52530781e+13, 1.52530781e+13],
       ...,
       [8.81450970e+12, 8.81311214e+12, 8.81016095e+12, ...,
        8.81016095e+12, 8.81311214e+12, 8.81450970e+12],
       [8.13997430e+12, 8.13851312e+12, 8.13544719e+12, ...,
        8.13544719e+12, 8.13851312e+12, 8.13997430e+12],
       [7.43222977e+12, 7.43072723e+12, 7.42759165e+12, ...,
        7.42759165e+12, 7.43072723e+12, 7.43222977e+12]])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>TLAT</span></div><div class='xr-var-dims'>(nlat, nlon)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>-79.22 -79.22 ... 72.19 72.19</div><input id='attrs-d88ee8ec-39b1-4b5e-9b8a-1c542c4f58c3' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-d88ee8ec-39b1-4b5e-9b8a-1c542c4f58c3' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-72e80d57-3fc6-45f2-b114-c1d6d1e069db' class='xr-var-data-in' type='checkbox'><label for='data-72e80d57-3fc6-45f2-b114-c1d6d1e069db' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>array of t-grid latitudes</dd><dt><span>units :</span></dt><dd>degrees_north</dd></dl></div><div class='xr-var-data'><pre>array([[-79.22052261, -79.22052261, -79.22052261, ..., -79.22052261,
        -79.22052261, -79.22052261],
       [-78.68630626, -78.68630626, -78.68630626, ..., -78.68630626,
        -78.68630626, -78.68630626],
       [-78.15208992, -78.15208992, -78.15208992, ..., -78.15208992,
        -78.15208992, -78.15208992],
       ...,
       [ 71.29031715,  71.29408252,  71.30160692, ...,  71.30160692,
         71.29408252,  71.29031716],
       [ 71.73524335,  71.73881845,  71.74596231, ...,  71.74596231,
         71.73881845,  71.73524335],
       [ 72.18597561,  72.18933231,  72.19603941, ...,  72.19603941,
         72.18933231,  72.18597562]])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>TLONG</span></div><div class='xr-var-dims'>(nlat, nlon)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>320.6 321.7 322.8 ... 319.4 319.8</div><input id='attrs-77924b4c-84a2-463a-a2f1-d6e73c196389' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-77924b4c-84a2-463a-a2f1-d6e73c196389' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-7d2c4827-63c5-4219-8ad4-66ff2e30a6f5' class='xr-var-data-in' type='checkbox'><label for='data-7d2c4827-63c5-4219-8ad4-66ff2e30a6f5' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>array of t-grid longitudes</dd><dt><span>units :</span></dt><dd>degrees_east</dd></dl></div><div class='xr-var-data'><pre>array([[320.56250892, 321.68750895, 322.81250898, ..., 317.18750883,
        318.31250886, 319.43750889],
       [320.56250892, 321.68750895, 322.81250898, ..., 317.18750883,
        318.31250886, 319.43750889],
       [320.56250892, 321.68750895, 322.81250898, ..., 317.18750883,
        318.31250886, 319.43750889],
       ...,
       [320.25133086, 320.75380113, 321.25577325, ..., 318.74424456,
        319.24621668, 319.74869143],
       [320.23459477, 320.70358949, 321.17207442, ..., 318.82794339,
        319.29642832, 319.76542721],
       [320.21650899, 320.6493303 , 321.08163473, ..., 318.91838308,
        319.3506875 , 319.78351267]])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>ULAT</span></div><div class='xr-var-dims'>(nlat, nlon)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>-78.95 -78.95 ... 72.41 72.41</div><input id='attrs-49c2f115-af17-4cd0-8b67-acb476d350a7' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-49c2f115-af17-4cd0-8b67-acb476d350a7' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-9f7762f2-3498-4a11-b99b-b967e076c433' class='xr-var-data-in' type='checkbox'><label for='data-9f7762f2-3498-4a11-b99b-b967e076c433' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>array of u-grid latitudes</dd><dt><span>units :</span></dt><dd>degrees_north</dd></dl></div><div class='xr-var-data'><pre>array([[-78.95289509, -78.95289509, -78.95289509, ..., -78.95289509,
        -78.95289509, -78.95289509],
       [-78.41865507, -78.41865507, -78.41865507, ..., -78.41865507,
        -78.41865507, -78.41865507],
       [-77.88441506, -77.88441506, -77.88441506, ..., -77.88441506,
        -77.88441506, -77.88441506],
       ...,
       [ 71.51215224,  71.51766482,  71.52684191, ...,  71.51766482,
         71.51215224,  71.51031365],
       [ 71.95983548,  71.96504258,  71.97371054, ...,  71.96504258,
         71.95983548,  71.95809872],
       [ 72.4135549 ,  72.41841155,  72.42649554, ...,  72.41841155,
         72.4135549 ,  72.41193498]])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>ULONG</span></div><div class='xr-var-dims'>(nlat, nlon)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>321.1 322.3 323.4 ... 319.6 320.0</div><input id='attrs-20d65259-3cd1-4fc3-93f9-a1b4823c04c8' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-20d65259-3cd1-4fc3-93f9-a1b4823c04c8' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-269b90b6-cdd0-4104-9663-9907af610556' class='xr-var-data-in' type='checkbox'><label for='data-269b90b6-cdd0-4104-9663-9907af610556' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>array of u-grid longitudes</dd><dt><span>units :</span></dt><dd>degrees_east</dd></dl></div><div class='xr-var-data'><pre>array([[321.12500894, 322.25000897, 323.375009  , ..., 317.75000884,
        318.87500887, 320.0000089 ],
       [321.12500894, 322.25000897, 323.375009  , ..., 317.75000884,
        318.87500887, 320.0000089 ],
       [321.12500894, 322.25000897, 323.375009  , ..., 317.75000884,
        318.87500887, 320.0000089 ],
       ...,
       [320.48637802, 320.97240884, 321.4577638 , ..., 319.02760897,
        319.51363979, 320.00001324],
       [320.45160767, 320.90286181, 321.35342745, ..., 319.097156  ,
        319.54841014, 320.00001293],
       [320.41397858, 320.82760085, 321.24052915, ..., 319.17241696,
        319.58603923, 320.00001259]])</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-916b6a70-b926-4477-bcbb-8e43bbb7e0ef' class='xr-section-summary-in' type='checkbox'  checked><label for='section-916b6a70-b926-4477-bcbb-8e43bbb7e0ef' class='xr-section-summary' >Attributes: <span>(2)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>Habitat change</dd><dt><span>units :</span></dt><dd>%</dd></dl></div></li></ul></div></div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">habitat_contraction</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;matplotlib.collections.QuadMesh at 0x2b92c663c550&gt;
</pre></div>
</div>
<img alt="_images/aerobic-habitat-trait-space_22_1.png" src="_images/aerobic-habitat-trait-space_22_1.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ds_plot</span> <span class="o">=</span> <span class="n">util</span><span class="o">.</span><span class="n">pop_add_cyclic</span><span class="p">(</span><span class="n">habitat_contraction</span><span class="o">.</span><span class="n">to_dataset</span><span class="p">())</span>
<span class="n">ds_plot</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div><svg style="position: absolute; width: 0; height: 0; overflow: hidden">
<defs>
<symbol id="icon-database" viewBox="0 0 32 32">
<path d="M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z"></path>
<path d="M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
<path d="M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
</symbol>
<symbol id="icon-file-text2" viewBox="0 0 32 32">
<path d="M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z"></path>
<path d="M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
</symbol>
</defs>
</svg>
<style>/* CSS stylesheet for displaying xarray objects in jupyterlab.
 *
 */

:root {
  --xr-font-color0: var(--jp-content-font-color0, rgba(0, 0, 0, 1));
  --xr-font-color2: var(--jp-content-font-color2, rgba(0, 0, 0, 0.54));
  --xr-font-color3: var(--jp-content-font-color3, rgba(0, 0, 0, 0.38));
  --xr-border-color: var(--jp-border-color2, #e0e0e0);
  --xr-disabled-color: var(--jp-layout-color3, #bdbdbd);
  --xr-background-color: var(--jp-layout-color0, white);
  --xr-background-color-row-even: var(--jp-layout-color1, white);
  --xr-background-color-row-odd: var(--jp-layout-color2, #eeeeee);
}

html[theme=dark],
body.vscode-dark {
  --xr-font-color0: rgba(255, 255, 255, 1);
  --xr-font-color2: rgba(255, 255, 255, 0.54);
  --xr-font-color3: rgba(255, 255, 255, 0.38);
  --xr-border-color: #1F1F1F;
  --xr-disabled-color: #515151;
  --xr-background-color: #111111;
  --xr-background-color-row-even: #111111;
  --xr-background-color-row-odd: #313131;
}

.xr-wrap {
  display: block;
  min-width: 300px;
  max-width: 700px;
}

.xr-text-repr-fallback {
  /* fallback to plain text repr when CSS is not injected (untrusted notebook) */
  display: none;
}

.xr-header {
  padding-top: 6px;
  padding-bottom: 6px;
  margin-bottom: 4px;
  border-bottom: solid 1px var(--xr-border-color);
}

.xr-header > div,
.xr-header > ul {
  display: inline;
  margin-top: 0;
  margin-bottom: 0;
}

.xr-obj-type,
.xr-array-name {
  margin-left: 2px;
  margin-right: 10px;
}

.xr-obj-type {
  color: var(--xr-font-color2);
}

.xr-sections {
  padding-left: 0 !important;
  display: grid;
  grid-template-columns: 150px auto auto 1fr 20px 20px;
}

.xr-section-item {
  display: contents;
}

.xr-section-item input {
  display: none;
}

.xr-section-item input + label {
  color: var(--xr-disabled-color);
}

.xr-section-item input:enabled + label {
  cursor: pointer;
  color: var(--xr-font-color2);
}

.xr-section-item input:enabled + label:hover {
  color: var(--xr-font-color0);
}

.xr-section-summary {
  grid-column: 1;
  color: var(--xr-font-color2);
  font-weight: 500;
}

.xr-section-summary > span {
  display: inline-block;
  padding-left: 0.5em;
}

.xr-section-summary-in:disabled + label {
  color: var(--xr-font-color2);
}

.xr-section-summary-in + label:before {
  display: inline-block;
  content: '►';
  font-size: 11px;
  width: 15px;
  text-align: center;
}

.xr-section-summary-in:disabled + label:before {
  color: var(--xr-disabled-color);
}

.xr-section-summary-in:checked + label:before {
  content: '▼';
}

.xr-section-summary-in:checked + label > span {
  display: none;
}

.xr-section-summary,
.xr-section-inline-details {
  padding-top: 4px;
  padding-bottom: 4px;
}

.xr-section-inline-details {
  grid-column: 2 / -1;
}

.xr-section-details {
  display: none;
  grid-column: 1 / -1;
  margin-bottom: 5px;
}

.xr-section-summary-in:checked ~ .xr-section-details {
  display: contents;
}

.xr-array-wrap {
  grid-column: 1 / -1;
  display: grid;
  grid-template-columns: 20px auto;
}

.xr-array-wrap > label {
  grid-column: 1;
  vertical-align: top;
}

.xr-preview {
  color: var(--xr-font-color3);
}

.xr-array-preview,
.xr-array-data {
  padding: 0 5px !important;
  grid-column: 2;
}

.xr-array-data,
.xr-array-in:checked ~ .xr-array-preview {
  display: none;
}

.xr-array-in:checked ~ .xr-array-data,
.xr-array-preview {
  display: inline-block;
}

.xr-dim-list {
  display: inline-block !important;
  list-style: none;
  padding: 0 !important;
  margin: 0;
}

.xr-dim-list li {
  display: inline-block;
  padding: 0;
  margin: 0;
}

.xr-dim-list:before {
  content: '(';
}

.xr-dim-list:after {
  content: ')';
}

.xr-dim-list li:not(:last-child):after {
  content: ',';
  padding-right: 5px;
}

.xr-has-index {
  font-weight: bold;
}

.xr-var-list,
.xr-var-item {
  display: contents;
}

.xr-var-item > div,
.xr-var-item label,
.xr-var-item > .xr-var-name span {
  background-color: var(--xr-background-color-row-even);
  margin-bottom: 0;
}

.xr-var-item > .xr-var-name:hover span {
  padding-right: 5px;
}

.xr-var-list > li:nth-child(odd) > div,
.xr-var-list > li:nth-child(odd) > label,
.xr-var-list > li:nth-child(odd) > .xr-var-name span {
  background-color: var(--xr-background-color-row-odd);
}

.xr-var-name {
  grid-column: 1;
}

.xr-var-dims {
  grid-column: 2;
}

.xr-var-dtype {
  grid-column: 3;
  text-align: right;
  color: var(--xr-font-color2);
}

.xr-var-preview {
  grid-column: 4;
}

.xr-var-name,
.xr-var-dims,
.xr-var-dtype,
.xr-preview,
.xr-attrs dt {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  padding-right: 10px;
}

.xr-var-name:hover,
.xr-var-dims:hover,
.xr-var-dtype:hover,
.xr-attrs dt:hover {
  overflow: visible;
  width: auto;
  z-index: 1;
}

.xr-var-attrs,
.xr-var-data {
  display: none;
  background-color: var(--xr-background-color) !important;
  padding-bottom: 5px !important;
}

.xr-var-attrs-in:checked ~ .xr-var-attrs,
.xr-var-data-in:checked ~ .xr-var-data {
  display: block;
}

.xr-var-data > table {
  float: right;
}

.xr-var-name span,
.xr-var-data,
.xr-attrs {
  padding-left: 25px !important;
}

.xr-attrs,
.xr-var-attrs,
.xr-var-data {
  grid-column: 1 / -1;
}

dl.xr-attrs {
  padding: 0;
  margin: 0;
  display: grid;
  grid-template-columns: 125px auto;
}

.xr-attrs dt,
.xr-attrs dd {
  padding: 0;
  margin: 0;
  float: left;
  padding-right: 10px;
  width: auto;
}

.xr-attrs dt {
  font-weight: normal;
  grid-column: 1;
}

.xr-attrs dt:hover span {
  display: inline-block;
  background: var(--xr-background-color);
  padding-right: 10px;
}

.xr-attrs dd {
  grid-column: 2;
  white-space: pre-wrap;
  word-break: break-all;
}

.xr-icon-database,
.xr-icon-file-text2 {
  display: inline-block;
  vertical-align: middle;
  width: 1em;
  height: 1.5em !important;
  stroke-width: 0;
  stroke: currentColor;
  fill: currentColor;
}
</style><pre class='xr-text-repr-fallback'>&lt;xarray.Dataset&gt;
Dimensions:              (nlat: 384, nlon: 321)
Dimensions without coordinates: nlat, nlon
Data variables:
    TLAT                 (nlat, nlon) float64 -79.22 -79.22 ... 80.31 80.31
    TLONG                (nlat, nlon) float64 -220.6 -219.4 ... -39.57 -39.86
    habitat_contraction  (nlat, nlon) float64 nan nan nan nan ... nan nan nan</pre><div class='xr-wrap' hidden><div class='xr-header'><div class='xr-obj-type'>xarray.Dataset</div></div><ul class='xr-sections'><li class='xr-section-item'><input id='section-d37d19ae-7a3d-4b93-bcb1-be338a1cf2bc' class='xr-section-summary-in' type='checkbox' disabled ><label for='section-d37d19ae-7a3d-4b93-bcb1-be338a1cf2bc' class='xr-section-summary'  title='Expand/collapse section'>Dimensions:</label><div class='xr-section-inline-details'><ul class='xr-dim-list'><li><span>nlat</span>: 384</li><li><span>nlon</span>: 321</li></ul></div><div class='xr-section-details'></div></li><li class='xr-section-item'><input id='section-a34d0432-7a54-4e20-bf1a-b995b1d33aba' class='xr-section-summary-in' type='checkbox' disabled ><label for='section-a34d0432-7a54-4e20-bf1a-b995b1d33aba' class='xr-section-summary'  title='Expand/collapse section'>Coordinates: <span>(0)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'></ul></div></li><li class='xr-section-item'><input id='section-207c6c43-d83c-4b62-a848-a4e2cf14c19f' class='xr-section-summary-in' type='checkbox'  checked><label for='section-207c6c43-d83c-4b62-a848-a4e2cf14c19f' class='xr-section-summary' >Data variables: <span>(3)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span>TLAT</span></div><div class='xr-var-dims'>(nlat, nlon)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>-79.22 -79.22 ... 80.31 80.31</div><input id='attrs-0ccb60a5-8308-4d65-84b1-3cf4a9c16bd3' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-0ccb60a5-8308-4d65-84b1-3cf4a9c16bd3' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-965b7ed9-e39c-47b7-b67c-93dc541b5c2d' class='xr-var-data-in' type='checkbox'><label for='data-965b7ed9-e39c-47b7-b67c-93dc541b5c2d' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([[-79.22052261, -79.22052261, -79.22052261, ..., -79.22052261,
        -79.22052261, -79.22052261],
       [-78.68630626, -78.68630626, -78.68630626, ..., -78.68630626,
        -78.68630626, -78.68630626],
       [-78.15208992, -78.15208992, -78.15208992, ..., -78.15208992,
        -78.15208992, -78.15208992],
       ...,
       [ 81.44584238,  81.44584238,  81.44466079, ...,  81.44229771,
         81.44466079,  81.44584238],
       [ 80.87803543,  80.87803543,  80.87705778, ...,  80.87510244,
         80.87705778,  80.87803543],
       [ 80.31321311,  80.31321311,  80.31241206, ...,  80.31080987,
         80.31241206,  80.31321311]])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>TLONG</span></div><div class='xr-var-dims'>(nlat, nlon)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>-220.6 -219.4 ... -39.57 -39.86</div><input id='attrs-53417111-689f-4789-83d1-95266a1eb7e6' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-53417111-689f-4789-83d1-95266a1eb7e6' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-02bd0572-ff2c-4007-974f-ffe9d62a1afb' class='xr-var-data-in' type='checkbox'><label for='data-02bd0572-ff2c-4007-974f-ffe9d62a1afb' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([[-220.56249613, -219.43749609, -218.31249606, ...,  137.18750382,
         138.31250385,  139.43750388],
       [-220.56249613, -219.43749609, -218.31249606, ...,  137.18750382,
         138.31250385,  139.43750388],
       [-220.56249613, -219.43749609, -218.31249606, ...,  137.18750382,
         138.31250385,  139.43750388],
       ...,
       [ -39.7932723 ,  -40.20670806,  -40.62006565, ...,  -38.96679888,
         -39.37991654,  -39.79327229],
       [ -39.82753619,  -40.17244447,  -40.51730173, ...,  -39.13798089,
         -39.48268046,  -39.82753618],
       [ -39.85740526,  -40.14257567,  -40.42771349, ...,  -39.28723255,
         -39.5722687 ,  -39.85740525]])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>habitat_contraction</span></div><div class='xr-var-dims'>(nlat, nlon)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>nan nan nan nan ... nan nan nan nan</div><input id='attrs-395c3dad-06f5-4945-aecd-2e96e4d8d4df' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-395c3dad-06f5-4945-aecd-2e96e4d8d4df' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-e64b43b2-f0ca-48b1-b057-de796884cdb8' class='xr-var-data-in' type='checkbox'><label for='data-e64b43b2-f0ca-48b1-b057-de796884cdb8' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>Habitat change</dd><dt><span>units :</span></dt><dd>%</dd></dl></div><div class='xr-var-data'><pre>array([[nan, nan, nan, ..., nan, nan, nan],
       [nan, nan, nan, ..., nan, nan, nan],
       [nan, nan, nan, ..., nan, nan, nan],
       ...,
       [nan, nan, nan, ..., nan, nan, nan],
       [nan, nan, nan, ..., nan, nan, nan],
       [nan, nan, nan, ..., nan, nan, nan]])</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-e5672294-6a3f-4ca3-8dc4-0b2248be5793' class='xr-section-summary-in' type='checkbox' disabled ><label for='section-e5672294-6a3f-4ca3-8dc4-0b2248be5793' class='xr-section-summary'  title='Expand/collapse section'>Attributes: <span>(0)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><dl class='xr-attrs'></dl></div></li></ul></div></div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">prj</span> <span class="o">=</span> <span class="n">ccrs</span><span class="o">.</span><span class="n">Robinson</span><span class="p">(</span><span class="n">central_longitude</span><span class="o">=</span><span class="mf">305.0</span><span class="p">)</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">8</span><span class="p">),</span> <span class="n">subplot_kw</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">projection</span><span class="o">=</span><span class="n">prj</span><span class="p">))</span>


<span class="n">cmap</span> <span class="o">=</span> <span class="n">cmocean</span><span class="o">.</span><span class="n">cm</span><span class="o">.</span><span class="n">curl_r</span>

<span class="n">pc</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">contourf</span><span class="p">(</span><span class="n">ds_plot</span><span class="o">.</span><span class="n">TLONG</span><span class="p">,</span>
                 <span class="n">ds_plot</span><span class="o">.</span><span class="n">TLAT</span><span class="p">,</span>
                 <span class="n">ds_plot</span><span class="o">.</span><span class="n">habitat_contraction</span><span class="p">,</span>
                 <span class="n">levels</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="o">-</span><span class="mi">40</span><span class="p">,</span> <span class="mi">42</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span>
                 <span class="n">cmap</span><span class="o">=</span><span class="n">cmap</span><span class="p">,</span>
                 <span class="n">transform</span><span class="o">=</span><span class="n">ccrs</span><span class="o">.</span><span class="n">PlateCarree</span><span class="p">())</span>
    
<span class="n">land</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">add_feature</span><span class="p">(</span>
    <span class="n">cartopy</span><span class="o">.</span><span class="n">feature</span><span class="o">.</span><span class="n">NaturalEarthFeature</span><span class="p">(</span>
        <span class="s1">&#39;physical&#39;</span><span class="p">,</span><span class="s1">&#39;land&#39;</span><span class="p">,</span><span class="s1">&#39;110m&#39;</span><span class="p">,</span>
        <span class="n">edgecolor</span><span class="o">=</span><span class="s1">&#39;face&#39;</span><span class="p">,</span>
        <span class="n">facecolor</span><span class="o">=</span><span class="s1">&#39;lightgray&#39;</span>
    <span class="p">)</span>
<span class="p">)</span>        
<span class="n">plt</span><span class="o">.</span><span class="n">colorbar</span><span class="p">(</span><span class="n">pc</span><span class="p">,</span> <span class="n">shrink</span><span class="o">=</span><span class="mf">0.5</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/glade/work/mclong/miniconda3/envs/metabolic/lib/python3.7/site-packages/cartopy/crs.py:228: ShapelyDeprecationWarning: __len__ for multi-part geometries is deprecated and will be removed in Shapely 2.0. Check the length of the `geoms` property instead to get the  number of parts of a multi-part geometry.
  if len(multi_line_string) &gt; 1:
/glade/work/mclong/miniconda3/envs/metabolic/lib/python3.7/site-packages/cartopy/crs.py:280: ShapelyDeprecationWarning: Iteration over multi-part geometries is deprecated and will be removed in Shapely 2.0. Use the `geoms` property to access the constituent parts of a multi-part geometry.
  for line in multi_line_string:
/glade/work/mclong/miniconda3/envs/metabolic/lib/python3.7/site-packages/cartopy/crs.py:347: ShapelyDeprecationWarning: __len__ for multi-part geometries is deprecated and will be removed in Shapely 2.0. Check the length of the `geoms` property instead to get the  number of parts of a multi-part geometry.
  if len(p_mline) &gt; 0:
/glade/work/mclong/miniconda3/envs/metabolic/lib/python3.7/site-packages/cartopy/crs.py:239: ShapelyDeprecationWarning: Iteration over multi-part geometries is deprecated and will be removed in Shapely 2.0. Use the `geoms` property to access the constituent parts of a multi-part geometry.
  line_strings = list(multi_line_string)
/glade/work/mclong/miniconda3/envs/metabolic/lib/python3.7/site-packages/cartopy/crs.py:239: ShapelyDeprecationWarning: __len__ for multi-part geometries is deprecated and will be removed in Shapely 2.0. Check the length of the `geoms` property instead to get the  number of parts of a multi-part geometry.
  line_strings = list(multi_line_string)
/glade/work/mclong/miniconda3/envs/metabolic/lib/python3.7/site-packages/cartopy/crs.py:385: ShapelyDeprecationWarning: Iteration over multi-part geometries is deprecated and will be removed in Shapely 2.0. Use the `geoms` property to access the constituent parts of a multi-part geometry.
  line_strings.extend(multi_line_string)
/glade/work/mclong/miniconda3/envs/metabolic/lib/python3.7/site-packages/cartopy/crs.py:385: ShapelyDeprecationWarning: __len__ for multi-part geometries is deprecated and will be removed in Shapely 2.0. Check the length of the `geoms` property instead to get the  number of parts of a multi-part geometry.
  line_strings.extend(multi_line_string)
</pre></div>
</div>
<img alt="_images/aerobic-habitat-trait-space_24_1.png" src="_images/aerobic-habitat-trait-space_24_1.png" />
</div>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "conda-env-miniconda3-metabolic-py"
        },
        kernelOptions: {
            kernelName: "conda-env-miniconda3-metabolic-py",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'conda-env-miniconda3-metabolic-py'</script>

              </div>
              
            
                <!-- Previous / next buttons -->
<div class='prev-next-area'>
</div>
            
        </div>
    </div>
    <footer class="footer">
  <p>
    
      By Matthew C. Long, Curtis Deutsch, Precious Mongwe<br/>
    
        &copy; Copyright 2022.<br/>
  </p>
</footer>
</main>


      </div>
    </div>
  
  <script src="_static/js/index.be7d3bbb2ef33a8344ce.js"></script>

  </body>
</html>